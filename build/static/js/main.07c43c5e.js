/*! For license information please see main.07c43c5e.js.LICENSE.txt */
!function(){var t={757:function(t,e,n){t.exports=n(727)},725:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,o){for(var a,s,u=i(t),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(e){s=e(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(u[s[h]]=a[s[h]])}}return u}},950:function(t){t.exports=function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/s+h)),Math.min(o,Math.floor(r+(s-u)*c/s+h)),a)}var f=n[r],d=i,p=o;for(e(n,i,r),a(n[o],f)>0&&e(n,i,o);d<p;){for(e(n,d,p),d++,p--;a(n[d],f)<0;)d++;for(;a(n[p],f)>0;)p--}0===a(n[i],f)?e(n,i,p):e(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!d(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;d(t,s)&&(e.leaf?n.push(a):f(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!d(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(d(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf){var c=i(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!f(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=p(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=p([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));v(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);v(t,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var d=Math.min(f+u-1,h);i.children.push(this._build(t,f,d,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),h=(f=t,d=u,(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-l);h<o?(o=h,i=l<i?l:i,a=u):h===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}var f,d;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=p(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=p([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,s,u,l,h,f=1/0,d=1/0,p=e;p<=n-e;p++){var v=a(t,0,p,this.toBBox),g=a(t,p,n,this.toBBox),y=(i=v,o=g,s=void 0,u=void 0,l=void 0,h=void 0,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,h-u)),m=c(v)+c(g);y<f?(f=y,r=p,d=m<d?m:d):y===f&&m<d&&(d=m,r=p)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),u=a(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var f=t.children[c];s(o,t.leaf?i(f):f),l+=h(o)}for(var d=n-e-1;d>=e;d--){var p=t.children[d];s(u,t.leaf?i(p):p),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},463:function(t,e,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=y.hasOwnProperty(e)?y[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(v,t)||!d.call(p,t)&&(f.test(t)?v[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(m,_);y[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(m,_);y[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(m,_);y[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,k=60106,E=60107,S=60108,C=60114,T=60109,I=60110,O=60112,A=60113,R=60120,P=60115,L=60116,N=60121,D=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;x=z("react.element"),k=z("react.portal"),E=z("react.fragment"),S=z("react.strict_mode"),C=z("react.profiler"),T=z("react.provider"),I=z("react.context"),O=z("react.forward_ref"),A=z("react.suspense"),R=z("react.suspense_list"),P=z("react.memo"),L=z("react.lazy"),N=z("react.block"),z("react.scope"),D=z("react.opaque.id"),M=z("react.debug_trace_mode"),j=z("react.offscreen"),F=z("react.legacy_hidden")}var V,U="function"===typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=U&&t[U]||t["@@iterator"])?t:null}function W(t){if(void 0===V)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var G=!1;function q(t,e){if(!t||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?W(t):""}function H(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=q(t.type,!1);case 11:return t=q(t.type.render,!1);case 22:return t=q(t.type._render,!1);case 1:return t=q(t.type,!0);default:return""}}function K(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case k:return"Portal";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case O:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case P:return K(t.type);case N:return K(t._render);case L:e=t._payload,t=t._init;try{return K(t(e))}catch(n){}}return null}function X(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Y(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=Y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function $(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=X(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=X(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,X(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&$(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+X(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:X(n)}}function lt(t,e){var n=X(e.value),r=X(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,gt,yt=(gt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return gt(t,e)}))}:gt);function mt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var _t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||_t.hasOwnProperty(t)&&_t[t]?(""+e).trim():e+"px"}function xt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(_t).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_t[e]=_t[t]}))}));var kt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Et(t,e){if(e){if(kt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ct(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Tt=null,It=null,Ot=null;function At(t){if(t=ri(t)){if("function"!==typeof Tt)throw Error(a(280));var e=t.stateNode;e&&(e=oi(e),Tt(t.stateNode,t.type,e))}}function Rt(t){It?Ot?Ot.push(t):Ot=[t]:It=t}function Pt(){if(It){var t=It,e=Ot;if(Ot=It=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Lt(t,e){return t(e)}function Nt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Mt=Lt,jt=!1,Ft=!1;function zt(){null===It&&null===Ot||(Dt(),Pt())}function Vt(t,e){var n=t.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Ut=!1;if(h)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(gt){Ut=!1}function Wt(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Gt=!1,qt=null,Ht=!1,Kt=null,Xt={onError:function(t){Gt=!0,qt=t}};function Yt(t,e,n,r,i,o,a,s,u){Gt=!1,qt=null,Wt.apply(Xt,arguments)}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Qt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function $t(t){if(Zt(t)!==t)throw Error(a(188))}function Jt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $t(i),t;if(o===r)return $t(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,le=null,ce=new Map,he=new Map,fe=[],de="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function ge(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=pe(e,n,r,i,o),null!==e&&(null!==(e=ri(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ye(t){var e=ni(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Qt(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function me(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ri(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function _e(t,e,n){me(t)&&n.delete(e)}function be(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ri(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&me(se)&&(se=null),null!==ue&&me(ue)&&(ue=null),null!==le&&me(le)&&(le=null),ce.forEach(_e),he.forEach(_e)}function we(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,be)))}function xe(t){function e(e){return we(e,t)}if(0<ae.length){we(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&we(se,t),null!==ue&&we(ue,t),null!==le&&we(le,t),ce.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ye(n),null===n.blockedOn&&fe.shift()}function ke(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ee={animationend:ke("Animation","AnimationEnd"),animationiteration:ke("Animation","AnimationIteration"),animationstart:ke("Animation","AnimationStart"),transitionend:ke("Transition","TransitionEnd")},Se={},Ce={};function Te(t){if(Se[t])return Se[t];if(!Ee[t])return t;var e,n=Ee[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ce)return Se[t]=n[e];return t}h&&(Ce=document.createElement("div").style,"AnimationEvent"in window||(delete Ee.animationend.animation,delete Ee.animationiteration.animation,delete Ee.animationstart.animation),"TransitionEvent"in window||delete Ee.transitionend.transition);var Ie=Te("animationend"),Oe=Te("animationiteration"),Ae=Te("animationstart"),Re=Te("transitionend"),Pe=new Map,Le=new Map,Ne=["abort","abort",Ie,"animationEnd",Oe,"animationIteration",Ae,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Re,"transitionEnd","waiting","waiting"];function De(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Le.set(r,e),Pe.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Me=8;function je(t){if(0!==(1&t))return Me=15,1;if(0!==(2&t))return Me=14,2;if(0!==(4&t))return Me=13,4;var e=24&t;return 0!==e?(Me=12,e):0!==(32&t)?(Me=11,32):0!==(e=192&t)?(Me=10,e):0!==(256&t)?(Me=9,256):0!==(e=3584&t)?(Me=8,e):0!==(4096&t)?(Me=7,4096):0!==(e=4186112&t)?(Me=6,e):0!==(e=62914560&t)?(Me=5,e):67108864&t?(Me=4,67108864):0!==(134217728&t)?(Me=3,134217728):0!==(e=805306368&t)?(Me=2,e):0!==(1073741824&t)?(Me=1,1073741824):(Me=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return Me=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Me=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=je(u),i=Me):0!==(s&=o)&&(r=je(s),i=Me)}else 0!==(o=n&~a)?(r=je(o),i=Me):0!==s&&(r=je(s),i=Me);if(0===r)return 0;if(r=n&((0>(r=31-Ge(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(je(e),i<=Me)return e;Me=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Ge(e)),r|=t[n],e&=~i;return r}function ze(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ve(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ue(24&~e))?Ve(10,e):t;case 10:return 0===(t=Ue(192&~e))?Ve(8,e):t;case 8:return 0===(t=Ue(3584&~e))&&(0===(t=Ue(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ue(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ue(t){return t&-t}function Be(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function We(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Ge(e)]=n}var Ge=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(qe(t)/He|0)|0},qe=Math.log,He=Math.LN2;var Ke=o.unstable_UserBlockingPriority,Xe=o.unstable_runWithPriority,Ye=!0;function Ze(t,e,n,r){jt||Dt();var i=$e,o=jt;jt=!0;try{Nt(i,t,e,n,r)}finally{(jt=o)||zt()}}function Qe(t,e,n,r){Xe(Ke,$e.bind(null,t,e,n,r))}function $e(t,e,n,r){var i;if(Ye)if((i=0===(4&e))&&0<ae.length&&-1<de.indexOf(t))t=pe(null,t,e,n,r),ae.push(t);else{var o=Je(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<de.indexOf(t))return t=pe(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ge(se,t,e,n,r,i),!0;case"dragenter":return ue=ge(ue,t,e,n,r,i),!0;case"mouseover":return le=ge(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ce.set(o,ge(ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,he.set(o,ge(he.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Dr(t,e,r,null,n)}}}function Je(t,e,n,r){var i=Ct(r);if(null!==(i=ni(i))){var o=Zt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qt(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var ln,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(ln=t.screenX-hn.screenX,cn=t.screenY-hn.screenY):cn=ln=0,hn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),yn=un(gn),mn=un(i({},gn,{dataTransfer:0})),_n=un(i({},pn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xn=un(wn),kn=un(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function In(){return Tn}var On=i({},pn,{key:function(t){if(t.key){var e=En[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),An=un(On),Rn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Ln=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},gn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(Nn),Mn=[9,13,27,32],jn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var zn=h&&"TextEvent"in window&&!Fn,Vn=h&&(!jn||Fn&&8<Fn&&11>=Fn),Un=String.fromCharCode(32),Bn=!1;function Wn(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Xn(t,e,n,r){Rt(r),0<(e=jr(e,"onChange")).length&&(n=new dn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yn=null,Zn=null;function Qn(t){Or(t,0)}function $n(t){if(Q(ii(t)))return t}function Jn(t,e){if("change"===t)return e}var tr=!1;if(h){var er;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",or),Zn=Yn=null)}function or(t){if("value"===t.propertyName&&$n(Zn)){var e=[];if(Xn(e,Zn,t,Ct(t)),t=Qn,jt)t(e);else{jt=!0;try{Lt(t,e)}finally{jt=!1,zt()}}}}function ar(t,e,n){"focusin"===t?(ir(),Zn=n,(Yn=e).attachEvent("onpropertychange",or)):"focusout"===t&&ir()}function sr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return $n(Zn)}function ur(t,e){if("click"===t)return $n(e)}function lr(t,e){if("input"===t||"change"===t)return $n(e)}var cr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},hr=Object.prototype.hasOwnProperty;function fr(t,e){if(cr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(e,n[r])||!cr(t[n[r]],e[n[r]]))return!1;return!0}function dr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pr(t,e){var n,r=dr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=dr(r)}}function vr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?vr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function gr(){for(var t=window,e=$();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=$((t=e.contentWindow).document)}return e}function yr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var mr=h&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,wr=null,xr=!1;function kr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==_r||_r!==$(r)||("selectionStart"in(r=_r)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(e=new dn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_r)))}De("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),De("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),De(Ne,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Le.set(Er[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Ir(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,l){if(Yt.apply(this,arguments),Gt){if(!Gt)throw Error(a(198));var c=qt;Gt=!1,qt=null,Ht||(Ht=!0,Kt=c)}}(r,e,void 0,t),t.currentTarget=null}function Or(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Ir(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Ir(i,s,l),o=u}}}if(Ht)throw t=Kt,Ht=!1,Kt=null,t}function Ar(t,e){var n=ai(e),r=t+"__bubble";n.has(r)||(Nr(e,t,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(t){t[Rr]||(t[Rr]=!0,s.forEach((function(e){Tr.has(e)||Lr(e,!1,t,null),Lr(e,!0,t,null)})))}function Lr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Tr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ai(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Nr(o,t,i,e),a.add(s))}function Nr(t,e,n,r){var i=Le.get(e);switch(void 0===i?2:i){case 0:i=Ze;break;case 1:i=Qe;break;default:i=$e}n=i.bind(null,e,n,t),i=void 0,!Ut||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t(e,n);Ft=!0;try{Mt(t,e,n)}finally{Ft=!1,zt()}}((function(){var r=o,i=Ct(n),a=[];t:{var s=Pe.get(t);if(void 0!==s){var u=dn,l=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=_n;break;case"focusout":l="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ie:case Oe:case Ae:u=bn;break;case Re:u=Ln;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Vt(p,f))&&c.push(Mr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ti])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(h=Zt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=yn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Rn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==l?s:ii(l),(s=new c(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,u&&l)t:{for(f=l,p=0,d=c=u;d;d=Fr(d))p++;for(d=0,v=f;v;v=Fr(v))d++;for(;0<p-d;)c=Fr(c),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Fr(c),f=Fr(f)}c=null}else c=null;null!==u&&zr(a,s,u,c,!1),null!==l&&null!==h&&zr(a,h,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Jn;else if(Kn(s))if(tr)g=lr;else{g=sr;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(t,r))?Xn(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&it(s,"number",s.value)),y=r?ii(r):window,t){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(_r=y,br=r,wr=null);break;case"focusout":wr=br=_r=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,kr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(a,n,i)}var m;if(jn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else qn?Wn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(Vn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==_?"onCompositionEnd"===_&&qn&&(m=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,qn=!0)),0<(y=jr(r,_)).length&&(_=new kn(_,t,null,n,i),a.push({event:_,listeners:y}),m?_.data=m:null!==(m=Gn(n))&&(_.data=m))),(m=zn?function(t,e){switch(t){case"compositionend":return Gn(e);case"keypress":return 32!==e.which?null:(Bn=!0,Un);case"textInput":return(t=e.data)===Un&&Bn?null:t;default:return null}}(t,n):function(t,e){if(qn)return"compositionend"===t||!jn&&Wn(t,e)?(t=rn(),nn=en=tn=null,qn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Or(a,e)}))}function Mr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Vt(t,n))&&r.unshift(Mr(t,o,i)),null!=(o=Vt(t,e))&&r.push(Mr(t,o,i))),t=t.return}return r}function Fr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function zr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Vt(n,o))&&a.unshift(Mr(n,u,s)):i||null!=(u=Vt(n,o))&&a.push(Mr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Vr(){}var Ur=null,Br=null;function Wr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Gr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var qr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Xr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Yr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Zr=0;var Qr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,ti="__reactContainer$"+Qr,ei="__reactEvents$"+Qr;function ni(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[$r]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Yr(t);null!==t;){if(n=t[$r])return n;t=Yr(t)}return e}n=(t=n).parentNode}return null}function ri(t){return!(t=t[$r]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function oi(t){return t[Jr]||null}function ai(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var si=[],ui=-1;function li(t){return{current:t}}function ci(t){0>ui||(t.current=si[ui],si[ui]=null,ui--)}function hi(t,e){ui++,si[ui]=t.current,t.current=e}var fi={},di=li(fi),pi=li(!1),vi=fi;function gi(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function yi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function mi(){ci(pi),ci(di)}function _i(t,e,n){if(di.current!==fi)throw Error(a(168));hi(di,e),hi(pi,n)}function bi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,K(e)||"Unknown",o));return i({},n,r)}function wi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,t),hi(pi,pi.current),!0}function xi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=bi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,ci(pi),ci(di),hi(di,t)):ci(pi),hi(pi,n)}var ki=null,Ei=null,Si=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ii=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Ai=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Li=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,ji={},Fi=void 0!==Oi?Oi:function(){},zi=null,Vi=null,Ui=!1,Bi=Ai(),Wi=1e4>Bi?Ai:function(){return Ai()-Bi};function Gi(){switch(Ri()){case Pi:return 99;case Li:return 98;case Ni:return 97;case Di:return 96;case Mi:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Pi;case 98:return Li;case 97:return Ni;case 96:return Di;case 95:return Mi;default:throw Error(a(332))}}function Hi(t,e){return t=qi(t),Si(t,e)}function Ki(t,e,n){return t=qi(t),Ci(t,e,n)}function Xi(){if(null!==Vi){var t=Vi;Vi=null,Ti(t)}Yi()}function Yi(){if(!Ui&&null!==zi){Ui=!0;var t=0;try{var e=zi;Hi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(t+1)),Ci(Pi,Xi),n}finally{Ui=!1}}}var Zi=w.ReactCurrentBatchConfig;function Qi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var $i=li(null),Ji=null,to=null,eo=null;function no(){eo=to=Ji=null}function ro(t){var e=$i.current;ci($i),t.type._context._currentValue=e}function io(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function oo(t,e){Ji=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ja=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===Ji)throw Error(a(308));to=e,Ji.dependencies={lanes:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var so=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var o=t.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,h=c=l=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,v=a;switch(u=e,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break t;f=i({},f,u);break t;case 2:so=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=d,l=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Us|=s,t.lanes=s,t.memoizedState=f}}function vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function yo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var mo={isMounted:function(t){return!!(t=t._reactInternals)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fu(),i=du(t),o=co(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),ho(t,o),pu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fu(),i=du(t),o=co(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),ho(t,o),pu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fu(),r=du(t),i=co(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),ho(t,i),pu(t,r,n)}};function _o(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function bo(t,e,n){var r=!1,i=fi,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(e)?vi:di.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?gi(t,i):fi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=mo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mo.enqueueReplaceState(e,e.state,null)}function xo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=go,uo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(e)?vi:di.current,i.context=gi(t,o)),po(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(yo(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var ko=Array.isArray;function Eo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===go&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Co(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Hu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Zu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Eo(t,e,n),r.return=t,r):((r=Ku(n.type,n.key,n.props,null,t.mode,r)).ref=Eo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Qu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Xu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Zu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Ku(e.type,e.key,e.props,null,t.mode,n)).ref=Eo(t,null,e),n.return=t,n;case k:return(e=Qu(e,t.mode,n)).return=t,e}if(ko(e)||B(e))return(e=Xu(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case k:return n.key===i?c(t,e,n,r):null}if(ko(n)||B(n))return null!==i?null:h(t,e,n,r,null);So(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return t=t.get(null===r.key?n:r.key)||null,r.type===E?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case k:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||B(r))return h(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,h=g}if(v===s.length)return n(i,h),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),l}function g(i,s,u,l){var c=B(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var _=d(i,v,m.value,l);if(null===_){null===v&&(v=y);break}t&&v&&null===_.alternate&&e(i,v),s=o(_,s,g),null===h?c=_:h.sibling=_,h=_,v=y}if(m.done)return n(i,v),c;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=f(i,m.value,l))&&(s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return c}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,l))&&(t&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?c=m:h.sibling=m,h=m);return t&&v.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===E&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case x:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===E){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}}else if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=Eo(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===E?((r=Xu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Ku(o.type,o.key,o.props,null,t.mode,u)).ref=Eo(t,r,o),u.return=t,t=u)}return s(t);case k:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Qu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Zu(o,t.mode,u)).return=t,t=r),s(t);if(ko(o))return v(t,r,o,u);if(B(o))return g(t,r,o,u);if(c&&So(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(t.type)||"Component"))}return n(t,r)}}var To=Co(!0),Io=Co(!1),Oo={},Ao=li(Oo),Ro=li(Oo),Po=li(Oo);function Lo(t){if(t===Oo)throw Error(a(174));return t}function No(t,e){switch(hi(Po,e),hi(Ro,t),hi(Ao,Oo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ci(Ao),hi(Ao,e)}function Do(){ci(Ao),ci(Ro),ci(Po)}function Mo(t){Lo(Po.current);var e=Lo(Ao.current),n=pt(e,t.type);e!==n&&(hi(Ro,t),hi(Ao,n))}function jo(t){Ro.current===t&&(ci(Ao),ci(Ro))}var Fo=li(0);function zo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vo=null,Uo=null,Bo=!1;function Wo(t,e){var n=Gu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Go(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function qo(t){if(Bo){var e=Uo;if(e){var n=e;if(!Go(t,e)){if(!(e=Xr(n.nextSibling))||!Go(t,e))return t.flags=-1025&t.flags|2,Bo=!1,void(Vo=t);Wo(Vo,n)}Vo=t,Uo=Xr(e.firstChild)}else t.flags=-1025&t.flags|2,Bo=!1,Vo=t}}function Ho(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Vo=t}function Ko(t){if(t!==Vo)return!1;if(!Bo)return Ho(t),Bo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Gr(e,t.memoizedProps))for(e=Uo;e;)Wo(t,e),e=Xr(e.nextSibling);if(Ho(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Uo=Xr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Uo=null}}else Uo=Vo?Xr(t.stateNode.nextSibling):null;return!0}function Xo(){Uo=Vo=null,Bo=!1}var Yo=[];function Zo(){for(var t=0;t<Yo.length;t++)Yo[t]._workInProgressVersionPrimary=null;Yo.length=0}var Qo=w.ReactCurrentDispatcher,$o=w.ReactCurrentBatchConfig,Jo=0,ta=null,ea=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function sa(t,e,n,r,i,o){if(Jo=o,ta=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qo.current=null===t||null===t.memoizedState?La:Na,t=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ea=null,e.updateQueue=null,Qo.current=Da,t=n(r,i)}while(ia)}if(Qo.current=Pa,e=null!==ea&&null!==ea.next,Jo=0,na=ea=ta=null,ra=!1,e)throw Error(a(300));return t}function ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ta.memoizedState=na=t:na=na.next=t,na}function la(){if(null===ea){var t=ta.alternate;t=null!==t?t.memoizedState:null}else t=ea.next;var e=null===na?ta.memoizedState:na.next;if(null!==e)na=e,ea=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ea=t).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===na?ta.memoizedState=na=t:na=na.next=t}return na}function ca(t,e){return"function"===typeof e?e(t):e}function ha(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Jo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ta.lanes|=c,Us|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,e.memoizedState)||(ja=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function fa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);cr(o,e.memoizedState)||(ja=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function da(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Jo&t)===t)&&(e._workInProgressVersionPrimary=r,Yo.push(e))),t)return n(e._source);throw Yo.push(e),Error(a(350))}function pa(t,e,n,r){var i=Ls;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=Qo.current,l=u.useState((function(){return da(i,e,n)})),c=l[1],h=l[0];l=na;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var g=ta;return t.memoizedState={refs:d,source:e,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var t=o(e._source);if(!cr(s,t)){t=n(e._source),cr(h,t)||(c(t),t=du(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-Ge(a),l=1<<u;r[u]|=t,a&=~l}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=d.getSnapshot,n=d.setSnapshot;try{n(t(e._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),cr(p,n)&&cr(v,e)&&cr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:h}).dispatch=c=Ra.bind(null,ta,t),l.queue=t,l.baseQueue=null,h=da(i,e,n),l.memoizedState=l.baseState=h),h}function va(t,e,n){return pa(la(),t,e,n)}function ga(t){var e=ua();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t}).dispatch=Ra.bind(null,ta,t),[e.memoizedState,t]}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ta.updateQueue)?(e={lastEffect:null},ta.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ma(t){return t={current:t},ua().memoizedState=t}function _a(){return la().memoizedState}function ba(t,e,n,r){var i=ua();ta.flags|=t,i.memoizedState=ya(1|e,n,void 0,void 0===r?null:r)}function wa(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(e,n,o,r)}ta.flags|=t,i.memoizedState=ya(1|e,n,o,r)}function xa(t,e){return ba(516,4,t,e)}function ka(t,e){return wa(516,4,t,e)}function Ea(t,e){return wa(4,2,t,e)}function Sa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ca(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,wa(4,2,Sa.bind(null,e,t),n)}function Ta(){}function Ia(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Oa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Aa(t,e){var n=Gi();Hi(98>n?98:n,(function(){t(!0)})),Hi(97<n?97:n,(function(){var n=$o.transition;$o.transition=1;try{t(!1),e()}finally{$o.transition=n}}))}function Ra(t,e,n){var r=fu(),i=du(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===ta||null!==a&&a===ta)ia=ra=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}pu(t,i,r)}}var Pa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},La={readContext:ao,useCallback:function(t,e){return ua().memoizedState=[t,void 0===e?null:e],t},useContext:ao,useEffect:xa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ba(4,2,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4,2,t,e)},useMemo:function(t,e){var n=ua();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ua();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ra.bind(null,ta,t),[r.memoizedState,t]},useRef:ma,useState:ga,useDebugValue:Ta,useDeferredValue:function(t){var e=ga(t),n=e[0],r=e[1];return xa((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=ga(!1),e=t[0];return ma(t=Aa.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ua();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},pa(r,t,e,n)},useOpaqueIdentifier:function(){if(Bo){var t=!1,e=function(t){return{$$typeof:D,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Zr++).toString(36))),Error(a(355))})),n=ga(e)[1];return 0===(2&ta.mode)&&(ta.flags|=516,ya(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),e}return ga(e="r:"+(Zr++).toString(36)),e},unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:Ia,useContext:ao,useEffect:ka,useImperativeHandle:Ca,useLayoutEffect:Ea,useMemo:Oa,useReducer:ha,useRef:_a,useState:function(){return ha(ca)},useDebugValue:Ta,useDeferredValue:function(t){var e=ha(ca),n=e[0],r=e[1];return ka((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=ha(ca)[0];return[_a().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Ia,useContext:ao,useEffect:ka,useImperativeHandle:Ca,useLayoutEffect:Ea,useMemo:Oa,useReducer:fa,useRef:_a,useState:function(){return fa(ca)},useDebugValue:Ta,useDeferredValue:function(t){var e=fa(ca),n=e[0],r=e[1];return ka((function(){var e=$o.transition;$o.transition=1;try{r(t)}finally{$o.transition=e}}),[t]),n},useTransition:function(){var t=fa(ca)[0];return[_a().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Ma=w.ReactCurrentOwner,ja=!1;function Fa(t,e,n,r){e.child=null===t?Io(e,null,n,r):To(e,t.child,n,r)}function za(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=sa(t,e,n,r,o,i),null===t||ja?(e.flags|=1,Fa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Va(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||qu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Ku(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ua(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.flags|=1,(t=Hu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ua(t,e,n,r,i,o){if(null!==t&&fr(t.memoizedProps,r)&&t.ref===e.ref){if(ja=!1,0===(o&i))return e.lanes=t.lanes,os(t,e,o);0!==(16384&t.flags)&&(ja=!0)}return Ga(t,e,n,r,o)}function Ba(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},xu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},xu(e,t),null;e.memoizedState={baseLanes:0},xu(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,xu(e,r);return Fa(t,e,i,n),e.child}function Wa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Ga(t,e,n,r,i){var o=yi(n)?vi:di.current;return o=gi(e,o),oo(e,i),n=sa(t,e,n,r,o,i),null===t||ja?(e.flags|=1,Fa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function qa(t,e,n,r,i){if(yi(n)){var o=!0;wi(e)}else o=!1;if(oo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),bo(e,n,r),xo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=gi(e,l=yi(n)?vi:di.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&wo(e,a,r,l),so=!1;var f=e.memoizedState;a.state=f,po(e,r,a,i),u=e.memoizedState,s!==r||f!==u||pi.current||so?("function"===typeof c&&(yo(e,n,c,r),u=e.memoizedState),(s=so||_o(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Qi(e.type,s),a.props=l,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(e,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&wo(e,a,r,u),so=!1,f=e.memoizedState,a.state=f,po(e,r,a,i);var p=e.memoizedState;s!==h||f!==p||pi.current||so?("function"===typeof d&&(yo(e,n,d,r),p=e.memoizedState),(l=so||_o(e,n,l,r,f,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Ha(t,e,n,r,o,i)}function Ha(t,e,n,r,i,o){Wa(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&xi(e,n,!1),os(t,e,o);r=e.stateNode,Ma.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=To(e,t.child,null,o),e.child=To(e,null,s,o)):Fa(t,e,s,o),e.memoizedState=r.state,i&&xi(e,n,!0),e.child}function Ka(t){var e=t.stateNode;e.pendingContext?_i(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_i(0,e.context,!1),No(t,e.containerInfo)}var Xa,Ya,Za,Qa={dehydrated:null,retryLane:0};function $a(t,e,n){var r,i=e.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Fo,1&o),null===t?(void 0!==i.fallback&&qo(e),t=i.children,o=i.fallback,a?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,t):"number"===typeof i.unstable_expectedLoadTime?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qa,e.lanes=33554432,t):((n=Yu({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=es(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Qa,i):(n=ts(t,e,i.children,n),e.memoizedState=null,n))}function Ja(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Yu(e,i,0,null),n=Xu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ts(t,e,n,r){var i=t.child;return t=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function es(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Hu(a,s),null!==t?r=Hu(t,r):(r=Xu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ns(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),io(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(t,e,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(hi(Fo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===zo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===zo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Us|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Hu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Hu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function as(t,e){if(!Bo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ss(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(e.type)&&mi(),null;case 3:return Do(),ci(pi),ci(di),Zo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Ko(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:jo(e);var o=Lo(Po.current);if(n=e.type,null!==t&&null!=e.stateNode)Ya(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Lo(Ao.current),Ko(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$r]=e,r[Jr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(t=0;t<Cr.length;t++)Ar(Cr[t],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":tt(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ut(r,s),Ar("invalid",r)}for(var l in Et(n,s),t=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":Z(r),rt(r,s,!0);break;case"textarea":Z(r),ct(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=dt(n)),t===ht?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[$r]=e,t[Jr]=r,Xa(t,e),e.stateNode=t,l=St(n,r),n){case"dialog":Ar("cancel",t),Ar("close",t),o=r;break;case"iframe":case"object":case"embed":Ar("load",t),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)Ar(Cr[o],t);o=r;break;case"source":Ar("error",t),o=r;break;case"img":case"image":case"link":Ar("error",t),Ar("load",t),o=r;break;case"details":Ar("toggle",t),o=r;break;case"input":tt(t,r),o=J(t,r),Ar("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Ar("invalid",t);break;default:o=r}Et(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?xt(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&yt(t,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&mt(t,h):"number"===typeof h&&mt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Ar("scroll",t):null!=h&&b(t,s,h,l))}switch(n){case"input":Z(t),rt(t,r,!1);break;case"textarea":Z(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+X(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Vr)}Wr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Za(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Lo(Po.current),Lo(Ao.current),Ko(e)?(r=e.stateNode,n=e.memoizedProps,r[$r]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=e,e.stateNode=r)}return null;case 13:return ci(Fo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Ko(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ls||0===(134217727&Us)&&0===(134217727&Bs)||mu(Ls,Ds))),(r||n)&&(e.flags|=4),null);case 4:return Do(),null===t&&Pr(e.stateNode.containerInfo),null;case 10:return ro(e),null;case 19:if(ci(Fo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=zo(t))){for(e.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return hi(Fo,1&Fo.current|2),e.child}t=t.sibling}null!==r.tail&&Wi()>Hs&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=zo(l))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Bo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>Hs&&1073741824!==n&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=r.last)?n.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,e=Fo.current,hi(Fo,s?1&e|2:1&e),n):null;case 23:case 24:return ku(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function us(t){switch(t.tag){case 1:yi(t.type)&&mi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Do(),ci(pi),ci(di),Zo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return jo(t),null;case 13:return ci(Fo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ci(Fo),null;case 4:return Do(),null;case 10:return ro(t),null;case 23:case 24:return ku(),null;default:return null}}function ls(t,e){try{var n="",r=e;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function cs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Xa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ya=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Lo(Ao.current);var a,s=null;switch(n){case"input":o=J(t,o),r=J(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Vr)}for(h in Et(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ar("scroll",t),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Za=function(t,e,n,r){n!==r&&(e.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zs||(Zs=!0,Qs=r),cs(0,e)},n}function ds(t,e,n){(n=co(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return cs(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),cs(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Vu(t,n)}else e.current=null}function gs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Kr(e.stateNode.containerInfo))}throw Error(a(163))}function ys(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,t),Mu(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Qi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&vo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}vo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Wr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xe(n)))))}throw Error(a(163))}function ms(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(t,e){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(ki,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(e,n);else{r=e;try{i()}catch(o){Vu(r,o)}}n=n.next}while(n!==t)}break;case 1:if(vs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Vu(e,o)}break;case 5:vs(e);break;case 4:Ss(t,e)}}function bs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ws(t){return 5===t.tag||3===t.tag||4===t.tag}function xs(t){t:{for(var e=t.return;null!==e;){if(ws(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(mt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ks(t,n,e):Es(t,n,e)}function ks(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Vr));else if(4!==r&&null!==(t=t.child))for(ks(t,e,n),t=t.sibling;null!==t;)ks(t,e,n),t=t.sibling}function Es(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Es(t,e,n),t=t.sibling;null!==t;)Es(t,e,n),t=t.sibling}function Ss(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,l=u;;)if(_s(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break t;for(;null===l.sibling;){if(null===l.return||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Jr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?xt(n,u):"dangerouslySetInnerHTML"===s?yt(n,u):"children"===s?mt(n,u):b(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":lt(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,xe(n.containerInfo)));case 13:return null!==e.memoizedState&&(qs=Wi(),ms(e.child,!0)),void Ts(e);case 19:return void Ts(e);case 23:case 24:return void ms(e,null!==e.memoizedState)}throw Error(a(163))}function Ts(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ps),e.forEach((function(e){var r=Bu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Is(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Os=Math.ceil,As=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Ps=0,Ls=null,Ns=null,Ds=0,Ms=0,js=li(0),Fs=0,zs=null,Vs=0,Us=0,Bs=0,Ws=0,Gs=null,qs=0,Hs=1/0;function Ks(){Hs=Wi()+500}var Xs,Ys=null,Zs=!1,Qs=null,$s=null,Js=!1,tu=null,eu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,hu=!1;function fu(){return 0!==(48&Ps)?Wi():-1!==su?su:su=Wi()}function du(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Gi()?1:2;if(0===uu&&(uu=Vs),0!==Zi.transition){0!==lu&&(lu=null!==Gs?Gs.pendingLanes:0),t=uu;var e=4186112&~lu;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Gi(),0!==(4&Ps)&&98===t?t=Ve(12,uu):t=Ve(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),uu),t}function pu(t,e,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(t=vu(t,e)))return null;We(t,e,n),t===Ls&&(Bs|=e,4===Fs&&mu(t,Ds));var r=Gi();1===e?0!==(8&Ps)&&0===(48&Ps)?_u(t):(gu(t,n),0===Ps&&(Ks(),Xi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([t]):iu.add(t)),gu(t,n)),Gs=t}function vu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function gu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Ge(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=e,je(l);var h=Me;o[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);s&=~l}if(r=Fe(t,t===Ls?Ds:0),e=Me,0===r)null!==n&&(n!==ji&&Ti(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==ji&&Ti(n)}15===e?(n=_u.bind(null,t),null===zi?(zi=[n],Vi=Ci(Pi,Yi)):zi.push(n),n=ji):14===e?n=Ki(99,_u.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Ki(n,yu.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function yu(t){if(su=-1,lu=uu=0,0!==(48&Ps))throw Error(a(327));var e=t.callbackNode;if(Du()&&t.callbackNode!==e)return null;var n=Fe(t,t===Ls?Ds:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var o=Cu();for(Ls===t&&Ds===r||(Ks(),Eu(t,r));;)try{Ou();break}catch(u){Su(t,u)}if(no(),As.current=o,Ps=i,null!==Ns?r=0:(Ls=null,Ds=0,r=Fs),0!==(Vs&Bs))Eu(t,0);else if(0!==r){if(2===r&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Kr(t.containerInfo)),0!==(n=ze(t))&&(r=Tu(t,n))),1===r)throw e=zs,Eu(t,0),mu(t,n),gu(t,Wi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Pu(t);break;case 3:if(mu(t,n),(62914560&n)===n&&10<(r=qs+500-Wi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){fu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qr(Pu.bind(null,t),r);break}Pu(t);break;case 4:if(mu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Ge(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Wi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Os(n/1960))-n)){t.timeoutHandle=qr(Pu.bind(null,t),n);break}Pu(t);break;default:throw Error(a(329))}}return gu(t,Wi()),t.callbackNode===e?yu.bind(null,t):null}function mu(t,e){for(e&=~Ws,e&=~Bs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ge(e),r=1<<n;t[n]=-1,e&=~r}}function _u(t){if(0!==(48&Ps))throw Error(a(327));if(Du(),t===Ls&&0!==(t.expiredLanes&Ds)){var e=Ds,n=Tu(t,e);0!==(Vs&Bs)&&(n=Tu(t,e=Fe(t,e)))}else n=Tu(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Ps|=64,t.hydrate&&(t.hydrate=!1,Kr(t.containerInfo)),0!==(e=ze(t))&&(n=Tu(t,e))),1===n)throw n=zs,Eu(t,0),mu(t,e),gu(t,Wi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Pu(t),gu(t,Wi()),null}function bu(t,e){var n=Ps;Ps|=1;try{return t(e)}finally{0===(Ps=n)&&(Ks(),Xi())}}function wu(t,e){var n=Ps;Ps&=-2,Ps|=8;try{return t(e)}finally{0===(Ps=n)&&(Ks(),Xi())}}function xu(t,e){hi(js,Ms),Ms|=e,Vs|=e}function ku(){Ms=js.current,ci(js)}function Eu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Hr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Do(),ci(pi),ci(di),Zo();break;case 5:jo(r);break;case 4:Do();break;case 13:case 19:ci(Fo);break;case 10:ro(r);break;case 23:case 24:ku()}n=n.return}Ls=t,Ns=Hu(t.current,null),Ds=Ms=Vs=e,Fs=0,zs=null,Ws=Bs=Us=0}function Su(t,e){for(;;){var n=Ns;try{if(no(),Qo.current=Pa,ra){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Jo=0,na=ea=ta=null,ia=!1,Rs.current=null,null===n||null===n.return){Fs=1,zs=e,Ns=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Fo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var y=new Set;y.add(l),f.updateQueue=y}else g.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=co(-1,1);m.tag=2,ho(s,m)}s.lanes|=1;break t}u=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new hs,u=new Set,_.set(l,u)):void 0===(u=_.get(l))&&(u=new Set,_.set(l,u)),!u.has(s)){u.add(s);var b=Uu.bind(null,o,l,s);l.then(b,b)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=ls(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,fo(f,fs(0,o,e));break t;case 1:o=u;var w=f.type,x=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$s||!$s.has(x)))){f.flags|=4096,e&=-e,f.lanes|=e,fo(f,ds(f,o,e));break t}}f=f.return}while(null!==f)}Ru(n)}catch(k){e=k,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function Cu(){var t=As.current;return As.current=Pa,null===t?Pa:t}function Tu(t,e){var n=Ps;Ps|=16;var r=Cu();for(Ls===t&&Ds===e||Eu(t,e);;)try{Iu();break}catch(i){Su(t,i)}if(no(),Ps=n,As.current=r,null!==Ns)throw Error(a(261));return Ls=null,Ds=0,Fs}function Iu(){for(;null!==Ns;)Au(Ns)}function Ou(){for(;null!==Ns&&!Ii();)Au(Ns)}function Au(t){var e=Xs(t.alternate,t,Ms);t.memoizedProps=t.pendingProps,null===e?Ru(t):Ns=e,Rs.current=null}function Ru(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=ss(n,e,Ms)))return void(Ns=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=us(e)))return n.flags&=2047,void(Ns=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ns=e);Ns=e=t}while(null!==e);0===Fs&&(Fs=5)}function Pu(t){var e=Gi();return Hi(99,Lu.bind(null,t,e)),null}function Lu(t,e){do{Du()}while(null!==tu);if(0!==(48&Ps))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var l=31-Ge(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(t)&&iu.delete(t),t===Ls&&(Ns=Ls=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Rs.current=null,Ur=Ye,yr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(C){u=null;break t}var h=0,f=-1,d=-1,p=0,v=0,g=s,y=null;e:for(;;){for(var m;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==l||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break e;if(y===u&&++p===o&&(f=h),y===l&&++v===c&&(d=h),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Ye=!1,cu=null,hu=!1,Ys=r;do{try{Nu()}catch(C){if(null===Ys)throw Error(a(330));Vu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);cu=null,Ys=r;do{try{for(s=t;null!==Ys;){var _=Ys.flags;if(16&_&&mt(Ys.stateNode,""),128&_){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Cs(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Cs(Ys.alternate,Ys);break;case 4:Cs(Ys.alternate,Ys);break;case 8:Ss(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(a(330));Vu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Br,b=gr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&vr(_.ownerDocument.documentElement,_)){null!==s&&yr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(_,x),o=pr(_,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ye=!!Ur,Br=Ur=null,t.current=n,Ys=r;do{try{for(_=t;null!==Ys;){var k=Ys.flags;if(36&k&&ys(_,Ys.alternate,Ys),128&k){b=void 0;var E=Ys.ref;if(null!==E){var S=Ys.stateNode;Ys.tag,b=S,"function"===typeof E?E(b):E.current=b}}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(a(330));Vu(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Ps=i}else t.current=n;if(Js)Js=!1,tu=t,eu=e;else for(Ys=r;null!==Ys;)e=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((k=Ys).sibling=null,k.stateNode=null),Ys=e;if(0===(r=t.pendingLanes)&&($s=null),1===r?t===au?ou++:(ou=0,au=t):ou=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(C){}if(gu(t,Wi()),Zs)throw Zs=!1,t=Qs,Qs=null,t;return 0!==(8&Ps)||Xi(),null}function Nu(){for(;null!==Ys;){var t=Ys.alternate;hu||null===cu||(0!==(8&Ys.flags)?te(Ys,cu)&&(hu=!0):13===Ys.tag&&Is(t,Ys)&&te(Ys,cu)&&(hu=!0));var e=Ys.flags;0!==(256&e)&&gs(t,Ys),0===(512&e)||Js||(Js=!0,Ki(97,(function(){return Du(),null}))),Ys=Ys.nextEffect}}function Du(){if(90!==eu){var t=97<eu?97:eu;return eu=90,Hi(t,Fu)}return!1}function Mu(t,e){nu.push(e,t),Js||(Js=!0,Ki(97,(function(){return Du(),null})))}function ju(t,e){ru.push(e,t),Js||(Js=!0,Ki(97,(function(){return Du(),null})))}function Fu(){if(null===tu)return!1;var t=tu;if(tu=null,0!==(48&Ps))throw Error(a(331));var e=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));Vu(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));Vu(o,l)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Ps=e,Xi(),!0}function zu(t,e,n){ho(t,e=fs(0,e=ls(n,e),1)),e=fu(),null!==(t=vu(t,1))&&(We(t,1,e),gu(t,e))}function Vu(t,e){if(3===t.tag)zu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){zu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,t=ls(e,t),1);if(ho(n,i),i=fu(),null!==(n=vu(n,1)))We(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Uu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=fu(),t.pingedLanes|=t.suspendedLanes&n,Ls===t&&(Ds&n)===n&&(4===Fs||3===Fs&&(62914560&Ds)===Ds&&500>Wi()-qs?Eu(t,0):Ws|=n),gu(t,e)}function Bu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Gi()?1:2:(0===uu&&(uu=Vs),0===(e=Ue(62914560&~uu))&&(e=4194304))),n=fu(),null!==(t=vu(t,e))&&(We(t,e,n),gu(t,n))}function Wu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gu(t,e,n,r){return new Wu(t,e,n,r)}function qu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Hu(t,e){var n=t.alternate;return null===n?((n=Gu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ku(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)qu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case E:return Xu(n.children,i,o,e);case M:s=8,i|=16;break;case S:s=8,i|=1;break;case C:return(t=Gu(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=o,t;case A:return(t=Gu(13,n,e,i)).type=A,t.elementType=A,t.lanes=o,t;case R:return(t=Gu(19,n,e,i)).elementType=R,t.lanes=o,t;case j:return Yu(n,i,o,e);case F:return(t=Gu(24,n,e,i)).elementType=F,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:s=10;break t;case I:s=9;break t;case O:s=11;break t;case P:s=14;break t;case L:s=16,r=null;break t;case N:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Gu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Xu(t,e,n,r){return(t=Gu(7,t,r,e)).lanes=n,t}function Yu(t,e,n,r){return(t=Gu(23,t,r,e)).elementType=j,t.lanes=n,t}function Zu(t,e,n){return(t=Gu(6,t,null,e)).lanes=n,t}function Qu(t,e,n){return(e=Gu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $u(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Be(0),this.expirationTimes=Be(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.mutableSourceEagerHydrationData=null}function Ju(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function tl(t,e,n,r){var i=e.current,o=fu(),s=du(i);t:if(n){e:{if(Zt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(yi(l)){n=bi(n,l,u);break t}}n=u}else n=fi;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),ho(i,e),pu(i,s,o),s}function el(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function rl(t,e){nl(t,e),(t=t.alternate)&&nl(t,e)}function il(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(t,e,null!=n&&!0===n.hydrate),e=Gu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,uo(e),t[ti]=n.current,Pr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function ol(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function al(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=el(a);s.call(t)}}tl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new il(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=el(a);u.call(t)}}wu((function(){tl(e,a,t,i)}))}return el(a)}function sl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(e))throw Error(a(200));return Ju(t,e,null,n)}Xs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||pi.current)ja=!0;else{if(0===(n&r)){switch(ja=!1,e.tag){case 3:Ka(e),Xo();break;case 5:Mo(e);break;case 1:yi(e.type)&&wi(e);break;case 4:No(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;hi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?$a(t,e,n):(hi(Fo,1&Fo.current),null!==(e=os(t,e,n))?e.sibling:null);hi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return is(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Fo,Fo.current),r)break;return null;case 23:case 24:return e.lanes=0,Ba(t,e,n)}return os(t,e,n)}ja=0!==(16384&t.flags)}else ja=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=gi(e,di.current),oo(e,n),i=sa(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yi(r)){var o=!0;wi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(e,r,s,t),i.updater=mo,e.stateNode=i,i._reactInternals=e,xo(e,r,t,n),e=Ha(null,e,r,!0,o,n)}else e.tag=0,Fa(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return qu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===O)return 11;if(t===P)return 14}return 2}(i),t=Qi(i,t),o){case 0:e=Ga(null,e,i,t,n);break t;case 1:e=qa(null,e,i,t,n);break t;case 11:e=za(null,e,i,t,n);break t;case 14:e=Va(null,e,i,Qi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ga(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 3:if(Ka(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),po(e,r,null,n),(r=e.memoizedState.element)===i)Xo(),e=os(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Uo=Xr(e.stateNode.containerInfo.firstChild),Vo=e,o=Bo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Yo.push(o);for(n=Io(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(t,e,r,n),Xo();e=e.child}return e;case 5:return Mo(e),null===t&&qo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Gr(r,i)?s=null:null!==o&&Gr(r,o)&&(e.flags|=16),Wa(t,e),Fa(t,e,s,n),e.child;case 6:return null===t&&qo(e),null;case 13:return $a(t,e,n);case 4:return No(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=To(e,null,r,n):Fa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,za(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 7:return Fa(t,e,e.pendingProps,n),e.child;case 8:case 12:return Fa(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(hi($i,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){e=os(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,ho(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,oo(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.flags|=1,Fa(t,e,r,n),e.child;case 14:return o=Qi(i=e.type,e.pendingProps),Va(t,e,i,o=Qi(i.type,o),r,n);case 15:return Ua(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,yi(r)?(t=!0,wi(e)):t=!1,oo(e,n),bo(e,r,i),xo(e,r,i,n),Ha(null,e,r,!0,t,n);case 19:return is(t,e,n);case 23:case 24:return Ba(t,e,n)}throw Error(a(156,e.tag))},il.prototype.render=function(t){tl(t,this._internalRoot,null,null)},il.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tl(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(pu(t,4,fu()),rl(t,4))},ne=function(t){13===t.tag&&(pu(t,67108864,fu()),rl(t,67108864))},re=function(t){if(13===t.tag){var e=fu(),n=du(t);pu(t,n,e),rl(t,n)}},ie=function(t,e){return e()},Tt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oi(r);if(!i)throw Error(a(90));Q(r),nt(r,i)}}}break;case"textarea":lt(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Lt=bu,Nt=function(t,e,n,r,i){var o=Ps;Ps|=4;try{return Hi(98,t.bind(null,e,n,r,i))}finally{0===(Ps=o)&&(Ks(),Xi())}},Dt=function(){0===(49&Ps)&&(function(){if(null!==iu){var t=iu;iu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,gu(t,Wi())}))}Xi()}(),Du())},Mt=function(t,e){var n=Ps;Ps|=2;try{return t(e)}finally{0===(Ps=n)&&(Ks(),Xi())}};var ul={Events:[ri,ii,oi,Rt,Pt,Du,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{ki=hl.inject(cl),Ei=hl}catch(gt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,e.createPortal=sl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ps;if(0!==(48&n))return t(e);Ps|=1;try{if(t)return Hi(99,t.bind(null,e))}finally{Ps=n,Xi()}},e.hydrate=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!0,n)},e.render=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ol(t))throw Error(a(40));return!!t._reactRootContainer&&(wu((function(){al(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=bu,e.unstable_createPortal=function(t,e){return sl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ol(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return al(t,e,n,!1,r)},e.version="17.0.2"},164:function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(463)},374:function(t,e,n){"use strict";n(725);var r=n(791),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:a.current}}e.jsx=l,e.jsxs=l},117:function(t,e,n){"use strict";var r=n(725),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}function y(){}function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var _=m.prototype=new y;_.constructor=m,r(_,g.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!x.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:b.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var S=/\/+/g;function C(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(S,"$&/")+"/"),T(a,e,n,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+C(s=t[l],l);u+=T(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=T(s=s.value,e,n,c=r+C(s,l++),a);else if("object"===s)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function I(t,e,n){if(null==t)return t;var r=[],i=0;return T(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function O(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var A={current:null};function R(){var t=A.current;if(null===t)throw Error(d(321));return t}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:I,forEach:function(t,e,n){I(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return I(t,(function(){e++})),e},toArray:function(t){return I(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error(d(143));return t}},e.Component=g,e.PureComponent=m,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(d(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!x.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:O}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return R().useCallback(t,e)},e.useContext=function(t,e){return R().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return R().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return R().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return R().useLayoutEffect(t,e)},e.useMemo=function(t,e){return R().useMemo(t,e)},e.useReducer=function(t,e,n){return R().useReducer(t,e,n)},e.useRef=function(t){return R().useRef(t)},e.useState=function(t){return R().useState(t)},e.version="17.0.2"},791:function(t,e,n){"use strict";t.exports=n(117)},184:function(t,e,n){"use strict";t.exports=n(374)},727:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(R){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function g(){}function y(){}function m(){}var _={};u(_,o,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(O([])));w&&w!==n&&r.call(w,o)&&(_=w);var x=m.prototype=g.prototype=Object.create(_);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:e,done:!0}}return y.prototype=m,u(x,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(x),u(x,s,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},813:function(t,e){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,h=function t(){if(null!==l)try{var n=e.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(t,0),r}};n=function(t){null!==l?setTimeout(n,0,t):(l=t,setTimeout(h,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},o=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,m=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},o=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();_=t+m;try{g(!0,t)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(t){g=t,v||(v=!0,w.postMessage(null))},r=function(t,n){y=f((function(){t(e.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<S(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function E(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>S(a,n))void 0!==u&&0>S(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>S(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function S(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],T=[],I=1,O=null,A=3,R=!1,P=!1,L=!1;function N(t){for(var e=k(T);null!==e;){if(null===e.callback)E(T);else{if(!(e.startTime<=t))break;E(T),e.sortIndex=e.expirationTime,x(C,e)}e=k(T)}}function D(t){if(L=!1,N(t),!P)if(null!==k(C))P=!0,n(M);else{var e=k(T);null!==e&&r(D,e.startTime-t)}}function M(t,n){P=!1,L&&(L=!1,i()),R=!0;var o=A;try{for(N(n),O=k(C);null!==O&&(!(O.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=O.callback;if("function"===typeof a){O.callback=null,A=O.priorityLevel;var s=a(O.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?O.callback=s:O===k(C)&&E(C),N(n)}else E(C);O=k(C)}if(null!==O)var u=!0;else{var l=k(T);null!==l&&r(D,l.startTime-n),u=!1}return u}finally{O=null,A=o,R=!1}}var j=o;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){P||R||(P=!0,n(M))},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return k(C)},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=j,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_scheduleCallback=function(t,o,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:I++,callback:o,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,x(T,t),null===k(C)&&t===k(T)&&(L?i():L=!0,r(D,a-s))):(t.sortIndex=u,x(C,t),P||R||(P=!0,n(M))),t},e.unstable_wrapCallback=function(t){var e=A;return function(){var n=A;A=e;try{return t.apply(this,arguments)}finally{A=n}}}},296:function(t,e,n){"use strict";t.exports=n(813)},141:function(t,e,n){"use strict";t.exports=n.p+"static/media/about.7f3c3268cdc2edc52ff6.png"},716:function(t,e,n){"use strict";t.exports=n.p+"static/media/custom-geek-logoV1.e63498c883f6ee3f9f02.png"},711:function(t,e,n){"use strict";t.exports=n.p+"static/media/google-maps.63da7f40d9a7f1e9a6c1.png"},583:function(t,e,n){"use strict";t.exports=n.p+"static/media/not-found-404.3da64960c004ec2f5ecf.png"},894:function(t,e,n){"use strict";t.exports=n.p+"static/media/payment.203b3d013aee41a0c282.png"},472:function(t,e,n){"use strict";t.exports=n.p+"static/media/where-are.b08fbed35d7810cd66a5.png"}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="/",function(){"use strict";var t={};n.r(t),n.d(t,{afterMain:function(){return W},afterRead:function(){return V},afterWrite:function(){return H},applyStyles:function(){return J},arrow:function(){return yt},auto:function(){return I},basePlacements:function(){return O},beforeMain:function(){return U},beforeRead:function(){return F},beforeWrite:function(){return G},bottom:function(){return S},clippingParents:function(){return P},computeStyles:function(){return wt},createPopper:function(){return Jt},createPopperBase:function(){return $t},createPopperLite:function(){return te},detectOverflow:function(){return jt},end:function(){return R},eventListeners:function(){return kt},flip:function(){return Ft},hide:function(){return Ut},left:function(){return T},main:function(){return B},modifierPhases:function(){return K},offset:function(){return Bt},placements:function(){return j},popper:function(){return N},popperGenerator:function(){return Zt},popperOffsets:function(){return Wt},preventOverflow:function(){return Gt},read:function(){return z},reference:function(){return D},right:function(){return C},start:function(){return A},top:function(){return E},variationPlacements:function(){return M},viewport:function(){return L},write:function(){return q}});var e=n(791),r=n(164);function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=o(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},a.apply(this,arguments)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function f(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){if(e&&("object"===g(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function _(t){var e=v();return function(){var n,r=i(t);if(e){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E="top",S="bottom",C="right",T="left",I="auto",O=[E,S,C,T],A="start",R="end",P="clippingParents",L="viewport",N="popper",D="reference",M=O.reduce((function(t,e){return t.concat([e+"-"+A,e+"-"+R])}),[]),j=[].concat(O,[I]).reduce((function(t,e){return t.concat([e,e+"-"+A,e+"-"+R])}),[]),F="beforeRead",z="read",V="afterRead",U="beforeMain",B="main",W="afterMain",G="beforeWrite",q="write",H="afterWrite",K=[F,z,V,U,B,W,G,q,H];function X(t){return t?(t.nodeName||"").toLowerCase():null}function Y(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Z(t){return t instanceof Y(t).Element||t instanceof Element}function Q(t){return t instanceof Y(t).HTMLElement||t instanceof HTMLElement}function $(t){return"undefined"!==typeof ShadowRoot&&(t instanceof Y(t).ShadowRoot||t instanceof ShadowRoot)}var J={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];Q(i)&&X(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});Q(r)&&X(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};function tt(t){return t.split("-")[0]}var et=Math.max,nt=Math.min,rt=Math.round;function it(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(Q(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(r=rt(n.width)/a||1),o>0&&(i=rt(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function ot(t){var e=it(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function at(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&$(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function st(t){return Y(t).getComputedStyle(t)}function ut(t){return["table","td","th"].indexOf(X(t))>=0}function lt(t){return((Z(t)?t.ownerDocument:t.document)||window.document).documentElement}function ct(t){return"html"===X(t)?t:t.assignedSlot||t.parentNode||($(t)?t.host:null)||lt(t)}function ht(t){return Q(t)&&"fixed"!==st(t).position?t.offsetParent:null}function ft(t){for(var e=Y(t),n=ht(t);n&&ut(n)&&"static"===st(n).position;)n=ht(n);return n&&("html"===X(n)||"body"===X(n)&&"static"===st(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Q(t)&&"fixed"===st(t).position)return null;for(var n=ct(t);Q(n)&&["html","body"].indexOf(X(n))<0;){var r=st(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function dt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function pt(t,e,n){return et(t,nt(e,n))}function vt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function gt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var yt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=tt(n.placement),u=dt(s),l=[T,C].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(t,e){return vt("number"!==typeof(t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:gt(t,O))}(i.padding,n),h=ot(o),f="y"===u?E:T,d="y"===u?S:C,p=n.rects.reference[l]+n.rects.reference[u]-a[u]-n.rects.popper[l],v=a[u]-n.rects.reference[u],g=ft(o),y=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,m=p/2-v/2,_=c[f],b=y-h[l]-c[d],w=y/2-h[l]/2+m,x=pt(_,w,b),k=u;n.modifiersData[r]=((e={})[k]=x,e.centerOffset=x-w,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=e.elements.popper.querySelector(r)))&&at(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function mt(t){return t.split("-")[1]}var _t={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bt(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,h=t.isFixed,f=a.x,d=void 0===f?0:f,p=a.y,v=void 0===p?0:p,g="function"===typeof c?c({x:d,y:v}):{x:d,y:v};d=g.x,v=g.y;var y=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),_=T,b=E,w=window;if(l){var x=ft(n),k="clientHeight",I="clientWidth";if(x===Y(n)&&"static"!==st(x=lt(n)).position&&"absolute"===s&&(k="scrollHeight",I="scrollWidth"),x=x,i===E||(i===T||i===C)&&o===R)b=S,v-=(h&&w.visualViewport?w.visualViewport.height:x[k])-r.height,v*=u?1:-1;if(i===T||(i===E||i===S)&&o===R)_=C,d-=(h&&w.visualViewport?w.visualViewport.width:x[I])-r.width,d*=u?1:-1}var O,A=Object.assign({position:s},l&&_t),P=!0===c?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:rt(e*r)/r||0,y:rt(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=P.x,v=P.y,u?Object.assign({},A,((O={})[b]=m?"0":"",O[_]=y?"0":"",O.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",O)):Object.assign({},A,((e={})[b]=m?v+"px":"",e[_]=y?d+"px":"",e.transform="",e))}var wt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,l={placement:tt(e.placement),variation:mt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,bt(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,bt(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},xt={passive:!0};var kt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=Y(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach((function(t){t.addEventListener("scroll",n.update,xt)})),s&&u.addEventListener("resize",n.update,xt),function(){o&&l.forEach((function(t){t.removeEventListener("scroll",n.update,xt)})),s&&u.removeEventListener("resize",n.update,xt)}},data:{}},Et={left:"right",right:"left",bottom:"top",top:"bottom"};function St(t){return t.replace(/left|right|bottom|top/g,(function(t){return Et[t]}))}var Ct={start:"end",end:"start"};function Tt(t){return t.replace(/start|end/g,(function(t){return Ct[t]}))}function It(t){var e=Y(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ot(t){return it(lt(t)).left+It(t).scrollLeft}function At(t){var e=st(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Rt(t){return["html","body","#document"].indexOf(X(t))>=0?t.ownerDocument.body:Q(t)&&At(t)?t:Rt(ct(t))}function Pt(t,e){var n;void 0===e&&(e=[]);var r=Rt(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=Y(r),a=i?[o].concat(o.visualViewport||[],At(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Pt(ct(a)))}function Lt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Nt(t,e){return e===L?Lt(function(t){var e=Y(t),n=lt(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+Ot(t),y:s}}(t)):Z(e)?function(t){var e=it(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Lt(function(t){var e,n=lt(t),r=It(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=et(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=et(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Ot(t),u=-r.scrollTop;return"rtl"===st(i||n).direction&&(s+=et(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(lt(t)))}function Dt(t,e,n){var r="clippingParents"===e?function(t){var e=Pt(ct(t)),n=["absolute","fixed"].indexOf(st(t).position)>=0&&Q(t)?ft(t):t;return Z(n)?e.filter((function(t){return Z(t)&&at(t,n)&&"body"!==X(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(e,n){var r=Nt(t,n);return e.top=et(r.top,e.top),e.right=nt(r.right,e.right),e.bottom=nt(r.bottom,e.bottom),e.left=et(r.left,e.left),e}),Nt(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Mt(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?tt(i):null,a=i?mt(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case E:e={x:s,y:n.y-r.height};break;case S:e={x:s,y:n.y+n.height};break;case C:e={x:n.x+n.width,y:u};break;case T:e={x:n.x-r.width,y:u};break;default:e={x:n.x,y:n.y}}var l=o?dt(o):null;if(null!=l){var c="y"===l?"height":"width";switch(a){case A:e[l]=e[l]-(n[c]/2-r[c]/2);break;case R:e[l]=e[l]+(n[c]/2-r[c]/2)}}return e}function jt(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.boundary,a=void 0===o?P:o,s=n.rootBoundary,u=void 0===s?L:s,l=n.elementContext,c=void 0===l?N:l,h=n.altBoundary,f=void 0!==h&&h,d=n.padding,p=void 0===d?0:d,v=vt("number"!==typeof p?p:gt(p,O)),g=c===N?D:N,y=t.rects.popper,m=t.elements[f?g:c],_=Dt(Z(m)?m:m.contextElement||lt(t.elements.popper),a,u),b=it(t.elements.reference),w=Mt({reference:b,element:y,strategy:"absolute",placement:i}),x=Lt(Object.assign({},y,w)),k=c===N?x:b,T={top:_.top-k.top+v.top,bottom:k.bottom-_.bottom+v.bottom,left:_.left-k.left+v.left,right:k.right-_.right+v.right},I=t.modifiersData.offset;if(c===N&&I){var A=I[i];Object.keys(T).forEach((function(t){var e=[C,S].indexOf(t)>=0?1:-1,n=[E,S].indexOf(t)>=0?"y":"x";T[t]+=A[n]*e}))}return T}var Ft={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,g=e.options.placement,y=tt(g),m=u||(y===g||!p?[St(g)]:function(t){if(tt(t)===I)return[];var e=St(t);return[Tt(t),e,Tt(e)]}(g)),_=[g].concat(m).reduce((function(t,n){return t.concat(tt(n)===I?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=void 0===u?j:u,c=mt(r),h=c?s?M:M.filter((function(t){return mt(t)===c})):O,f=h.filter((function(t){return l.indexOf(t)>=0}));0===f.length&&(f=h);var d=f.reduce((function(e,n){return e[n]=jt(t,{placement:n,boundary:i,rootBoundary:o,padding:a})[tt(n)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:n,boundary:c,rootBoundary:h,padding:l,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=e.rects.reference,w=e.rects.popper,x=new Map,k=!0,R=_[0],P=0;P<_.length;P++){var L=_[P],N=tt(L),D=mt(L)===A,F=[E,S].indexOf(N)>=0,z=F?"width":"height",V=jt(e,{placement:L,boundary:c,rootBoundary:h,altBoundary:f,padding:l}),U=F?D?C:T:D?S:E;b[z]>w[z]&&(U=St(U));var B=St(U),W=[];if(o&&W.push(V[N]<=0),s&&W.push(V[U]<=0,V[B]<=0),W.every((function(t){return t}))){R=L,k=!1;break}x.set(L,W)}if(k)for(var G=function(t){var e=_.find((function(e){var n=x.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return R=e,"break"},q=p?3:1;q>0;q--){if("break"===G(q))break}e.placement!==R&&(e.modifiersData[r]._skip=!0,e.placement=R,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function zt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Vt(t){return[E,C,S,T].some((function(e){return t[e]>=0}))}var Ut={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=jt(e,{elementContext:"reference"}),s=jt(e,{altBoundary:!0}),u=zt(a,r),l=zt(s,i,o),c=Vt(u),h=Vt(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}};var Bt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,a=j.reduce((function(t,n){return t[n]=function(t,e,n){var r=tt(t),i=[T,E].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[T,C].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,o),t}),{}),s=a[e.placement],u=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}};var Wt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Mt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var Gt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,g=jt(e,{boundary:u,rootBoundary:l,padding:h,altBoundary:c}),y=tt(e.placement),m=mt(e.placement),_=!m,b=dt(y),w="x"===b?"y":"x",x=e.modifiersData.popperOffsets,k=e.rects.reference,I=e.rects.popper,O="function"===typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,R="number"===typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(x){if(o){var N,D="y"===b?E:T,M="y"===b?S:C,j="y"===b?"height":"width",F=x[b],z=F+g[D],V=F-g[M],U=d?-I[j]/2:0,B=m===A?k[j]:I[j],W=m===A?-I[j]:-k[j],G=e.elements.arrow,q=d&&G?ot(G):{width:0,height:0},H=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},K=H[D],X=H[M],Y=pt(0,k[j],q[j]),Z=_?k[j]/2-U-Y-K-R.mainAxis:B-Y-K-R.mainAxis,Q=_?-k[j]/2+U+Y+X+R.mainAxis:W+Y+X+R.mainAxis,$=e.elements.arrow&&ft(e.elements.arrow),J=$?"y"===b?$.clientTop||0:$.clientLeft||0:0,rt=null!=(N=null==P?void 0:P[b])?N:0,it=F+Q-rt,at=pt(d?nt(z,F+Z-rt-J):z,F,d?et(V,it):V);x[b]=at,L[b]=at-F}if(s){var st,ut="x"===b?E:T,lt="x"===b?S:C,ct=x[w],ht="y"===w?"height":"width",vt=ct+g[ut],gt=ct-g[lt],yt=-1!==[E,T].indexOf(y),_t=null!=(st=null==P?void 0:P[w])?st:0,bt=yt?vt:ct-k[ht]-I[ht]-_t+R.altAxis,wt=yt?ct+k[ht]+I[ht]-_t-R.altAxis:gt,xt=d&&yt?function(t,e,n){var r=pt(t,e,n);return r>n?n:r}(bt,ct,wt):pt(d?bt:vt,ct,d?wt:gt);x[w]=xt,L[w]=xt-ct}e.modifiersData[r]=L}},requiresIfExists:["offset"]};function qt(t,e,n){void 0===n&&(n=!1);var r=Q(e),i=Q(e)&&function(t){var e=t.getBoundingClientRect(),n=rt(e.width)/t.offsetWidth||1,r=rt(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),o=lt(e),a=it(t,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==X(e)||At(o))&&(s=function(t){return t!==Y(t)&&Q(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:It(t);var e}(e)),Q(e)?((u=it(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Ot(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Ht(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}function Kt(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var Xt={placement:"bottom",modifiers:[],strategy:"absolute"};function Yt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function Zt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?Xt:i;return function(t,e,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xt,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Z(t)?Pt(t):t.contextElement?Pt(t.contextElement):[],popper:Pt(e)};var c=function(t){var e=Ht(t);return K.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(t){return t.enabled})),i.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"===typeof o){var s=o({state:i,name:e,instance:u,options:r}),l=function(){};a.push(s||l)}})),u.update()},forceUpdate:function(){if(!s){var t=i.elements,e=t.reference,n=t.popper;if(Yt(e,n)){i.rects={reference:qt(e,ft(n),"fixed"===i.options.strategy),popper:ot(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(t){return i.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,l=o.options,c=void 0===l?{}:l,h=o.name;"function"===typeof a&&(i=a({state:i,options:c,name:h,instance:u})||i)}else i.reset=!1,r=-1}}},update:Kt((function(){return new Promise((function(t){u.forceUpdate(),t(i)}))})),destroy:function(){l(),s=!0}};if(!Yt(t,e))return u;function l(){a.forEach((function(t){return t()})),a=[]}return u.setOptions(n).then((function(t){!s&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var Qt,$t=Zt(),Jt=Zt({defaultModifiers:[kt,Wt,wt,J,Bt,Ft,Gt,yt,Ut]}),te=Zt({defaultModifiers:[kt,Wt,wt,J]}),ee="transitionend",ne=function(t){var e=t.getAttribute("data-bs-target");if(!e||"#"===e){var n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),e=n&&"#"!==n?n.trim():null}return e},re=function(t){var e=ne(t);return e&&document.querySelector(e)?e:null},ie=function(t){var e=ne(t);return e?document.querySelector(e):null},oe=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=Number.parseFloat(n),o=Number.parseFloat(r);return i||o?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0},ae=function(t){t.dispatchEvent(new Event(ee))},se=function(t){return!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType)},ue=function(t){return se(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(t):null},le=function(t,e,n){Object.keys(n).forEach((function(r){var i,o=n[r],a=e[r],s=a&&se(a)?"element":null===(i=a)||void 0===i?"".concat(i):{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(s))throw new TypeError("".concat(t.toUpperCase(),': Option "').concat(r,'" provided type "').concat(s,'" but expected type "').concat(o,'".'))}))},ce=function(t){return!(!se(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility")},he=function(t){return!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")))},fe=function t(e){if(!document.documentElement.attachShadow)return null;if("function"===typeof e.getRootNode){var n=e.getRootNode();return n instanceof ShadowRoot?n:null}return e instanceof ShadowRoot?e:e.parentNode?t(e.parentNode):null},de=function(){},pe=function(t){t.offsetHeight},ve=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},ge=[],ye=function(){return"rtl"===document.documentElement.dir},me=function(t){var e;e=function(){var e=ve();if(e){var n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=function(){return e.fn[n]=r,t.jQueryInterface}}},"loading"===document.readyState?(ge.length||document.addEventListener("DOMContentLoaded",(function(){ge.forEach((function(t){return t()}))})),ge.push(e)):e()},_e=function(t){"function"===typeof t&&t()},be=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){var r=5,i=oe(e)+r,o=!1,a=function n(r){r.target===e&&(o=!0,e.removeEventListener(ee,n),_e(t))};e.addEventListener(ee,a),setTimeout((function(){o||ae(e)}),i)}else _e(t)},we=function(t,e,n,r){var i=t.indexOf(e);if(-1===i)return t[!n&&r?t.length-1:0];var o=t.length;return i+=n?1:-1,r&&(i=(i+o)%o),t[Math.max(0,Math.min(i,o-1))]},xe=/[^.]*(?=\..*)\.|.*/,ke=/\..*/,Ee=/::\d+$/,Se={},Ce=1,Te={mouseenter:"mouseover",mouseleave:"mouseout"},Ie=/^(mouseenter|mouseleave)/i,Oe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ae(t,e){return e&&"".concat(e,"::").concat(Ce++)||t.uidEvent||Ce++}function Re(t){var e=Ae(t);return t.uidEvent=e,Se[e]=Se[e]||{},Se[e]}function Pe(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object.keys(t),i=0,o=r.length;i<o;i++){var a=t[r[i]];if(a.originalHandler===e&&a.delegationSelector===n)return a}return null}function Le(t,e,n){var r="string"===typeof e,i=r?n:e,o=Me(t);return Oe.has(o)||(o=t),[r,i,o]}function Ne(t,e,n,r,i){if("string"===typeof e&&t){if(n||(n=r,r=null),Ie.test(e)){var o=function(t){return function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)}};r?r=o(r):n=o(n)}var a=k(Le(e,n,r),3),s=a[0],u=a[1],l=a[2],c=Re(t),h=c[l]||(c[l]={}),f=Pe(h,u,s?n:null);if(f)f.oneOff=f.oneOff&&i;else{var d=Ae(u,e.replace(xe,"")),p=s?function(t,e,n){return function r(i){for(var o=t.querySelectorAll(e),a=i.target;a&&a!==this;a=a.parentNode)for(var s=o.length;s--;)if(o[s]===a)return i.delegateTarget=a,r.oneOff&&je.off(t,i.type,e,n),n.apply(a,[i]);return null}}(t,n,r):function(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&je.off(t,r.type,e),e.apply(t,[r])}}(t,n);p.delegationSelector=s?n:null,p.originalHandler=u,p.oneOff=i,p.uidEvent=d,h[d]=p,t.addEventListener(l,p,s)}}}function De(t,e,n,r,i){var o=Pe(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function Me(t){return t=t.replace(ke,""),Te[t]||t}var je={on:function(t,e,n,r){Ne(t,e,n,r,!1)},one:function(t,e,n,r){Ne(t,e,n,r,!0)},off:function(t,e,n,r){if("string"===typeof e&&t){var i=k(Le(e,n,r),3),o=i[0],a=i[1],s=i[2],u=s!==e,l=Re(t),c=e.startsWith(".");if("undefined"===typeof a){c&&Object.keys(l).forEach((function(n){!function(t,e,n,r){var i=e[n]||{};Object.keys(i).forEach((function(o){if(o.includes(r)){var a=i[o];De(t,e,n,a.originalHandler,a.delegationSelector)}}))}(t,l,n,e.slice(1))}));var h=l[s]||{};Object.keys(h).forEach((function(n){var r=n.replace(Ee,"");if(!u||e.includes(r)){var i=h[n];De(t,l,s,i.originalHandler,i.delegationSelector)}}))}else{if(!l||!l[s])return;De(t,l,s,a,o?n:null)}}},trigger:function(t,e,n){if("string"!==typeof e||!t)return null;var r,i=ve(),o=Me(e),a=e!==o,s=Oe.has(o),u=!0,l=!0,c=!1,h=null;return a&&i&&(r=i.Event(e,n),i(t).trigger(r),u=!r.isPropagationStopped(),l=!r.isImmediatePropagationStopped(),c=r.isDefaultPrevented()),s?(h=document.createEvent("HTMLEvents")).initEvent(o,u,!0):h=new CustomEvent(e,{bubbles:u,cancelable:!0}),"undefined"!==typeof n&&Object.keys(n).forEach((function(t){Object.defineProperty(h,t,{get:function(){return n[t]}})})),c&&h.preventDefault(),l&&t.dispatchEvent(h),h.defaultPrevented&&"undefined"!==typeof r&&r.preventDefault(),h}},Fe=new Map,ze=function(t,e,n){Fe.has(t)||Fe.set(t,new Map);var r=Fe.get(t);r.has(e)||0===r.size?r.set(e,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},Ve=function(t,e){return Fe.has(t)&&Fe.get(t).get(e)||null},Ue=function(t,e){if(Fe.has(t)){var n=Fe.get(t);n.delete(e),0===n.size&&Fe.delete(t)}},Be=function(){function t(e){b(this,t),(e=ue(e))&&(this._element=e,ze(this._element,this.constructor.DATA_KEY,this))}return x(t,[{key:"dispose",value:function(){var t=this;Ue(this._element,this.constructor.DATA_KEY),je.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((function(e){t[e]=null}))}},{key:"_queueCallback",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];be(t,e,n)}}],[{key:"getInstance",value:function(t){return Ve(ue(t),this.DATA_KEY)}},{key:"getOrCreateInstance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}},{key:"VERSION",get:function(){return"5.1.3"}},{key:"NAME",get:function(){throw new Error('You have to implement the static method "NAME", for each component!')}},{key:"DATA_KEY",get:function(){return"bs.".concat(this.NAME)}},{key:"EVENT_KEY",get:function(){return".".concat(this.DATA_KEY)}}]),t}(),We=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide",n="click.dismiss".concat(t.EVENT_KEY),r=t.NAME;je.on(document,n,'[data-bs-dismiss="'.concat(r,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!he(this)){var i=ie(this)||this.closest(".".concat(r));t.getOrCreateInstance(i)[e]()}}))},Ge=".".concat("bs.alert"),qe="close".concat(Ge),He="closed".concat(Ge),Ke=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"close",value:function(){var t=this;if(!je.trigger(this._element,qe).defaultPrevented){this._element.classList.remove("show");var e=this._element.classList.contains("fade");this._queueCallback((function(){return t._destroyElement()}),this._element,e)}}},{key:"_destroyElement",value:function(){this._element.remove(),je.trigger(this._element,He),this.dispose()}}],[{key:"NAME",get:function(){return"alert"}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}]),n}(Be);We(Ke,"close"),me(Ke);var Xe=".".concat("bs.button"),Ye='[data-bs-toggle="button"]',Ze="click".concat(Xe).concat(".data-api"),Qe=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"toggle",value:function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}}],[{key:"NAME",get:function(){return"button"}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}]),n}(Be);function $e(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function Je(t){return t.replace(/[A-Z]/g,(function(t){return"-".concat(t.toLowerCase())}))}je.on(document,Ze,Ye,(function(t){t.preventDefault();var e=t.target.closest(Ye);Qe.getOrCreateInstance(e).toggle()})),me(Qe);var tn={setDataAttribute:function(t,e,n){t.setAttribute("data-bs-".concat(Je(e)),n)},removeDataAttribute:function(t,e){t.removeAttribute("data-bs-".concat(Je(e)))},getDataAttributes:function(t){if(!t)return{};var e={};return Object.keys(t.dataset).filter((function(t){return t.startsWith("bs")})).forEach((function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=$e(t.dataset[n])})),e},getDataAttribute:function(t,e){return $e(t.getAttribute("data-bs-".concat(Je(e))))},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:function(t){return{top:t.offsetTop,left:t.offsetLeft}}},en={find:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return(e=[]).concat.apply(e,f(Element.prototype.querySelectorAll.call(n,t)))},findOne:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(e,t)},children:function(t,e){var n;return(n=[]).concat.apply(n,f(t.children)).filter((function(t){return t.matches(e)}))},parents:function(t,e){for(var n=[],r=t.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(e)&&n.push(r),r=r.parentNode;return n},prev:function(t,e){for(var n=t.previousElementSibling;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next:function(t,e){for(var n=t.nextElementSibling;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren:function(t){var e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((function(t){return"".concat(t,':not([tabindex^="-"])')})).join(", ");return this.find(e,t).filter((function(t){return!he(t)&&ce(t)}))}},nn="carousel",rn=".".concat("bs.carousel"),on=".data-api",an={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},sn={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},un="next",ln="prev",cn="left",hn="right",fn=(s(Qt={},"ArrowLeft",hn),s(Qt,"ArrowRight",cn),Qt),dn="slide".concat(rn),pn="slid".concat(rn),vn="keydown".concat(rn),gn="mouseenter".concat(rn),yn="mouseleave".concat(rn),mn="touchstart".concat(rn),_n="touchmove".concat(rn),bn="touchend".concat(rn),wn="pointerdown".concat(rn),xn="pointerup".concat(rn),kn="dragstart".concat(rn),En="load".concat(rn).concat(on),Sn="click".concat(rn).concat(on),Cn="active",Tn=".active.carousel-item",In=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t))._items=null,i._interval=null,i._activeElement=null,i._isPaused=!1,i._isSliding=!1,i.touchTimeout=null,i.touchStartX=0,i.touchDeltaX=0,i._config=i._getConfig(r),i._indicatorsElement=en.findOne(".carousel-indicators",i._element),i._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,i._pointerEvent=Boolean(window.PointerEvent),i._addEventListeners(),i}return x(n,[{key:"next",value:function(){this._slide(un)}},{key:"nextWhenVisible",value:function(){!document.hidden&&ce(this._element)&&this.next()}},{key:"prev",value:function(){this._slide(ln)}},{key:"pause",value:function(t){t||(this._isPaused=!0),en.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(ae(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}},{key:"cycle",value:function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}},{key:"to",value:function(t){var e=this;this._activeElement=en.findOne(Tn,this._element);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)je.one(this._element,pn,(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var r=t>n?un:ln;this._slide(r,this._items[t])}}},{key:"_getConfig",value:function(t){return t=l(l(l({},an),tn.getDataAttributes(this._element)),"object"===typeof t?t:{}),le(nn,t,sn),t}},{key:"_handleSwipe",value:function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?hn:cn)}}},{key:"_addEventListeners",value:function(){var t=this;this._config.keyboard&&je.on(this._element,vn,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(je.on(this._element,gn,(function(e){return t.pause(e)})),je.on(this._element,yn,(function(e){return t.cycle(e)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}},{key:"_addTouchEventListeners",value:function(){var t=this,e=function(e){return t._pointerEvent&&("pen"===e.pointerType||"touch"===e.pointerType)},n=function(n){e(n)?t.touchStartX=n.clientX:t._pointerEvent||(t.touchStartX=n.touches[0].clientX)},r=function(n){e(n)&&(t.touchDeltaX=n.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};en.find(".carousel-item img",this._element).forEach((function(t){je.on(t,kn,(function(t){return t.preventDefault()}))})),this._pointerEvent?(je.on(this._element,wn,(function(t){return n(t)})),je.on(this._element,xn,(function(t){return r(t)})),this._element.classList.add("pointer-event")):(je.on(this._element,mn,(function(t){return n(t)})),je.on(this._element,_n,(function(e){return function(e){t.touchDeltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-t.touchStartX}(e)})),je.on(this._element,bn,(function(t){return r(t)})))}},{key:"_keydown",value:function(t){if(!/input|textarea/i.test(t.target.tagName)){var e=fn[t.key];e&&(t.preventDefault(),this._slide(e))}}},{key:"_getItemIndex",value:function(t){return this._items=t&&t.parentNode?en.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}},{key:"_getItemByOrder",value:function(t,e){var n=t===un;return we(this._items,e,n,this._config.wrap)}},{key:"_triggerSlideEvent",value:function(t,e){var n=this._getItemIndex(t),r=this._getItemIndex(en.findOne(Tn,this._element));return je.trigger(this._element,dn,{relatedTarget:t,direction:e,from:r,to:n})}},{key:"_setActiveIndicatorElement",value:function(t){if(this._indicatorsElement){var e=en.findOne(".active",this._indicatorsElement);e.classList.remove(Cn),e.removeAttribute("aria-current");for(var n=en.find("[data-bs-target]",this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[r].classList.add(Cn),n[r].setAttribute("aria-current","true");break}}}},{key:"_updateInterval",value:function(){var t=this._activeElement||en.findOne(Tn,this._element);if(t){var e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}}},{key:"_slide",value:function(t,e){var n=this,r=this._directionToOrder(t),i=en.findOne(Tn,this._element),o=this._getItemIndex(i),a=e||this._getItemByOrder(r,i),s=this._getItemIndex(a),u=Boolean(this._interval),l=r===un,c=l?"carousel-item-start":"carousel-item-end",h=l?"carousel-item-next":"carousel-item-prev",f=this._orderToDirection(r);if(a&&a.classList.contains(Cn))this._isSliding=!1;else if(!this._isSliding&&!this._triggerSlideEvent(a,f).defaultPrevented&&i&&a){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(a),this._activeElement=a;var d=function(){je.trigger(n._element,pn,{relatedTarget:a,direction:f,from:o,to:s})};if(this._element.classList.contains("slide")){a.classList.add(h),pe(a),i.classList.add(c),a.classList.add(c);this._queueCallback((function(){a.classList.remove(c,h),a.classList.add(Cn),i.classList.remove(Cn,h,c),n._isSliding=!1,setTimeout(d,0)}),i,!0)}else i.classList.remove(Cn),a.classList.add(Cn),this._isSliding=!1,d();u&&this.cycle()}}},{key:"_directionToOrder",value:function(t){return[hn,cn].includes(t)?ye()?t===cn?ln:un:t===cn?un:ln:t}},{key:"_orderToDirection",value:function(t){return[un,ln].includes(t)?ye()?t===ln?cn:hn:t===ln?hn:cn:t}}],[{key:"Default",get:function(){return an}},{key:"NAME",get:function(){return nn}},{key:"carouselInterface",value:function(t,e){var r=n.getOrCreateInstance(t,e),i=r._config;"object"===typeof e&&(i=l(l({},i),e));var o="string"===typeof e?e:i.slide;if("number"===typeof e)r.to(e);else if("string"===typeof o){if("undefined"===typeof r[o])throw new TypeError('No method named "'.concat(o,'"'));r[o]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}},{key:"jQueryInterface",value:function(t){return this.each((function(){n.carouselInterface(this,t)}))}},{key:"dataApiClickHandler",value:function(t){var e=ie(this);if(e&&e.classList.contains("carousel")){var r=l(l({},tn.getDataAttributes(e)),tn.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),n.carouselInterface(e,r),i&&n.getInstance(e).to(i),t.preventDefault()}}}]),n}(Be);je.on(document,Sn,"[data-bs-slide], [data-bs-slide-to]",In.dataApiClickHandler),je.on(window,En,(function(){for(var t=en.find('[data-bs-ride="carousel"]'),e=0,n=t.length;e<n;e++)In.carouselInterface(t[e],In.getInstance(t[e]))})),me(In);var On="collapse",An="bs.collapse",Rn=".".concat(An),Pn={toggle:!0,parent:null},Ln={toggle:"boolean",parent:"(null|element)"},Nn="show".concat(Rn),Dn="shown".concat(Rn),Mn="hide".concat(Rn),jn="hidden".concat(Rn),Fn="click".concat(Rn).concat(".data-api"),zn="show",Vn="collapse",Un="collapsing",Bn="collapsed",Wn=":scope .".concat(Vn," .").concat(Vn),Gn='[data-bs-toggle="collapse"]',qn=function(t){p(n,t);var e=_(n);function n(t,r){var i;b(this,n),(i=e.call(this,t))._isTransitioning=!1,i._config=i._getConfig(r),i._triggerArray=[];for(var o=en.find(Gn),a=0,s=o.length;a<s;a++){var u=o[a],l=re(u),c=en.find(l).filter((function(t){return t===i._element}));null!==l&&c.length&&(i._selector=l,i._triggerArray.push(u))}return i._initializeChildren(),i._config.parent||i._addAriaAndCollapsedClass(i._triggerArray,i._isShown()),i._config.toggle&&i.toggle(),i}return x(n,[{key:"toggle",value:function(){this._isShown()?this.hide():this.show()}},{key:"show",value:function(){var t=this;if(!this._isTransitioning&&!this._isShown()){var e,r=[];if(this._config.parent){var i=en.find(Wn,this._config.parent);r=en.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((function(t){return!i.includes(t)}))}var o=en.findOne(this._selector);if(r.length){var a=r.find((function(t){return o!==t}));if((e=a?n.getInstance(a):null)&&e._isTransitioning)return}if(!je.trigger(this._element,Nn).defaultPrevented){r.forEach((function(t){o!==t&&n.getOrCreateInstance(t,{toggle:!1}).hide(),e||ze(t,An,null)}));var s=this._getDimension();this._element.classList.remove(Vn),this._element.classList.add(Un),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;var u=s[0].toUpperCase()+s.slice(1),l="scroll".concat(u);this._queueCallback((function(){t._isTransitioning=!1,t._element.classList.remove(Un),t._element.classList.add(Vn,zn),t._element.style[s]="",je.trigger(t._element,Dn)}),this._element,!0),this._element.style[s]="".concat(this._element[l],"px")}}}},{key:"hide",value:function(){var t=this;if(!this._isTransitioning&&this._isShown()&&!je.trigger(this._element,Mn).defaultPrevented){var e=this._getDimension();this._element.style[e]="".concat(this._element.getBoundingClientRect()[e],"px"),pe(this._element),this._element.classList.add(Un),this._element.classList.remove(Vn,zn);for(var n=this._triggerArray.length,r=0;r<n;r++){var i=this._triggerArray[r],o=ie(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback((function(){t._isTransitioning=!1,t._element.classList.remove(Un),t._element.classList.add(Vn),je.trigger(t._element,jn)}),this._element,!0)}}},{key:"_isShown",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element;return t.classList.contains(zn)}},{key:"_getConfig",value:function(t){return(t=l(l(l({},Pn),tn.getDataAttributes(this._element)),t)).toggle=Boolean(t.toggle),t.parent=ue(t.parent),le(On,t,Ln),t}},{key:"_getDimension",value:function(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}},{key:"_initializeChildren",value:function(){var t=this;if(this._config.parent){var e=en.find(Wn,this._config.parent);en.find(Gn,this._config.parent).filter((function(t){return!e.includes(t)})).forEach((function(e){var n=ie(e);n&&t._addAriaAndCollapsedClass([e],t._isShown(n))}))}}},{key:"_addAriaAndCollapsedClass",value:function(t,e){t.length&&t.forEach((function(t){e?t.classList.remove(Bn):t.classList.add(Bn),t.setAttribute("aria-expanded",e)}))}}],[{key:"Default",get:function(){return Pn}},{key:"NAME",get:function(){return On}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e={};"string"===typeof t&&/show|hide/.test(t)&&(e.toggle=!1);var r=n.getOrCreateInstance(this,e);if("string"===typeof t){if("undefined"===typeof r[t])throw new TypeError('No method named "'.concat(t,'"'));r[t]()}}))}}]),n}(Be);je.on(document,Fn,Gn,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();var e=re(this);en.find(e).forEach((function(t){qn.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),me(qn);var Hn="dropdown",Kn=".".concat("bs.dropdown"),Xn=".data-api",Yn="Escape",Zn="Space",Qn="ArrowUp",$n="ArrowDown",Jn=new RegExp("".concat(Qn,"|").concat($n,"|").concat(Yn)),tr="hide".concat(Kn),er="hidden".concat(Kn),nr="show".concat(Kn),rr="shown".concat(Kn),ir="click".concat(Kn).concat(Xn),or="keydown".concat(Kn).concat(Xn),ar="keyup".concat(Kn).concat(Xn),sr="show",ur='[data-bs-toggle="dropdown"]',lr=".dropdown-menu",cr=ye()?"top-end":"top-start",hr=ye()?"top-start":"top-end",fr=ye()?"bottom-end":"bottom-start",dr=ye()?"bottom-start":"bottom-end",pr=ye()?"left-start":"right-start",vr=ye()?"right-start":"left-start",gr={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},yr={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"},mr=function(e){p(r,e);var n=_(r);function r(t,e){var i;return b(this,r),(i=n.call(this,t))._popper=null,i._config=i._getConfig(e),i._menu=i._getMenuElement(),i._inNavbar=i._detectNavbar(),i}return x(r,[{key:"toggle",value:function(){return this._isShown()?this.hide():this.show()}},{key:"show",value:function(){if(!he(this._element)&&!this._isShown(this._menu)){var t={relatedTarget:this._element};if(!je.trigger(this._element,nr,t).defaultPrevented){var e,n=r.getParentFromElement(this._element);if(this._inNavbar?tn.setDataAttribute(this._menu,"popper","none"):this._createPopper(n),"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav"))(e=[]).concat.apply(e,f(document.body.children)).forEach((function(t){return je.on(t,"mouseover",de)}));this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(sr),this._element.classList.add(sr),je.trigger(this._element,rr,t)}}}},{key:"hide",value:function(){if(!he(this._element)&&this._isShown(this._menu)){var t={relatedTarget:this._element};this._completeHide(t)}}},{key:"dispose",value:function(){this._popper&&this._popper.destroy(),a(i(r.prototype),"dispose",this).call(this)}},{key:"update",value:function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}},{key:"_completeHide",value:function(t){if(!je.trigger(this._element,tr,t).defaultPrevented){var e;if("ontouchstart"in document.documentElement)(e=[]).concat.apply(e,f(document.body.children)).forEach((function(t){return je.off(t,"mouseover",de)}));this._popper&&this._popper.destroy(),this._menu.classList.remove(sr),this._element.classList.remove(sr),this._element.setAttribute("aria-expanded","false"),tn.removeDataAttribute(this._menu,"popper"),je.trigger(this._element,er,t)}}},{key:"_getConfig",value:function(t){if(t=l(l(l({},this.constructor.Default),tn.getDataAttributes(this._element)),t),le(Hn,t,this.constructor.DefaultType),"object"===typeof t.reference&&!se(t.reference)&&"function"!==typeof t.reference.getBoundingClientRect)throw new TypeError("".concat(Hn.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return t}},{key:"_createPopper",value:function(e){if("undefined"===typeof t)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var n=this._element;"parent"===this._config.reference?n=e:se(this._config.reference)?n=ue(this._config.reference):"object"===typeof this._config.reference&&(n=this._config.reference);var r=this._getPopperConfig(),i=r.modifiers.find((function(t){return"applyStyles"===t.name&&!1===t.enabled}));this._popper=Jt(n,this._menu,r),i&&tn.setDataAttribute(this._menu,"popper","static")}},{key:"_isShown",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element;return t.classList.contains(sr)}},{key:"_getMenuElement",value:function(){return en.next(this._element,lr)[0]}},{key:"_getPlacement",value:function(){var t=this._element.parentNode;if(t.classList.contains("dropend"))return pr;if(t.classList.contains("dropstart"))return vr;var e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?hr:cr:e?dr:fr}},{key:"_detectNavbar",value:function(){return null!==this._element.closest(".".concat("navbar"))}},{key:"_getOffset",value:function(){var t=this,e=this._config.offset;return"string"===typeof e?e.split(",").map((function(t){return Number.parseInt(t,10)})):"function"===typeof e?function(n){return e(n,t._element)}:e}},{key:"_getPopperConfig",value:function(){var t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),l(l({},t),"function"===typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig)}},{key:"_selectMenuItem",value:function(t){var e=t.key,n=t.target,r=en.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(ce);r.length&&we(r,n,e===$n,!r.includes(n)).focus()}}],[{key:"Default",get:function(){return gr}},{key:"DefaultType",get:function(){return yr}},{key:"NAME",get:function(){return Hn}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=r.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}},{key:"clearMenus",value:function(t){if(!t||2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(var e=en.find(ur),n=0,i=e.length;n<i;n++){var o=r.getInstance(e[n]);if(o&&!1!==o._config.autoClose&&o._isShown()){var a={relatedTarget:o._element};if(t){var s=t.composedPath(),u=s.includes(o._menu);if(s.includes(o._element)||"inside"===o._config.autoClose&&!u||"outside"===o._config.autoClose&&u)continue;if(o._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(a.clickEvent=t)}o._completeHide(a)}}}},{key:"getParentFromElement",value:function(t){return ie(t)||t.parentNode}},{key:"dataApiKeydownHandler",value:function(t){if(!(/input|textarea/i.test(t.target.tagName)?t.key===Zn||t.key!==Yn&&(t.key!==$n&&t.key!==Qn||t.target.closest(lr)):!Jn.test(t.key))){var e=this.classList.contains(sr);if((e||t.key!==Yn)&&(t.preventDefault(),t.stopPropagation(),!he(this))){var n=this.matches(ur)?this:en.prev(this,ur)[0],i=r.getOrCreateInstance(n);if(t.key!==Yn)return t.key===Qn||t.key===$n?(e||i.show(),void i._selectMenuItem(t)):void(e&&t.key!==Zn||r.clearMenus());i.hide()}}}}]),r}(Be);je.on(document,or,ur,mr.dataApiKeydownHandler),je.on(document,or,lr,mr.dataApiKeydownHandler),je.on(document,ir,mr.clearMenus),je.on(document,ar,mr.clearMenus),je.on(document,ir,ur,(function(t){t.preventDefault(),mr.getOrCreateInstance(this).toggle()})),me(mr);var _r=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",br=".sticky-top",wr=function(){function t(){b(this,t),this._element=document.body}return x(t,[{key:"getWidth",value:function(){var t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}},{key:"hide",value:function(){var t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(function(e){return e+t})),this._setElementAttributes(_r,"paddingRight",(function(e){return e+t})),this._setElementAttributes(br,"marginRight",(function(e){return e-t}))}},{key:"_disableOverFlow",value:function(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}},{key:"_setElementAttributes",value:function(t,e,n){var r=this,i=this.getWidth();this._applyManipulationCallback(t,(function(t){if(!(t!==r._element&&window.innerWidth>t.clientWidth+i)){r._saveInitialAttribute(t,e);var o=window.getComputedStyle(t)[e];t.style[e]="".concat(n(Number.parseFloat(o)),"px")}}))}},{key:"reset",value:function(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(_r,"paddingRight"),this._resetElementAttributes(br,"marginRight")}},{key:"_saveInitialAttribute",value:function(t,e){var n=t.style[e];n&&tn.setDataAttribute(t,e,n)}},{key:"_resetElementAttributes",value:function(t,e){this._applyManipulationCallback(t,(function(t){var n=tn.getDataAttribute(t,e);"undefined"===typeof n?t.style.removeProperty(e):(tn.removeDataAttribute(t,e),t.style[e]=n)}))}},{key:"_applyManipulationCallback",value:function(t,e){se(t)?e(t):en.find(t,this._element).forEach(e)}},{key:"isOverflowing",value:function(){return this.getWidth()>0}}]),t}(),xr={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},kr={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},Er="backdrop",Sr="show",Cr="mousedown.bs.".concat(Er),Tr=function(){function t(e){b(this,t),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}return x(t,[{key:"show",value:function(t){this._config.isVisible?(this._append(),this._config.isAnimated&&pe(this._getElement()),this._getElement().classList.add(Sr),this._emulateAnimation((function(){_e(t)}))):_e(t)}},{key:"hide",value:function(t){var e=this;this._config.isVisible?(this._getElement().classList.remove(Sr),this._emulateAnimation((function(){e.dispose(),_e(t)}))):_e(t)}},{key:"_getElement",value:function(){if(!this._element){var t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}},{key:"_getConfig",value:function(t){return(t=l(l({},xr),"object"===typeof t?t:{})).rootElement=ue(t.rootElement),le(Er,t,kr),t}},{key:"_append",value:function(){var t=this;this._isAppended||(this._config.rootElement.append(this._getElement()),je.on(this._getElement(),Cr,(function(){_e(t._config.clickCallback)})),this._isAppended=!0)}},{key:"dispose",value:function(){this._isAppended&&(je.off(this._element,Cr),this._element.remove(),this._isAppended=!1)}},{key:"_emulateAnimation",value:function(t){be(t,this._getElement(),this._config.isAnimated)}}]),t}(),Ir={trapElement:null,autofocus:!0},Or={trapElement:"element",autofocus:"boolean"},Ar=".".concat("bs.focustrap"),Rr="focusin".concat(Ar),Pr="keydown.tab".concat(Ar),Lr="backward",Nr=function(){function t(e){b(this,t),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}return x(t,[{key:"activate",value:function(){var t=this,e=this._config,n=e.trapElement,r=e.autofocus;this._isActive||(r&&n.focus(),je.off(document,Ar),je.on(document,Rr,(function(e){return t._handleFocusin(e)})),je.on(document,Pr,(function(e){return t._handleKeydown(e)})),this._isActive=!0)}},{key:"deactivate",value:function(){this._isActive&&(this._isActive=!1,je.off(document,Ar))}},{key:"_handleFocusin",value:function(t){var e=t.target,n=this._config.trapElement;if(e!==document&&e!==n&&!n.contains(e)){var r=en.focusableChildren(n);0===r.length?n.focus():this._lastTabNavDirection===Lr?r[r.length-1].focus():r[0].focus()}}},{key:"_handleKeydown",value:function(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?Lr:"forward")}},{key:"_getConfig",value:function(t){return t=l(l({},Ir),"object"===typeof t?t:{}),le("focustrap",t,Or),t}}]),t}(),Dr="modal",Mr=".".concat("bs.modal"),jr="Escape",Fr={backdrop:!0,keyboard:!0,focus:!0},zr={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Vr="hide".concat(Mr),Ur="hidePrevented".concat(Mr),Br="hidden".concat(Mr),Wr="show".concat(Mr),Gr="shown".concat(Mr),qr="resize".concat(Mr),Hr="click.dismiss".concat(Mr),Kr="keydown.dismiss".concat(Mr),Xr="mouseup.dismiss".concat(Mr),Yr="mousedown.dismiss".concat(Mr),Zr="click".concat(Mr).concat(".data-api"),Qr="modal-open",$r="show",Jr="modal-static",ti=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t))._config=i._getConfig(r),i._dialog=en.findOne(".modal-dialog",i._element),i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._isShown=!1,i._ignoreBackdropClick=!1,i._isTransitioning=!1,i._scrollBar=new wr,i}return x(n,[{key:"toggle",value:function(t){return this._isShown?this.hide():this.show(t)}},{key:"show",value:function(t){var e=this;this._isShown||this._isTransitioning||(je.trigger(this._element,Wr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(Qr),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),je.on(this._dialog,Yr,(function(){je.one(e._element,Xr,(function(t){t.target===e._element&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)}))))}},{key:"hide",value:function(){var t=this;if(this._isShown&&!this._isTransitioning&&!je.trigger(this._element,Vr).defaultPrevented){this._isShown=!1;var e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove($r),je.off(this._element,Hr),je.off(this._dialog,Yr),this._queueCallback((function(){return t._hideModal()}),this._element,e)}}},{key:"dispose",value:function(){[window,this._dialog].forEach((function(t){return je.off(t,Mr)})),this._backdrop.dispose(),this._focustrap.deactivate(),a(i(n.prototype),"dispose",this).call(this)}},{key:"handleUpdate",value:function(){this._adjustDialog()}},{key:"_initializeBackDrop",value:function(){return new Tr({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}},{key:"_initializeFocusTrap",value:function(){return new Nr({trapElement:this._element})}},{key:"_getConfig",value:function(t){return t=l(l(l({},Fr),tn.getDataAttributes(this._element)),"object"===typeof t?t:{}),le(Dr,t,zr),t}},{key:"_showElement",value:function(t){var e=this,n=this._isAnimated(),r=en.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&pe(this._element),this._element.classList.add($r);this._queueCallback((function(){e._config.focus&&e._focustrap.activate(),e._isTransitioning=!1,je.trigger(e._element,Gr,{relatedTarget:t})}),this._dialog,n)}},{key:"_setEscapeEvent",value:function(){var t=this;this._isShown?je.on(this._element,Kr,(function(e){t._config.keyboard&&e.key===jr?(e.preventDefault(),t.hide()):t._config.keyboard||e.key!==jr||t._triggerBackdropTransition()})):je.off(this._element,Kr)}},{key:"_setResizeEvent",value:function(){var t=this;this._isShown?je.on(window,qr,(function(){return t._adjustDialog()})):je.off(window,qr)}},{key:"_hideModal",value:function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((function(){document.body.classList.remove(Qr),t._resetAdjustments(),t._scrollBar.reset(),je.trigger(t._element,Br)}))}},{key:"_showBackdrop",value:function(t){var e=this;je.on(this._element,Hr,(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===e._config.backdrop?e.hide():"static"===e._config.backdrop&&e._triggerBackdropTransition())})),this._backdrop.show(t)}},{key:"_isAnimated",value:function(){return this._element.classList.contains("fade")}},{key:"_triggerBackdropTransition",value:function(){var t=this;if(!je.trigger(this._element,Ur).defaultPrevented){var e=this._element,n=e.classList,r=e.scrollHeight,i=e.style,o=r>document.documentElement.clientHeight;!o&&"hidden"===i.overflowY||n.contains(Jr)||(o||(i.overflowY="hidden"),n.add(Jr),this._queueCallback((function(){n.remove(Jr),o||t._queueCallback((function(){i.overflowY=""}),t._dialog)}),this._dialog),this._element.focus())}}},{key:"_adjustDialog",value:function(){var t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!ye()||n&&!t&&ye())&&(this._element.style.paddingLeft="".concat(e,"px")),(n&&!t&&!ye()||!n&&t&&ye())&&(this._element.style.paddingRight="".concat(e,"px"))}},{key:"_resetAdjustments",value:function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}}],[{key:"Default",get:function(){return Fr}},{key:"NAME",get:function(){return Dr}},{key:"jQueryInterface",value:function(t,e){return this.each((function(){var r=n.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof r[t])throw new TypeError('No method named "'.concat(t,'"'));r[t](e)}}))}}]),n}(Be);je.on(document,Zr,'[data-bs-toggle="modal"]',(function(t){var e=this,n=ie(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),je.one(n,Wr,(function(t){t.defaultPrevented||je.one(n,Br,(function(){ce(e)&&e.focus()}))}));var r=en.findOne(".modal.show");r&&ti.getInstance(r).hide(),ti.getOrCreateInstance(n).toggle(this)})),We(ti),me(ti);var ei="offcanvas",ni=".".concat("bs.offcanvas"),ri=".data-api",ii="load".concat(ni).concat(ri),oi={backdrop:!0,keyboard:!0,scroll:!1},ai={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},si="show",ui=".offcanvas.show",li="show".concat(ni),ci="shown".concat(ni),hi="hide".concat(ni),fi="hidden".concat(ni),di="click".concat(ni).concat(ri),pi="keydown.dismiss".concat(ni),vi=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t))._config=i._getConfig(r),i._isShown=!1,i._backdrop=i._initializeBackDrop(),i._focustrap=i._initializeFocusTrap(),i._addEventListeners(),i}return x(n,[{key:"toggle",value:function(t){return this._isShown?this.hide():this.show(t)}},{key:"show",value:function(t){var e=this;if(!this._isShown&&!je.trigger(this._element,li,{relatedTarget:t}).defaultPrevented){this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new wr).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(si);this._queueCallback((function(){e._config.scroll||e._focustrap.activate(),je.trigger(e._element,ci,{relatedTarget:t})}),this._element,!0)}}},{key:"hide",value:function(){var t=this;if(this._isShown&&!je.trigger(this._element,hi).defaultPrevented){this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(si),this._backdrop.hide();this._queueCallback((function(){t._element.setAttribute("aria-hidden",!0),t._element.removeAttribute("aria-modal"),t._element.removeAttribute("role"),t._element.style.visibility="hidden",t._config.scroll||(new wr).reset(),je.trigger(t._element,fi)}),this._element,!0)}}},{key:"dispose",value:function(){this._backdrop.dispose(),this._focustrap.deactivate(),a(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(t){return t=l(l(l({},oi),tn.getDataAttributes(this._element)),"object"===typeof t?t:{}),le(ei,t,ai),t}},{key:"_initializeBackDrop",value:function(){var t=this;return new Tr({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:function(){return t.hide()}})}},{key:"_initializeFocusTrap",value:function(){return new Nr({trapElement:this._element})}},{key:"_addEventListeners",value:function(){var t=this;je.on(this._element,pi,(function(e){t._config.keyboard&&"Escape"===e.key&&t.hide()}))}}],[{key:"NAME",get:function(){return ei}},{key:"Default",get:function(){return oi}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}]),n}(Be);je.on(document,di,'[data-bs-toggle="offcanvas"]',(function(t){var e=this,n=ie(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),!he(this)){je.one(n,fi,(function(){ce(e)&&e.focus()}));var r=en.findOne(ui);r&&r!==n&&vi.getInstance(r).hide(),vi.getOrCreateInstance(n).toggle(this)}})),je.on(window,ii,(function(){return en.find(ui).forEach((function(t){return vi.getOrCreateInstance(t).show()}))})),We(vi),me(vi);var gi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),yi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,mi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,_i={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function bi(t,e,n){var r;if(!t.length)return t;if(n&&"function"===typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=(r=[]).concat.apply(r,f(i.body.querySelectorAll("*"))),a=function(t,n){var r,i=o[t],a=i.nodeName.toLowerCase();if(!Object.keys(e).includes(a))return i.remove(),"continue";var s=(r=[]).concat.apply(r,f(i.attributes)),u=[].concat(e["*"]||[],e[a]||[]);s.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(e.includes(n))return!gi.has(n)||Boolean(yi.test(t.nodeValue)||mi.test(t.nodeValue));for(var r=e.filter((function(t){return t instanceof RegExp})),i=0,o=r.length;i<o;i++)if(r[i].test(n))return!0;return!1})(t,u)||i.removeAttribute(t.nodeName)}))},s=0,u=o.length;s<u;s++)a(s);return i.body.innerHTML}var wi="tooltip",xi=".".concat("bs.tooltip"),ki=new Set(["sanitize","allowList","sanitizeFn"]),Ei={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Si={AUTO:"auto",TOP:"top",RIGHT:ye()?"left":"right",BOTTOM:"bottom",LEFT:ye()?"right":"left"},Ci={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:_i,popperConfig:null},Ti={HIDE:"hide".concat(xi),HIDDEN:"hidden".concat(xi),SHOW:"show".concat(xi),SHOWN:"shown".concat(xi),INSERTED:"inserted".concat(xi),CLICK:"click".concat(xi),FOCUSIN:"focusin".concat(xi),FOCUSOUT:"focusout".concat(xi),MOUSEENTER:"mouseenter".concat(xi),MOUSELEAVE:"mouseleave".concat(xi)},Ii="fade",Oi="show",Ai="show",Ri="out",Pi=".tooltip-inner",Li=".".concat("modal"),Ni="hide.bs.modal",Di="hover",Mi="focus",ji=function(e){p(r,e);var n=_(r);function r(e,i){var o;if(b(this,r),"undefined"===typeof t)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(o=n.call(this,e))._isEnabled=!0,o._timeout=0,o._hoverState="",o._activeTrigger={},o._popper=null,o._config=o._getConfig(i),o.tip=null,o._setListeners(),o}return x(r,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"toggleEnabled",value:function(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function(t){if(this._isEnabled)if(t){var e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(Oi))return void this._leave(null,this);this._enter(null,this)}}},{key:"dispose",value:function(){clearTimeout(this._timeout),je.off(this._element.closest(Li),Ni,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),a(i(r.prototype),"dispose",this).call(this)}},{key:"show",value:function(){var t=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var e=je.trigger(this._element,this.constructor.Event.SHOW),n=fe(this._element),r=null===n?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(!e.defaultPrevented&&r){"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(Pi).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);var i=this.getTipElement(),o=function(t){do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t}(this.constructor.NAME);i.setAttribute("id",o),this._element.setAttribute("aria-describedby",o),this._config.animation&&i.classList.add(Ii);var a="function"===typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,s=this._getAttachment(a);this._addAttachmentClass(s);var u=this._config.container;ze(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(u.append(i),je.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=Jt(this._element,i,this._getPopperConfig(s)),i.classList.add(Oi);var l,c,h=this._resolvePossibleFunction(this._config.customClass);if(h)(l=i.classList).add.apply(l,f(h.split(" ")));if("ontouchstart"in document.documentElement)(c=[]).concat.apply(c,f(document.body.children)).forEach((function(t){je.on(t,"mouseover",de)}));var d=this.tip.classList.contains(Ii);this._queueCallback((function(){var e=t._hoverState;t._hoverState=null,je.trigger(t._element,t.constructor.Event.SHOWN),e===Ri&&t._leave(null,t)}),this.tip,d)}}}},{key:"hide",value:function(){var t=this;if(this._popper){var e=this.getTipElement();if(!je.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){var n;if(e.classList.remove(Oi),"ontouchstart"in document.documentElement)(n=[]).concat.apply(n,f(document.body.children)).forEach((function(t){return je.off(t,"mouseover",de)}));this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;var r=this.tip.classList.contains(Ii);this._queueCallback((function(){t._isWithActiveTrigger()||(t._hoverState!==Ai&&e.remove(),t._cleanTipClass(),t._element.removeAttribute("aria-describedby"),je.trigger(t._element,t.constructor.Event.HIDDEN),t._disposePopper())}),this.tip,r),this._hoverState=""}}}},{key:"update",value:function(){null!==this._popper&&this._popper.update()}},{key:"isWithContent",value:function(){return Boolean(this.getTitle())}},{key:"getTipElement",value:function(){if(this.tip)return this.tip;var t=document.createElement("div");t.innerHTML=this._config.template;var e=t.children[0];return this.setContent(e),e.classList.remove(Ii,Oi),this.tip=e,this.tip}},{key:"setContent",value:function(t){this._sanitizeAndSetContent(t,this.getTitle(),Pi)}},{key:"_sanitizeAndSetContent",value:function(t,e,n){var r=en.findOne(n,t);e||!r?this.setElementContent(r,e):r.remove()}},{key:"setElementContent",value:function(t,e){if(null!==t)return se(e)?(e=ue(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=bi(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}},{key:"getTitle",value:function(){var t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}},{key:"updateAttachment",value:function(t){return"right"===t?"end":"left"===t?"start":t}},{key:"_initializeOnDelegatedTarget",value:function(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}},{key:"_getOffset",value:function(){var t=this,e=this._config.offset;return"string"===typeof e?e.split(",").map((function(t){return Number.parseInt(t,10)})):"function"===typeof e?function(n){return e(n,t._element)}:e}},{key:"_resolvePossibleFunction",value:function(t){return"function"===typeof t?t.call(this._element):t}},{key:"_getPopperConfig",value:function(t){var e=this,n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(t){return e._handlePopperPlacementChange(t)}}],onFirstUpdate:function(t){t.options.placement!==t.placement&&e._handlePopperPlacementChange(t)}};return l(l({},n),"function"===typeof this._config.popperConfig?this._config.popperConfig(n):this._config.popperConfig)}},{key:"_addAttachmentClass",value:function(t){this.getTipElement().classList.add("".concat(this._getBasicClassPrefix(),"-").concat(this.updateAttachment(t)))}},{key:"_getAttachment",value:function(t){return Si[t.toUpperCase()]}},{key:"_setListeners",value:function(){var t=this;this._config.trigger.split(" ").forEach((function(e){if("click"===e)je.on(t._element,t.constructor.Event.CLICK,t._config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n=e===Di?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=e===Di?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;je.on(t._element,n,t._config.selector,(function(e){return t._enter(e)})),je.on(t._element,r,t._config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t._element&&t.hide()},je.on(this._element.closest(Li),Ni,this._hideModalHandler),this._config.selector?this._config=l(l({},this._config),{},{trigger:"manual",selector:""}):this._fixTitle()}},{key:"_fixTitle",value:function(){var t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}},{key:"_enter",value:function(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?Mi:Di]=!0),e.getTipElement().classList.contains(Oi)||e._hoverState===Ai?e._hoverState=Ai:(clearTimeout(e._timeout),e._hoverState=Ai,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((function(){e._hoverState===Ai&&e.show()}),e._config.delay.show):e.show())}},{key:"_leave",value:function(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?Mi:Di]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=Ri,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((function(){e._hoverState===Ri&&e.hide()}),e._config.delay.hide):e.hide())}},{key:"_isWithActiveTrigger",value:function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}},{key:"_getConfig",value:function(t){var e=tn.getDataAttributes(this._element);return Object.keys(e).forEach((function(t){ki.has(t)&&delete e[t]})),(t=l(l(l({},this.constructor.Default),e),"object"===typeof t&&t?t:{})).container=!1===t.container?document.body:ue(t.container),"number"===typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"===typeof t.title&&(t.title=t.title.toString()),"number"===typeof t.content&&(t.content=t.content.toString()),le(wi,t,this.constructor.DefaultType),t.sanitize&&(t.template=bi(t.template,t.allowList,t.sanitizeFn)),t}},{key:"_getDelegateConfig",value:function(){var t={};for(var e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}},{key:"_cleanTipClass",value:function(){var t=this.getTipElement(),e=new RegExp("(^|\\s)".concat(this._getBasicClassPrefix(),"\\S+"),"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))}},{key:"_getBasicClassPrefix",value:function(){return"bs-tooltip"}},{key:"_handlePopperPlacementChange",value:function(t){var e=t.state;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}},{key:"_disposePopper",value:function(){this._popper&&(this._popper.destroy(),this._popper=null)}}],[{key:"Default",get:function(){return Ci}},{key:"NAME",get:function(){return wi}},{key:"Event",get:function(){return Ti}},{key:"DefaultType",get:function(){return Ei}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=r.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),r}(Be);me(ji);var Fi=".".concat("bs.popover"),zi=l(l({},ji.Default),{},{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Vi=l(l({},ji.DefaultType),{},{content:"(string|element|function)"}),Ui={HIDE:"hide".concat(Fi),HIDDEN:"hidden".concat(Fi),SHOW:"show".concat(Fi),SHOWN:"shown".concat(Fi),INSERTED:"inserted".concat(Fi),CLICK:"click".concat(Fi),FOCUSIN:"focusin".concat(Fi),FOCUSOUT:"focusout".concat(Fi),MOUSEENTER:"mouseenter".concat(Fi),MOUSELEAVE:"mouseleave".concat(Fi)},Bi=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"isWithContent",value:function(){return this.getTitle()||this._getContent()}},{key:"setContent",value:function(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}},{key:"_getContent",value:function(){return this._resolvePossibleFunction(this._config.content)}},{key:"_getBasicClassPrefix",value:function(){return"bs-popover"}}],[{key:"Default",get:function(){return zi}},{key:"NAME",get:function(){return"popover"}},{key:"Event",get:function(){return Ui}},{key:"DefaultType",get:function(){return Vi}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),n}(ji);me(Bi);var Wi="scrollspy",Gi=".".concat("bs.scrollspy"),qi={offset:10,method:"auto",target:""},Hi={offset:"number",method:"string",target:"(string|element)"},Ki="activate".concat(Gi),Xi="scroll".concat(Gi),Yi="load".concat(Gi).concat(".data-api"),Zi="dropdown-item",Qi="active",$i=".nav-link",Ji=".list-group-item",to="".concat($i,", ").concat(Ji,", .").concat(Zi),eo="position",no=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t))._scrollElement="BODY"===i._element.tagName?window:i._element,i._config=i._getConfig(r),i._offsets=[],i._targets=[],i._activeTarget=null,i._scrollHeight=0,je.on(i._scrollElement,Xi,(function(){return i._process()})),i.refresh(),i._process(),i}return x(n,[{key:"refresh",value:function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":eo,n="auto"===this._config.method?e:this._config.method,r=n===eo?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),en.find(to,this._config.target).map((function(t){var e=re(t),i=e?en.findOne(e):null;if(i){var o=i.getBoundingClientRect();if(o.width||o.height)return[tn[n](i).top+r,e]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))}},{key:"dispose",value:function(){je.off(this._scrollElement,Gi),a(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(t){return(t=l(l(l({},qi),tn.getDataAttributes(this._element)),"object"===typeof t&&t?t:{})).target=ue(t.target)||document.documentElement,le(Wi,t,Hi),t}},{key:"_getScrollTop",value:function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&("undefined"===typeof this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}}}},{key:"_activate",value:function(t){this._activeTarget=t,this._clear();var e=to.split(",").map((function(e){return"".concat(e,'[data-bs-target="').concat(t,'"],').concat(e,'[href="').concat(t,'"]')})),n=en.findOne(e.join(","),this._config.target);n.classList.add(Qi),n.classList.contains(Zi)?en.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(Qi):en.parents(n,".nav, .list-group").forEach((function(t){en.prev(t,"".concat($i,", ").concat(Ji)).forEach((function(t){return t.classList.add(Qi)})),en.prev(t,".nav-item").forEach((function(t){en.children(t,$i).forEach((function(t){return t.classList.add(Qi)}))}))})),je.trigger(this._scrollElement,Ki,{relatedTarget:t})}},{key:"_clear",value:function(){en.find(to,this._config.target).filter((function(t){return t.classList.contains(Qi)})).forEach((function(t){return t.classList.remove(Qi)}))}}],[{key:"Default",get:function(){return qi}},{key:"NAME",get:function(){return Wi}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),n}(Be);je.on(window,Yi,(function(){en.find('[data-bs-spy="scroll"]').forEach((function(t){return new no(t)}))})),me(no);var ro=".".concat("bs.tab"),io="hide".concat(ro),oo="hidden".concat(ro),ao="show".concat(ro),so="shown".concat(ro),uo="click".concat(ro).concat(".data-api"),lo="active",co="fade",ho="show",fo=".active",po=":scope > li > .active",vo=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"show",value:function(){var t=this;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE||!this._element.classList.contains(lo)){var e,n=ie(this._element),r=this._element.closest(".nav, .list-group");if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?po:fo;e=(e=en.find(i,r))[e.length-1]}var o=e?je.trigger(e,io,{relatedTarget:this._element}):null;if(!(je.trigger(this._element,ao,{relatedTarget:e}).defaultPrevented||null!==o&&o.defaultPrevented)){this._activate(this._element,r);var a=function(){je.trigger(e,oo,{relatedTarget:t._element}),je.trigger(t._element,so,{relatedTarget:e})};n?this._activate(n,n.parentNode,a):a()}}}},{key:"_activate",value:function(t,e,n){var r=this,i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?en.children(e,fo):en.find(po,e))[0],o=n&&i&&i.classList.contains(co),a=function(){return r._transitionComplete(t,i,n)};i&&o?(i.classList.remove(ho),this._queueCallback(a,t,!0)):a()}},{key:"_transitionComplete",value:function(t,e,n){if(e){e.classList.remove(lo);var r=en.findOne(":scope > .dropdown-menu .active",e.parentNode);r&&r.classList.remove(lo),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(lo),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),pe(t),t.classList.contains(co)&&t.classList.add(ho);var i=t.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){var o=t.closest(".dropdown");o&&en.find(".dropdown-toggle",o).forEach((function(t){return t.classList.add(lo)})),t.setAttribute("aria-expanded",!0)}n&&n()}}],[{key:"NAME",get:function(){return"tab"}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t]()}}))}}]),n}(Be);je.on(document,uo,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){(["A","AREA"].includes(this.tagName)&&t.preventDefault(),he(this))||vo.getOrCreateInstance(this).show()})),me(vo);var go="toast",yo=".".concat("bs.toast"),mo="mouseover".concat(yo),_o="mouseout".concat(yo),bo="focusin".concat(yo),wo="focusout".concat(yo),xo="hide".concat(yo),ko="hidden".concat(yo),Eo="show".concat(yo),So="shown".concat(yo),Co="hide",To="show",Io="showing",Oo={animation:"boolean",autohide:"boolean",delay:"number"},Ao={animation:!0,autohide:!0,delay:5e3},Ro=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t))._config=i._getConfig(r),i._timeout=null,i._hasMouseInteraction=!1,i._hasKeyboardInteraction=!1,i._setListeners(),i}return x(n,[{key:"show",value:function(){var t=this;if(!je.trigger(this._element,Eo).defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Co),pe(this._element),this._element.classList.add(To),this._element.classList.add(Io),this._queueCallback((function(){t._element.classList.remove(Io),je.trigger(t._element,So),t._maybeScheduleHide()}),this._element,this._config.animation)}}},{key:"hide",value:function(){var t=this;if(this._element.classList.contains(To)&&!je.trigger(this._element,xo).defaultPrevented){this._element.classList.add(Io),this._queueCallback((function(){t._element.classList.add(Co),t._element.classList.remove(Io),t._element.classList.remove(To),je.trigger(t._element,ko)}),this._element,this._config.animation)}}},{key:"dispose",value:function(){this._clearTimeout(),this._element.classList.contains(To)&&this._element.classList.remove(To),a(i(n.prototype),"dispose",this).call(this)}},{key:"_getConfig",value:function(t){return t=l(l(l({},Ao),tn.getDataAttributes(this._element)),"object"===typeof t&&t?t:{}),le(go,t,this.constructor.DefaultType),t}},{key:"_maybeScheduleHide",value:function(){var t=this;this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((function(){t.hide()}),this._config.delay)))}},{key:"_onInteraction",value:function(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)this._clearTimeout();else{var n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}}},{key:"_setListeners",value:function(){var t=this;je.on(this._element,mo,(function(e){return t._onInteraction(e,!0)})),je.on(this._element,_o,(function(e){return t._onInteraction(e,!1)})),je.on(this._element,bo,(function(e){return t._onInteraction(e,!0)})),je.on(this._element,wo,(function(e){return t._onInteraction(e,!1)}))}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout),this._timeout=null}}],[{key:"DefaultType",get:function(){return Oo}},{key:"Default",get:function(){return Ao}},{key:"NAME",get:function(){return go}},{key:"jQueryInterface",value:function(t){return this.each((function(){var e=n.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError('No method named "'.concat(t,'"'));e[t](this)}}))}}]),n}(Be);function Po(){return Po=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}We(Ro),me(Ro);var Lo,No=Lo||(Lo={});No.Pop="POP",No.Push="PUSH",No.Replace="REPLACE";var Do=function(t){return t};function Mo(t){t.preventDefault(),t.returnValue=""}function jo(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function Fo(){return Math.random().toString(36).substr(2,8)}function zo(t){var e=t.pathname;e=void 0===e?"/":e;var n=t.search;return n=void 0===n?"":n,t=void 0===(t=t.hash)?"":t,n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),t&&"#"!==t&&(e+="#"===t.charAt(0)?t:"#"+t),e}function Vo(t){var e={};if(t){var n=t.indexOf("#");0<=n&&(e.hash=t.substr(n),t=t.substr(0,n)),0<=(n=t.indexOf("?"))&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Uo(t,e){if(!t)throw new Error(e)}var Bo=(0,e.createContext)(null);var Wo=(0,e.createContext)(null);var Go=(0,e.createContext)({outlet:null,matches:[]});function qo(t){return function(t){var n=(0,e.useContext)(Go).outlet;if(n)return(0,e.createElement)(Jo.Provider,{value:t},n);return n}(t.context)}function Ho(t){Uo(!1)}function Ko(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,a=t.location,s=t.navigationType,u=void 0===s?Lo.Pop:s,l=t.navigator,c=t.static,h=void 0!==c&&c;Zo()&&Uo(!1);var f=da(r),d=(0,e.useMemo)((function(){return{basename:f,navigator:l,static:h}}),[f,l,h]);"string"===typeof a&&(a=Vo(a));var p=a,v=p.pathname,g=void 0===v?"/":v,y=p.search,m=void 0===y?"":y,_=p.hash,b=void 0===_?"":_,w=p.state,x=void 0===w?null:w,k=p.key,E=void 0===k?"default":k,S=(0,e.useMemo)((function(){var t=ha(g,f);return null==t?null:{pathname:t,search:m,hash:b,state:x,key:E}}),[f,g,m,b,x,E]);return null==S?null:(0,e.createElement)(Bo.Provider,{value:d},(0,e.createElement)(Wo.Provider,{children:o,value:{location:S,navigationType:u}}))}function Xo(t){var n=t.children,r=t.location;return function(t,n){Zo()||Uo(!1);var r=(0,e.useContext)(Go).matches,i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=Qo();if(n){var l,c="string"===typeof n?Vo(n):n;"/"===a||(null==(l=c.pathname)?void 0:l.startsWith(a))||Uo(!1),s=c}else s=u;var h=s.pathname||"/",f="/"===a?h:h.slice(a.length)||"/",d=function(t,e,n){void 0===n&&(n="/");var r=ha(("string"===typeof e?Vo(e):e).pathname||"/",n);if(null==r)return null;var i=ra(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var n=t.length===e.length&&t.slice(0,-1).every((function(t,n){return t===e[n]}));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=sa(i[a],r);return o}(t,{pathname:f});0;return ua(d&&d.map((function(t){return Object.assign({},t,{params:Object.assign({},o,t.params),pathname:fa([a,t.pathname]),pathnameBase:"/"===t.pathnameBase?a:fa([a,t.pathnameBase])})})),r)}(na(n),r)}function Yo(t){Zo()||Uo(!1);var n=(0,e.useContext)(Bo),r=n.basename,i=n.navigator,o=ea(t),a=o.hash,s=o.pathname,u=o.search,l=s;if("/"!==r){var c=function(t){return""===t||""===t.pathname?"/":"string"===typeof t?Vo(t).pathname:t.pathname}(t),h=null!=c&&c.endsWith("/");l="/"===s?r+(h?"/":""):fa([r,s])}return i.createHref({pathname:l,search:u,hash:a})}function Zo(){return null!=(0,e.useContext)(Wo)}function Qo(){return Zo()||Uo(!1),(0,e.useContext)(Wo).location}function $o(){Zo()||Uo(!1);var t=(0,e.useContext)(Bo),n=t.basename,r=t.navigator,i=(0,e.useContext)(Go).matches,o=Qo().pathname,a=JSON.stringify(i.map((function(t){return t.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(t,e){if(void 0===e&&(e={}),s.current)if("number"!==typeof t){var i=ca(t,JSON.parse(a),o);"/"!==n&&(i.pathname=fa([n,i.pathname])),(e.replace?r.replace:r.push)(i,e.state)}else r.go(t)}),[n,r,a,o]);return u}var Jo=(0,e.createContext)(null);function ta(){var t=(0,e.useContext)(Go).matches,n=t[t.length-1];return n?n.params:{}}function ea(t){var n=(0,e.useContext)(Go).matches,r=Qo().pathname,i=JSON.stringify(n.map((function(t){return t.pathnameBase})));return(0,e.useMemo)((function(){return ca(t,JSON.parse(i),r)}),[t,i,r])}function na(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==Ho&&Uo(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=na(t.props.children)),n.push(r)}else n.push.apply(n,na(t.props.children))})),n}function ra(t,e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=""),t.forEach((function(t,i){var o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||Uo(!1),o.relativePath=o.relativePath.slice(r.length));var a=fa([r,o.relativePath]),s=n.concat(o);t.children&&t.children.length>0&&(!0===t.index&&Uo(!1),ra(t.children,e,s,a)),(null!=t.path||t.index)&&e.push({path:a,score:aa(a,t.index),routesMeta:s})})),e}var ia=/^:\w+$/,oa=function(t){return"*"===t};function aa(t,e){var n=t.split("/"),r=n.length;return n.some(oa)&&(r+=-2),e&&(r+=2),n.filter((function(t){return!oa(t)})).reduce((function(t,e){return t+(ia.test(e)?3:""===e?1:10)}),r)}function sa(t,e){for(var n=t.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?e:e.slice(i.length)||"/",c=la({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var h=s.route;o.push({params:r,pathname:fa([i,c.pathname]),pathnameBase:fa([i,c.pathnameBase]),route:h}),"/"!==c.pathnameBase&&(i=fa([i,c.pathnameBase]))}return o}function ua(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,o){return(0,e.createElement)(Go.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(qo,null),value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})}),null)}function la(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var n=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);var r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(t,e){return r.push(e),"([^\\/]+)"}));t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),r=k(n,2),i=r[0],o=r[1],a=e.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:o.reduce((function(t,e,n){if("*"===e){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return t}}(l[n]||""),t}),{}),pathname:s,pathnameBase:u,pattern:t}}function ca(t,e,n){var r,i="string"===typeof t?Vo(t):t,o=""===t||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=e.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?e[a]:"/"}var u=function(t,e){void 0===e&&(e="/");var n="string"===typeof t?Vo(t):t,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(t,e){var n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((function(t){".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(r,e):e;return{pathname:u,search:pa(o),hash:va(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function ha(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}var fa=function(t){return t.join("/").replace(/\/\/+/g,"/")},da=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},pa=function(t){return t&&"?"!==t?t.startsWith("?")?t:"?"+t:""},va=function(t){return t&&"#"!==t?t.startsWith("#")?t:"#"+t:""};function ga(){return ga=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ga.apply(this,arguments)}function ya(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var ma=["onClick","reloadDocument","replace","state","target","to"],_a=["aria-current","caseSensitive","className","end","style","to","children"];function ba(t){var n=t.basename,r=t.children,i=t.window,o=(0,e.useRef)();null==o.current&&(o.current=function(t){function e(){var t=a.location,e=s.state||{};return[e.idx,Do({pathname:t.pathname,search:t.search,hash:t.hash,state:e.usr||null,key:e.key||"default"})]}function n(t){return"string"===typeof t?t:zo(t)}function r(t,e){return void 0===e&&(e=null),Do(Po({pathname:h.pathname,hash:"",search:""},"string"===typeof t?Vo(t):t,{state:e,key:Fo()}))}function i(t){l=t,t=e(),c=t[0],h=t[1],f.call({action:l,location:h})}function o(t){s.go(t)}void 0===t&&(t={});var a=void 0===(t=t.window)?document.defaultView:t,s=a.history,u=null;a.addEventListener("popstate",(function(){if(u)d.call(u),u=null;else{var t=Lo.Pop,n=e(),r=n[0];if(n=n[1],d.length){if(null!=r){var a=c-r;a&&(u={action:t,location:n,retry:function(){o(-1*a)}},o(a))}}else i(t)}}));var l=Lo.Pop,c=(t=e())[0],h=t[1],f=jo(),d=jo();return null==c&&(c=0,s.replaceState(Po({},s.state,{idx:c}),"")),{get action(){return l},get location(){return h},createHref:n,push:function t(e,o){var u=Lo.Push,l=r(e,o);if(!d.length||(d.call({action:u,location:l,retry:function(){t(e,o)}}),0)){var h=[{usr:l.state,key:l.key,idx:c+1},n(l)];l=h[0],h=h[1];try{s.pushState(l,"",h)}catch(md){a.location.assign(h)}i(u)}},replace:function t(e,o){var a=Lo.Replace,u=r(e,o);d.length&&(d.call({action:a,location:u,retry:function(){t(e,o)}}),1)||(u=[{usr:u.state,key:u.key,idx:c},n(u)],s.replaceState(u[0],"",u[1]),i(a))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(t){return f.push(t)},block:function(t){var e=d.push(t);return 1===d.length&&a.addEventListener("beforeunload",Mo),function(){e(),d.length||a.removeEventListener("beforeunload",Mo)}}}}({window:i}));var a=o.current,s=k((0,e.useState)({action:a.action,location:a.location}),2),u=s[0],l=s[1];return(0,e.useLayoutEffect)((function(){return a.listen(l)}),[a]),(0,e.createElement)(Ko,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:a})}var wa=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,o=t.replace,a=void 0!==o&&o,s=t.state,u=t.target,l=t.to,c=ya(t,ma),h=Yo(l),f=function(t,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,s=$o(),u=Qo(),l=ea(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e)){e.preventDefault();var n=!!o||zo(u)===zo(l);s(t,{replace:n,state:a})}}),[u,s,l,o,a,i,t])}(l,{replace:a,state:s,target:u});return(0,e.createElement)("a",ga({},c,{href:h,onClick:function(t){r&&r(t),t.defaultPrevented||i||f(t)},ref:n,target:u}))}));var xa=(0,e.forwardRef)((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,o=t.caseSensitive,a=void 0!==o&&o,s=t.className,u=void 0===s?"":s,l=t.end,c=void 0!==l&&l,h=t.style,f=t.to,d=t.children,p=ya(t,_a),v=Qo(),g=ea(f),y=v.pathname,m=g.pathname;a||(y=y.toLowerCase(),m=m.toLowerCase());var _,b=y===m||!c&&y.startsWith(m)&&"/"===y.charAt(m.length),w=b?i:void 0;_="function"===typeof u?u({isActive:b}):[u,b?"active":null].filter(Boolean).join(" ");var x="function"===typeof h?h({isActive:b}):h;return(0,e.createElement)(wa,ga({},p,{"aria-current":w,className:_,ref:n,style:x,to:f}),"function"===typeof d?d({isActive:b}):d)}));var ka=function(){return ka=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ka.apply(this,arguments)};var Ea="",Sa=null,Ca=null,Ta=null;function Ia(){Ea="",null!==Sa&&Sa.disconnect(),null!==Ca&&(window.clearTimeout(Ca),Ca=null)}function Oa(t){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(t.tagName)&&!t.hasAttribute("disabled")||["A","AREA"].includes(t.tagName)&&t.hasAttribute("href")}function Aa(){var t=null;if("#"===Ea)t=document.body;else{var e=Ea.replace("#","");null===(t=document.getElementById(e))&&"#top"===Ea&&(t=document.body)}if(null!==t){Ta(t);var n=t.getAttribute("tabindex");return null!==n||Oa(t)||t.setAttribute("tabindex",-1),t.focus({preventScroll:!0}),null!==n||Oa(t)||(t.blur(),t.removeAttribute("tabindex")),Ia(),!0}return!1}function Ra(t){return e.forwardRef((function(n,r){var i="";"string"===typeof n.to&&n.to.includes("#")?i="#"+n.to.split("#").slice(1).join("#"):"object"===typeof n.to&&"string"===typeof n.to.hash&&(i=n.to.hash);var o={};t===xa&&(o.isActive=function(t,e){return t&&t.isExact&&e.hash===i});var a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(n,["scroll","smooth","timeout","elementId"]);return e.createElement(t,ka({},o,a,{onClick:function(t){var e;Ia(),Ea=n.elementId?"#"+n.elementId:i,n.onClick&&n.onClick(t),""===Ea||t.defaultPrevented||0!==t.button||n.target&&"_self"!==n.target||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(Ta=n.scroll||function(t){return n.smooth?t.scrollIntoView({behavior:"smooth"}):t.scrollIntoView()},e=n.timeout,window.setTimeout((function(){!1===Aa()&&(null===Sa&&(Sa=new MutationObserver(Aa)),Sa.observe(document,{attributes:!0,childList:!0,subtree:!0}),Ca=window.setTimeout((function(){Ia()}),e||1e4))}),0))},ref:r}),n.children)}))}var Pa=Ra(wa),La=(Ra(xa),{color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0}),Na=e.createContext&&e.createContext(La),Da=function(){return Da=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Da.apply(this,arguments)},Ma=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function ja(t){return t&&t.map((function(t,n){return e.createElement(t.tag,Da({key:n},t.attr),ja(t.child))}))}function Fa(t){return function(n){return e.createElement(za,Da({attr:Da({},t.attr)},n),ja(t.child))}}function za(t){var n=function(n){var r,i=t.attr,o=t.size,a=t.title,s=Ma(t,["attr","size","title"]),u=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",Da({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Da(Da({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&e.createElement("title",null,a),t.children)};return void 0!==Na?e.createElement(Na.Consumer,null,(function(t){return n(t)})):n(La)}function Va(t){return Fa({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"}},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"}},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}}]})(t)}var Ua=function(t,e,n){var r=Ba(t,e.id);if(r>=0){if(!n&&t[r].quantity<e.stock&&t[r].quantity++,n&&t[r].quantity+n>t[r].item.stock)throw new Error("No puedes a\xf1adir esa cantidad(".concat(n,") al carrito \u2014 tenemos ").concat(e.stock," existencias y tienes ").concat(t[r].quantity," en tu carrito."));t[r].quantity=t[r].quantity+n}else t.push({item:e,quantity:n>0?n:1});return t},Ba=function(t,e){return t.findIndex((function(t){return t.item.id===e}))},Wa=function(t){var e=0;return t.forEach((function(t){e+=t.quantity})),e},Ga=function(t){var e=0;return t.forEach((function(t){e+=t.item.price*t.quantity})),e};function qa(t){var e,n,r="";if("string"===typeof t||"number"===typeof t)r+=t;else if("object"===typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=qa(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ha(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=qa(t))&&(r&&(r+=" "),r+=e);return r}function Ka(){return Ka=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}function Xa(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function Ya(t){return"number"===typeof t&&!isNaN(t)}function Za(t){return"boolean"===typeof t}function Qa(t){return"string"===typeof t}function $a(t){return"function"===typeof t}function Ja(t){return Qa(t)||$a(t)?t:null}function ts(t){return 0===t||t}var es=!("undefined"===typeof window||!window.document||!window.document.createElement);function ns(t){return(0,e.isValidElement)(t)||Qa(t)||$a(t)||Ya(t)}var rs={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},is={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function os(t){var n=t.enter,r=t.exit,i=t.appendPosition,o=void 0!==i&&i,a=t.collapse,s=void 0===a||a,u=t.collapseDuration,l=void 0===u?300:u;return function(t){var i=t.children,a=t.position,u=t.preventExitTransition,c=t.done,h=t.nodeRef,f=t.isIn,d=o?n+"--"+a:n,p=o?r+"--"+a:r,v=(0,e.useRef)(),g=(0,e.useRef)(0);function y(t){if(t.target===h.current){var e=h.current;e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",y),e.removeEventListener("animationcancel",y),0===g.current&&(e.className=v.current)}}function m(){var t=h.current;t.removeEventListener("animationend",m),s?function(t,e,n){void 0===n&&(n=300);var r=t.scrollHeight,i=t.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)}))}))}(t,c,l):c()}return(0,e.useLayoutEffect)((function(){!function(){var t=h.current;v.current=t.className,t.className+=" "+d,t.addEventListener("animationend",y),t.addEventListener("animationcancel",y)}()}),[]),(0,e.useEffect)((function(){f||(u?m():function(){g.current=1;var t=h.current;t.className+=" "+p,t.addEventListener("animationend",m)}())}),[f]),e.createElement(e.Fragment,null,i)}}var as={list:new Map,emitQueue:new Map,on:function(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off:function(t,e){if(e){var n=this.list.get(t).filter((function(t){return t!==e}));return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit:function(t){var e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(t)&&this.list.get(t).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);e.emitQueue.has(t)||e.emitQueue.set(t,[]),e.emitQueue.get(t).push(i)}))}},ss=["delay","staleId"];function us(t){var n=(0,e.useReducer)((function(t){return t+1}),0),r=n[1],i=(0,e.useState)([]),o=i[0],a=i[1],s=(0,e.useRef)(null),u=(0,e.useRef)(new Map).current,l=function(t){return-1!==o.indexOf(t)},c=(0,e.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:l,getToast:function(t){return u.get(t)}}).current;function h(t){var e=t.containerId;!c.props.limit||e&&c.containerId!==e||(c.count-=c.queue.length,c.queue=[])}function f(t){a((function(e){return ts(t)?e.filter((function(e){return e!==t})):[]}))}function d(){var t=c.queue.shift();v(t.toastContent,t.toastProps,t.staleId)}function p(t,n){var i=n.delay,o=n.staleId,a=Xa(n,ss);if(ns(t)&&!function(t){return!s.current||c.props.enableMultiContainer&&t.containerId!==c.props.containerId||u.has(t.toastId)&&null==t.updateId}(a)){var l=a.toastId,h=a.updateId,p=a.data,g=c.props,y=function(){return f(l)},m=null==h;m&&c.count++;var _,b,w={toastId:l,updateId:h,isLoading:a.isLoading,theme:a.theme||g.theme,icon:null!=a.icon?a.icon:g.icon,isIn:!1,key:a.key||c.toastKey++,type:a.type,closeToast:y,closeButton:a.closeButton,rtl:g.rtl,position:a.position||g.position,transition:a.transition||g.transition,className:Ja(a.className||g.toastClassName),bodyClassName:Ja(a.bodyClassName||g.bodyClassName),style:a.style||g.toastStyle,bodyStyle:a.bodyStyle||g.bodyStyle,onClick:a.onClick||g.onClick,pauseOnHover:Za(a.pauseOnHover)?a.pauseOnHover:g.pauseOnHover,pauseOnFocusLoss:Za(a.pauseOnFocusLoss)?a.pauseOnFocusLoss:g.pauseOnFocusLoss,draggable:Za(a.draggable)?a.draggable:g.draggable,draggablePercent:a.draggablePercent||g.draggablePercent,draggableDirection:a.draggableDirection||g.draggableDirection,closeOnClick:Za(a.closeOnClick)?a.closeOnClick:g.closeOnClick,progressClassName:Ja(a.progressClassName||g.progressClassName),progressStyle:a.progressStyle||g.progressStyle,autoClose:!a.isLoading&&(_=a.autoClose,b=g.autoClose,!1===_||Ya(_)&&_>0?_:b),hideProgressBar:Za(a.hideProgressBar)?a.hideProgressBar:g.hideProgressBar,progress:a.progress,role:a.role||g.role,deleteToast:function(){u.delete(l);var t=c.queue.length;if(c.count=ts(l)?c.count-1:c.count-c.displayedToast,c.count<0&&(c.count=0),t>0){var e=ts(l)?1:c.props.limit;if(1===t||1===e)c.displayedToast++,d();else{var n=e>t?t:e;c.displayedToast=n;for(var i=0;i<n;i++)d()}}else r()}};$a(a.onOpen)&&(w.onOpen=a.onOpen),$a(a.onClose)&&(w.onClose=a.onClose),w.closeButton=g.closeButton,!1===a.closeButton||ns(a.closeButton)?w.closeButton=a.closeButton:!0===a.closeButton&&(w.closeButton=!ns(g.closeButton)||g.closeButton);var x=t;(0,e.isValidElement)(t)&&!Qa(t.type)?x=(0,e.cloneElement)(t,{closeToast:y,toastProps:w,data:p}):$a(t)&&(x=t({closeToast:y,toastProps:w,data:p})),g.limit&&g.limit>0&&c.count>g.limit&&m?c.queue.push({toastContent:x,toastProps:w,staleId:o}):Ya(i)&&i>0?setTimeout((function(){v(x,w,o)}),i):v(x,w,o)}}function v(t,e,n){var r=e.toastId;n&&u.delete(n),u.set(r,{content:t,props:e}),a((function(t){return[].concat(t,[r]).filter((function(t){return t!==n}))}))}return(0,e.useEffect)((function(){return c.containerId=t.containerId,as.cancelEmit(3).on(0,p).on(1,(function(t){return s.current&&f(t)})).on(5,h).emit(2,c),function(){return as.emit(3,c)}}),[]),(0,e.useEffect)((function(){c.isToastActive=l,c.displayedToast=o.length,as.emit(4,o.length,t.containerId)}),[o]),(0,e.useEffect)((function(){c.props=t})),{getToastToRender:function(e){var n=new Map,r=Array.from(u.values());return t.newestOnTop&&r.reverse(),r.forEach((function(t){var e=t.props.position;n.has(e)||n.set(e,[]),n.get(e).push(t)})),Array.from(n,(function(t){return e(t[0],t[1])}))},containerRef:s,isToastActive:l}}function ls(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function cs(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function hs(t){var n=(0,e.useState)(!1),r=n[0],i=n[1],o=(0,e.useState)(!1),a=o[0],s=o[1],u=(0,e.useRef)(null),l=(0,e.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=(0,e.useRef)(t),h=t.autoClose,f=t.pauseOnHover,d=t.closeToast,p=t.onClick,v=t.closeOnClick;function g(e){if(t.draggable){l.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),document.addEventListener("touchmove",b),document.addEventListener("touchend",w);var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=ls(e.nativeEvent),l.y=cs(e.nativeEvent),"x"===t.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(t.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(){if(l.boundingRect){var e=l.boundingRect,n=e.top,r=e.bottom,i=e.left,o=e.right;t.pauseOnHover&&l.x>=i&&l.x<=o&&l.y>=n&&l.y<=r?_():m()}}function m(){i(!0)}function _(){i(!1)}function b(e){var n=u.current;l.canDrag&&n&&(l.didMove=!0,r&&_(),l.x=ls(e),l.y=cs(e),"x"===t.draggableDirection?l.delta=l.x-l.start:l.delta=l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+t.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function w(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",w);var e=u.current;if(l.canDrag&&l.didMove&&e){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void t.closeToast();e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate"+t.draggableDirection+"(0)",e.style.opacity="1"}}(0,e.useEffect)((function(){c.current=t})),(0,e.useEffect)((function(){return u.current&&u.current.addEventListener("d",m,{once:!0}),$a(t.onOpen)&&t.onOpen((0,e.isValidElement)(t.children)&&t.children.props),function(){var t=c.current;$a(t.onClose)&&t.onClose((0,e.isValidElement)(t.children)&&t.children.props)}}),[]),(0,e.useEffect)((function(){return t.pauseOnFocusLoss&&function(){document.hasFocus()||_();window.addEventListener("focus",m),window.addEventListener("blur",_)}(),function(){t.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",_))}}),[t.pauseOnFocusLoss]);var x={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return h&&f&&(x.onMouseEnter=_,x.onMouseLeave=m),v&&(x.onClick=function(t){p&&p(t),l.canCloseOnClick&&d()}),{playToast:m,pauseToast:_,isRunning:r,preventExitTransition:a,toastRef:u,eventHandlers:x}}function fs(t){var n=t.closeToast,r=t.theme,i=t.ariaLabel,o=void 0===i?"close":i;return(0,e.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(t){t.stopPropagation(),n(t)},"aria-label":o},(0,e.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,e.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function ds(t){var n,r,i=t.delay,o=t.isRunning,a=t.closeToast,s=t.type,u=t.hide,l=t.className,c=t.style,h=t.controlledProgress,f=t.progress,d=t.rtl,p=t.isIn,v=t.theme,g=Ka({},c,{animationDuration:i+"ms",animationPlayState:o?"running":"paused",opacity:u?0:1});h&&(g.transform="scaleX("+f+")");var y=Ha("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+v,"Toastify__progress-bar--"+s,((n={})["Toastify__progress-bar--rtl"]=d,n)),m=$a(l)?l({rtl:d,type:s,defaultClassName:y}):Ha(y,l),_=((r={})[h&&f>=1?"onTransitionEnd":"onAnimationEnd"]=h&&f<1?null:function(){p&&a()},r);return(0,e.createElement)("div",Object.assign({role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:m,style:g},_))}ds.defaultProps={type:is.DEFAULT,hide:!1};var ps=["theme","type"],vs=function(t){var n=t.theme,r=t.type,i=Xa(t,ps);return(0,e.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var gs={info:function(t){return(0,e.createElement)(vs,Object.assign({},t),(0,e.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return(0,e.createElement)(vs,Object.assign({},t),(0,e.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return(0,e.createElement)(vs,Object.assign({},t),(0,e.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return(0,e.createElement)(vs,Object.assign({},t),(0,e.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,e.createElement)("div",{className:"Toastify__spinner"})}},ys=function(t){var n,r,i=hs(t),o=i.isRunning,a=i.preventExitTransition,s=i.toastRef,u=i.eventHandlers,l=t.closeButton,c=t.children,h=t.autoClose,f=t.onClick,d=t.type,p=t.hideProgressBar,v=t.closeToast,g=t.transition,y=t.position,m=t.className,_=t.style,b=t.bodyClassName,w=t.bodyStyle,x=t.progressClassName,k=t.progressStyle,E=t.updateId,S=t.role,C=t.progress,T=t.rtl,I=t.toastId,O=t.deleteToast,A=t.isIn,R=t.isLoading,P=t.icon,L=t.theme,N=Ha("Toastify__toast","Toastify__toast-theme--"+L,"Toastify__toast--"+d,((n={})["Toastify__toast--rtl"]=T,n)),D=$a(m)?m({rtl:T,position:y,type:d,defaultClassName:N}):Ha(N,m),M=!!C,j=gs[d],F={theme:L,type:d},z=j&&j(F);return!1===P?z=void 0:$a(P)?z=P(F):(0,e.isValidElement)(P)?z=(0,e.cloneElement)(P,F):Qa(P)?z=P:R&&(z=gs.spinner()),(0,e.createElement)(g,{isIn:A,done:O,position:y,preventExitTransition:a,nodeRef:s},(0,e.createElement)("div",Object.assign({id:I,onClick:f,className:D},u,{style:_,ref:s}),(0,e.createElement)("div",Object.assign({},A&&{role:S},{className:$a(b)?b({type:d}):Ha("Toastify__toast-body",b),style:w}),z&&(0,e.createElement)("div",{className:Ha("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!R,r))},z),(0,e.createElement)("div",null,c)),function(t){if(t){var n={closeToast:v,type:d,theme:L};return $a(t)?t(n):(0,e.isValidElement)(t)?(0,e.cloneElement)(t,n):void 0}}(l),(h||M)&&(0,e.createElement)(ds,Object.assign({},E&&!M?{key:"pb-"+E}:{},{rtl:T,theme:L,delay:h,isRunning:o,isIn:A,closeToast:v,hide:p,type:d,style:k,className:x,controlledProgress:M,progress:C}))))},ms=os({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),_s=function(t){var n=us(t),r=n.getToastToRender,i=n.containerRef,o=n.isToastActive,a=t.className,s=t.style,u=t.rtl,l=t.containerId;function c(t){var e,n=Ha("Toastify__toast-container","Toastify__toast-container--"+t,((e={})["Toastify__toast-container--rtl"]=u,e));return $a(a)?a({position:t,rtl:u,defaultClassName:n}):Ha(n,Ja(a))}return(0,e.createElement)("div",{ref:i,className:"Toastify",id:l},r((function(t,n){var r=n.length?Ka({},s):Ka({},s,{pointerEvents:"none"});return(0,e.createElement)("div",{className:c(t),style:r,key:"container-"+t},n.map((function(t){var n=t.content,r=t.props;return(0,e.createElement)(ys,Object.assign({},r,{isIn:o(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?fs:r.closeButton}),n)})))})))};_s.defaultProps={position:rs.TOP_RIGHT,transition:ms,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:fs,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var bs,ws,xs,ks=new Map,Es=[],Ss=!1;function Cs(){return Math.random().toString(36).substring(2,9)}function Ts(t){return t&&(Qa(t.toastId)||Ya(t.toastId))?t.toastId:Cs()}function Is(t,n){return ks.size>0?as.emit(0,t,n):(Es.push({content:t,options:n}),Ss&&es&&(Ss=!1,ws=document.createElement("div"),document.body.appendChild(ws),(0,r.render)((0,e.createElement)(_s,Object.assign({},xs)),ws))),n.toastId}function Os(t,e){return Ka({},e,{type:e&&e.type||t,toastId:Ts(e)})}function As(t){return function(e,n){return Is(e,Os(t,n))}}function Rs(t,e){return Is(t,Os(is.DEFAULT,e))}Rs.loading=function(t,e){return Is(t,Os(is.DEFAULT,Ka({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},e)))},Rs.promise=function(t,e,n){var r,i=e.pending,o=e.error,a=e.success;i&&(r=Qa(i)?Rs.loading(i,n):Rs.loading(i.render,Ka({},n,i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=function(t,e,i){if(null!=e){var o=Ka({type:t},s,n,{data:i}),a=Qa(e)?{render:e}:e;return r?Rs.update(r,Ka({},o,a)):Rs(a.render,Ka({},o,a)),i}Rs.dismiss(r)},l=$a(t)?t():t;return l.then((function(t){return u("success",a,t)})).catch((function(t){return u("error",o,t)})),l},Rs.success=As(is.SUCCESS),Rs.info=As(is.INFO),Rs.error=As(is.ERROR),Rs.warning=As(is.WARNING),Rs.warn=Rs.warning,Rs.dark=function(t,e){return Is(t,Os(is.DEFAULT,Ka({theme:"dark"},e)))},Rs.dismiss=function(t){return as.emit(1,t)},Rs.clearWaitingQueue=function(t){return void 0===t&&(t={}),as.emit(5,t)},Rs.isActive=function(t){var e=!1;return ks.forEach((function(n){n.isToastActive&&n.isToastActive(t)&&(e=!0)})),e},Rs.update=function(t,e){void 0===e&&(e={}),setTimeout((function(){var n=function(t,e){var n=e.containerId,r=ks.get(n||bs);return r?r.getToast(t):null}(t,e);if(n){var r=n.props,i=n.content,o=Ka({},r,e,{toastId:e.toastId||t,updateId:Cs()});o.toastId!==t&&(o.staleId=t);var a=o.render||i;delete o.render,Is(a,o)}}),0)},Rs.done=function(t){Rs.update(t,{progress:1})},Rs.onChange=function(t){return $a(t)&&as.on(4,t),function(){$a(t)&&as.off(4,t)}},Rs.configure=function(t){void 0===t&&(t={}),Ss=!0,xs=t},Rs.POSITION=rs,Rs.TYPE=is,as.on(2,(function(t){bs=t.containerId||t,ks.set(bs,t),Es.forEach((function(t){as.emit(0,t.content,t.options)})),Es=[]})).on(3,(function(t){ks.delete(t.containerId||t),0===ks.size&&as.off(0).off(1).off(5),es&&ws&&document.body.removeChild(ws)}));var Ps=n(184),Ls=(0,e.createContext)([]),Ns=function(){return(0,e.useContext)(Ls)},Ds=function(t){var n=t.children,r=k((0,e.useState)([]),2),i=r[0],o=r[1],a=k((0,e.useState)(0),2),s=a[0],u=a[1],l=k((0,e.useState)(0),2),c=l[0],h=l[1];return(0,Ps.jsx)(Ls.Provider,{value:{cartList:i,addToCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o(Ua(i,t,e)),u(Wa(i)),Rs.success("Producto ".concat(t.title," a\xf1adido a su carrito"),{position:Rs.POSITION.BOTTOM_RIGHT,theme:"colored"})},removeItem:function(t){o(function(t,e,n,r){var i;return i=t.filter((function(t){return t.item.id!==e.id})),n(Wa(i)),r(Ga(i)),i}(i,t,u,h)),Rs.success("Producto ".concat(t.title," eliminado de su carrito"),{position:Rs.POSITION.BOTTOM_RIGHT,theme:"colored",autoClose:5e3})},cleanCart:function(){u(0),o([]),h(0),Rs.success("Todos los productos eliminados de su carrito",{position:Rs.POSITION.BOTTOM_RIGHT,theme:"colored",autoClose:5e3})},countTotalPrice:function(){h(Ga(i))},totalPrice:c,cartCount:s},children:n})},Ms=function(){var t=Ns().cartCount;return(0,Ps.jsx)("div",{className:"cart-widget",children:(0,Ps.jsxs)(wa,{to:"/cart",style:{color:"inherit",textDecoration:"none"},children:[t>0?(0,Ps.jsx)("span",{className:"cart-widget-count",children:t}):"",(0,Ps.jsx)(Va,{className:"cart-icon"})]})})};function js(t){return Fa({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 378.7c-73.4 0-133.3 59.9-133.3 133.3S438.6 645.3 512 645.3 645.3 585.4 645.3 512 585.4 378.7 512 378.7zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zM512 717.1c-113.5 0-205.1-91.6-205.1-205.1S398.5 306.9 512 306.9 717.1 398.5 717.1 512 625.5 717.1 512 717.1zm213.5-370.7c-26.5 0-47.9-21.4-47.9-47.9s21.4-47.9 47.9-47.9 47.9 21.4 47.9 47.9a47.84 47.84 0 0 1-47.9 47.9z"}}]})(t)}function Fs(t){return Fa({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm215.3 337.7c.3 4.7.3 9.6.3 14.4 0 146.8-111.8 315.9-316.1 315.9-63 0-121.4-18.3-170.6-49.8 9 1 17.6 1.4 26.8 1.4 52 0 99.8-17.6 137.9-47.4-48.8-1-89.8-33-103.8-77 17.1 2.5 32.5 2.5 50.1-2a111 111 0 0 1-88.9-109v-1.4c14.7 8.3 32 13.4 50.1 14.1a111.13 111.13 0 0 1-49.5-92.4c0-20.7 5.4-39.6 15.1-56a315.28 315.28 0 0 0 229 116.1C492 353.1 548.4 292 616.2 292c32 0 60.8 13.4 81.1 35 25.1-4.7 49.1-14.1 70.5-26.7-8.3 25.7-25.7 47.4-48.8 61.1 22.4-2.4 44-8.6 64-17.3-15.1 22.2-34 41.9-55.7 57.6z"}}]})(t)}function zs(t){return Fa({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]})(t)}function Vs(t){return Fa({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]})(t)}function Us(t){return Fa({tag:"svg",attr:{t:"1551322312294",style:"",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M474 152m8 0l60 0q8 0 8 8l0 704q0 8-8 8l-60 0q-8 0-8-8l0-704q0-8 8-8Z"}},{tag:"path",attr:{d:"M168 474m8 0l672 0q8 0 8 8l0 60q0 8-8 8l-672 0q-8 0-8-8l0-60q0-8 8-8Z"}}]})(t)}function Bs(t){return Fa({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M764 280.9c-14-30.6-33.9-58.1-59.3-81.6C653.1 151.4 584.6 125 512 125s-141.1 26.4-192.7 74.2c-25.4 23.6-45.3 51-59.3 81.7-14.6 32-22 65.9-22 100.9v27c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-27c0-99.5 88.6-180.4 197.6-180.4s197.6 80.9 197.6 180.4c0 40.8-14.5 79.2-42 111.2-27.2 31.7-65.6 54.4-108.1 64-24.3 5.5-46.2 19.2-61.7 38.8a110.85 110.85 0 0 0-23.9 68.6v31.4c0 6.2 5 11.2 11.2 11.2h54c6.2 0 11.2-5 11.2-11.2v-31.4c0-15.7 10.9-29.5 26-32.9 58.4-13.2 111.4-44.7 149.3-88.7 19.1-22.3 34-47.1 44.3-74 10.7-27.9 16.1-57.2 16.1-87 0-35-7.4-69-22-100.9zM512 787c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56z"}}]})(t)}function Ws(t){return Fa({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(t)}var Gs=function(){var t=$o(),r=k((0,e.useState)(""),2),i=r[0],o=r[1];return(0,Ps.jsx)("nav",{className:"navbar navbar-expand-lg sticky-top",children:(0,Ps.jsxs)("div",{className:"container-fluid",children:[(0,Ps.jsx)("h6",{children:(0,Ps.jsx)(Pa,{className:"navbar-brand",to:"/",children:(0,Ps.jsx)("img",{className:"logo",src:n(716),alt:""})})}),(0,Ps.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Ps.jsx)("span",{className:"navbar-toggler-icon"})}),(0,Ps.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,Ps.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,Ps.jsx)("li",{className:"nav-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/home#map",children:"\xbfDonde estamos?"})}),(0,Ps.jsxs)("li",{className:"nav-item dropdown",children:[(0,Ps.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Categorias"}),(0,Ps.jsxs)("ul",{className:"dropdown-menu dr","aria-labelledby":"navbarDropdown",children:[(0,Ps.jsx)("li",{className:"dropdown-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/category/anime#productos",children:"Anime"})}),(0,Ps.jsx)("li",{className:"dropdown-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/category/movie#productos",children:"Peliculas"})}),(0,Ps.jsx)("li",{className:"dropdown-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/category/series#productos",children:"Series"})}),(0,Ps.jsx)("li",{className:"dropdown-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/category/videogame#productos",children:"Videojuegos"})}),(0,Ps.jsxs)("li",{className:"dropdown-item nav-item dropdown garment-dropdown dropend",children:[(0,Ps.jsx)("button",{className:"btn nav-link dropdown-toggle garment-category ",id:"navbarDropdown2",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Prendas"}),(0,Ps.jsxs)("ul",{className:"dropdown-menu garment-menu","aria-labelledby":"navbarDropdown2",children:[(0,Ps.jsx)("li",{className:"dropdown-item garment-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/garment/buzo#productos",children:"Buzos"})}),(0,Ps.jsx)("li",{className:"dropdown-item garment-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/garment/campera#productos",children:"Camperas"})}),(0,Ps.jsx)("li",{className:"dropdown-item garment-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/garment/casco#productos",children:"Cascos"})}),(0,Ps.jsx)("li",{className:"dropdown-item garment-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/garment/mascara#productos",children:"Mascaras"})}),(0,Ps.jsx)("li",{className:"dropdown-item garment-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/garment/pantalon#productos",children:"Pantalones"})}),(0,Ps.jsx)("li",{className:"dropdown-item garment-item",children:(0,Ps.jsx)(Pa,{className:"nav-link",to:"/garment/remera#productos",children:"Remeras"})})]})]})]})]})]}),(0,Ps.jsxs)("form",{className:"d-flex",children:[(0,Ps.jsx)("input",{className:"form-control me-2",value:i,onChange:function(t){o(t.target.value)},type:"search",placeholder:"Buscar","aria-label":"Buscar"}),(0,Ps.jsx)("button",{className:"btn btn-search",type:"submit",onClick:function(e){e.preventDefault(),t({pathname:"/search",search:"?query=".concat(i)})},children:(0,Ps.jsx)(Ws,{className:"search-icon"})})]}),(0,Ps.jsx)(Ms,{})]})]})})};function qs(t){return Fa({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"}},{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}}]})(t)}function Hs(t){return Fa({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}},{tag:"path",attr:{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"}}]})(t)}function Ks(t){return Fa({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"}}]})(t)}var Xs=function(){return(0,Ps.jsxs)("div",{className:"footer mt-4",children:[(0,Ps.jsx)("div",{className:"footer-info"}),(0,Ps.jsxs)("div",{className:"footer-icons text-center",children:[(0,Ps.jsxs)("div",{className:"icons",children:[(0,Ps.jsx)("a",{href:"https://twitter.com",children:(0,Ps.jsx)(Fs,{className:"info-icon twitter"})}),(0,Ps.jsx)("a",{href:"https://www.instagram.com/",children:(0,Ps.jsx)(js,{className:"info-icon insta"})})]}),(0,Ps.jsx)("small",{children:"\xa9 2022 Custome Geek, todos los derechos reservados"})]}),(0,Ps.jsx)("a",{className:"info-send-whatsapp",href:"https://api.whatsapp.com/send?phone=+5492615179908&text=urlencodedtext",children:(0,Ps.jsx)(Ks,{className:"info-icon whatsapp"})})]})};function Ys(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function Zs(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ys(o,r,i,a,s,"next",t)}function s(t){Ys(o,r,i,a,s,"throw",t)}a(void 0)}))}}var Qs=n(757),$s=n.n(Qs);function Js(t,e,n){return Js=v()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&d(i,n.prototype),i},Js.apply(null,arguments)}function tu(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function eu(t){var e="function"===typeof Map?new Map:void 0;return eu=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Js(t,arguments,i(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,t)},eu(t)}var nu=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};var ru=function(){function t(){var e=this;b(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return x(t,[{key:"wrapCallback",value:function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}}}]),t}();function iu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var ou=function(t){p(n,t);var e=_(n);function n(t,r,i){var o;return b(this,n),(o=e.call(this,r)).code=t,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(y(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(y(o),au.prototype.create),o}return x(n)}(eu(Error)),au=function(){function t(e,n,r){b(this,t),this.service=e,this.serviceName=n,this.errors=r}return x(t,[{key:"create",value:function(t){var e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),r=this.errors[t],i=r?su(r,e):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),a=new ou(n,o,e);return a}}]),t}();function su(t,e){return t.replace(uu,(function(t,n){var r=e[n];return null!=r?String(r):"<".concat(n,"?>")}))}var uu=/\{\$([^}]+)}/g;function lu(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=t[a],u=e[a];if(cu(s)&&cu(u)){if(!lu(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function cu(t){return null!==t&&"object"===typeof t}function hu(t){return t&&t._delegate?t._delegate:t}var fu=function(){function t(e,n,r){b(this,t),this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return x(t,[{key:"setInstantiationMode",value:function(t){return this.instantiationMode=t,this}},{key:"setMultipleInstances",value:function(t){return this.multipleInstances=t,this}},{key:"setServiceProps",value:function(t){return this.serviceProps=t,this}},{key:"setInstanceCreatedCallback",value:function(t){return this.onInstanceCreated=t,this}}]),t}(),du="[DEFAULT]",pu=function(){function t(e,n){b(this,t),this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return x(t,[{key:"get",value:function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ru;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise}},{key:"getImmediate",value:function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:du})}catch(u){}var e,n=tu(this.instancesDeferred.entries());try{for(n.s();!(e=n.n()).done;){var r=k(e.value,2),i=r[0],o=r[1],a=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:a});o.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}},{key:"delete",value:function(){var t=Zs(Qs.mark((function t(){var e;return Qs.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Array.from(this.instances.values()),t.next=3,Promise.all([].concat(f(e.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()}))),f(e.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du;return this.instances.has(t)}},{key:"getOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du;return this.instancesOptions.get(t)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.options,n=void 0===e?{}:e,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=tu(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var s=k(i.value,2),u=s[0],l=s[1],c=this.normalizeInstanceIdentifier(u);r===c&&l.resolve(o)}}catch(h){a.e(h)}finally{a.f()}return o}},{key:"onInit",value:function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}}},{key:"invokeOnInitCallbacks",value:function(t,e){var n=this.onInitCallbacks.get(e);if(n){var r,i=tu(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(t,e)}catch(ob){}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===du?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(ob){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:du;return this.component?this.component.multipleInstances?t:du:t}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();var vu,gu,yu=function(){function t(e){b(this,t),this.name=e,this.providers=new Map}return x(t,[{key:"addComponent",value:function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}},{key:"addOrOverwriteComponent",value:function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}},{key:"getProvider",value:function(t){if(this.providers.has(t))return this.providers.get(t);var e=new pu(t,this);return this.providers.set(t,e),e}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}(),mu=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(gu||(gu={}));var _u,bu,wu={debug:gu.DEBUG,verbose:gu.VERBOSE,info:gu.INFO,warn:gu.WARN,error:gu.ERROR,silent:gu.SILENT},xu=gu.INFO,ku=(s(vu={},gu.DEBUG,"log"),s(vu,gu.VERBOSE,"log"),s(vu,gu.INFO,"info"),s(vu,gu.WARN,"warn"),s(vu,gu.ERROR,"error"),vu),Eu=function(t,e){if(!(e<t.logLevel)){var n=(new Date).toISOString(),r=ku[e];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(t.name,":")].concat(a))}},Su=function(){function t(e){b(this,t),this.name=e,this._logLevel=xu,this._logHandler=Eu,this._userLogHandler=null,mu.push(this)}return x(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(t){if(!(t in gu))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}},{key:"setLogLevel",value:function(t){this._logLevel="string"===typeof t?wu[t]:t}},{key:"logHandler",get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gu.DEBUG].concat(e)),this._logHandler.apply(this,[this,gu.DEBUG].concat(e))}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gu.VERBOSE].concat(e)),this._logHandler.apply(this,[this,gu.VERBOSE].concat(e))}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gu.INFO].concat(e)),this._logHandler.apply(this,[this,gu.INFO].concat(e))}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gu.WARN].concat(e)),this._logHandler.apply(this,[this,gu.WARN].concat(e))}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,gu.ERROR].concat(e)),this._logHandler.apply(this,[this,gu.ERROR].concat(e))}}]),t}();var Cu=function(){function t(e){b(this,t),this.container=e}return x(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((function(t){return t})).join(" ")}}]),t}();var Tu="@firebase/app",Iu="0.7.16",Ou=new Su("@firebase/app"),Au="[DEFAULT]",Ru=(s(_u={},Tu,"fire-core"),s(_u,"@firebase/app-compat","fire-core-compat"),s(_u,"@firebase/analytics","fire-analytics"),s(_u,"@firebase/analytics-compat","fire-analytics-compat"),s(_u,"@firebase/app-check","fire-app-check"),s(_u,"@firebase/app-check-compat","fire-app-check-compat"),s(_u,"@firebase/auth","fire-auth"),s(_u,"@firebase/auth-compat","fire-auth-compat"),s(_u,"@firebase/database","fire-rtdb"),s(_u,"@firebase/database-compat","fire-rtdb-compat"),s(_u,"@firebase/functions","fire-fn"),s(_u,"@firebase/functions-compat","fire-fn-compat"),s(_u,"@firebase/installations","fire-iid"),s(_u,"@firebase/installations-compat","fire-iid-compat"),s(_u,"@firebase/messaging","fire-fcm"),s(_u,"@firebase/messaging-compat","fire-fcm-compat"),s(_u,"@firebase/performance","fire-perf"),s(_u,"@firebase/performance-compat","fire-perf-compat"),s(_u,"@firebase/remote-config","fire-rc"),s(_u,"@firebase/remote-config-compat","fire-rc-compat"),s(_u,"@firebase/storage","fire-gcs"),s(_u,"@firebase/storage-compat","fire-gcs-compat"),s(_u,"@firebase/firestore","fire-fst"),s(_u,"@firebase/firestore-compat","fire-fst-compat"),s(_u,"fire-js","fire-js"),s(_u,"firebase","fire-js-all"),_u),Pu=new Map,Lu=new Map;function Nu(t,e){try{t.container.addComponent(e)}catch(n){Ou.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),n)}}function Du(t){var e=t.name;if(Lu.has(e))return Ou.debug("There were multiple attempts to register component ".concat(e,".")),!1;Lu.set(e,t);var n,r=tu(Pu.values());try{for(r.s();!(n=r.n()).done;){Nu(n.value,t)}}catch(i){r.e(i)}finally{r.f()}return!0}function Mu(t,e){return t.container.getProvider(e)}var ju,Fu=(s(bu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),s(bu,"bad-app-name","Illegal App name: '{$appName}"),s(bu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),s(bu,"app-deleted","Firebase App named '{$appName}' already deleted"),s(bu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),s(bu,"invalid-log-argument","First argument to `onLog` must be null or a function."),bu),zu=new au("app","Firebase",Fu),Vu=function(){function t(e,n,r){var i=this;b(this,t),this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fu("app",(function(){return i}),"PUBLIC"))}return x(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(t){this._isDeleted=t}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zu.create("app-deleted",{appName:this._name})}}]),t}();function Uu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Au,e=Pu.get(t);if(!e)throw zu.create("no-app",{appName:t});return e}function Bu(t,e,n){var r,i=null!==(r=Ru[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void Ou.warn(s.join(" "))}Du(new fu("".concat(i,"-version"),(function(){return{library:i,version:e}}),"VERSION"))}ju="",Du(new fu("platform-logger",(function(t){return new Cu(t)}),"PRIVATE")),Bu(Tu,Iu,ju),Bu(Tu,Iu,"esm2017"),Bu("fire-js","");var Wu,Gu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},qu={},Hu=Hu||{},Ku=Gu||self;function Xu(){}function Yu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Zu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Qu="closure_uid_"+(1e9*Math.random()>>>0),$u=0;function Ju(t,e,n){return t.call.apply(t.bind,arguments)}function tl(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function el(t,e,n){return(el=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ju:tl).apply(null,arguments)}function nl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function rl(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function il(){this.s=this.s,this.o=this.o}var ol={};il.prototype.s=!1,il.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Qu)&&t[Qu]||(t[Qu]=++$u)}(this);delete ol[t]}},il.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var al=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},sl=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ul(t){return Array.prototype.concat.apply([],arguments)}function ll(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function cl(t){return/^[\s\xa0]*$/.test(t)}var hl,fl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function dl(t,e){return-1!=t.indexOf(e)}function pl(t,e){return t<e?-1:t>e?1:0}t:{var vl=Ku.navigator;if(vl){var gl=vl.userAgent;if(gl){hl=gl;break t}}hl=""}function yl(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ml(t){var e={};for(var n in t)e[n]=t[n];return e}var _l="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bl(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<_l.length;o++)n=_l[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wl(t){return wl[" "](t),t}wl[" "]=Xu;var xl,kl=dl(hl,"Opera"),El=dl(hl,"Trident")||dl(hl,"MSIE"),Sl=dl(hl,"Edge"),Cl=Sl||El,Tl=dl(hl,"Gecko")&&!(dl(hl.toLowerCase(),"webkit")&&!dl(hl,"Edge"))&&!(dl(hl,"Trident")||dl(hl,"MSIE"))&&!dl(hl,"Edge"),Il=dl(hl.toLowerCase(),"webkit")&&!dl(hl,"Edge");function Ol(){var t=Ku.document;return t?t.documentMode:void 0}t:{var Al="",Rl=function(){var t=hl;return Tl?/rv:([^\);]+)(\)|;)/.exec(t):Sl?/Edge\/([\d\.]+)/.exec(t):El?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Il?/WebKit\/(\S+)/.exec(t):kl?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Rl&&(Al=Rl?Rl[1]:""),El){var Pl=Ol();if(null!=Pl&&Pl>parseFloat(Al)){xl=String(Pl);break t}}xl=Al}var Ll,Nl={};function Dl(){return function(t){var e=Nl;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=fl(String(xl)).split("."),n=fl("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=pl(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||pl(0==o[2].length,0==a[2].length)||pl(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(Ku.document&&El){var Ml=Ol();Ll=Ml||(parseInt(xl,10)||void 0)}else Ll=void 0;var jl=Ll,Fl=function(){if(!Ku.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ku.addEventListener("test",Xu,e),Ku.removeEventListener("test",Xu,e)}catch(n){}return t}();function zl(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Vl(t,e){if(zl.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Tl){t:{try{wl(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:Ul[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Vl.Z.h.call(this)}}zl.prototype.h=function(){this.defaultPrevented=!0},rl(Vl,zl);var Ul={2:"touch",3:"pen",4:"mouse"};Vl.prototype.h=function(){Vl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bl="closure_listenable_"+(1e6*Math.random()|0),Wl=0;function Gl(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Wl,this.ca=this.fa=!1}function ql(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Hl(t){this.src=t,this.g={},this.h=0}function Kl(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=al(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ql(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Xl(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Hl.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=Xl(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new Gl(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Yl="closure_lm_"+(1e6*Math.random()|0),Zl={};function Ql(t,e,n,r,i){if(r&&r.once)return Jl(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ql(t,e[o],n,r,i);return null}return n=ac(n),t&&t[Bl]?t.N(e,n,Zu(r)?!!r.capture:!!r,i):$l(t,e,n,!1,r,i)}function $l(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Zu(i)?!!i.capture:!!i,s=ic(t);if(s||(t[Yl]=s=new Hl(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=rc;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Fl||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Jl(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Jl(t,e[o],n,r,i);return null}return n=ac(n),t&&t[Bl]?t.O(e,n,Zu(r)?!!r.capture:!!r,i):$l(t,e,n,!0,r,i)}function tc(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)tc(t,e[o],n,r,i);else r=Zu(r)?!!r.capture:!!r,n=ac(n),t&&t[Bl]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=Xl(o=t.g[e],n,r,i))&&(ql(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=ic(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xl(e,n,r,i)),(n=-1<t?e[t]:null)&&ec(n))}function ec(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Bl])Kl(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ic(e))?(Kl(n,t),0==n.h&&(n.src=null,e[Yl]=null)):ql(t)}}}function nc(t){return t in Zl?Zl[t]:Zl[t]="on"+t}function rc(t,e){if(t.ca)t=!0;else{e=new Vl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&ec(t),t=n.call(r,e)}return t}function ic(t){return(t=t[Yl])instanceof Hl?t:null}var oc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ac(t){return"function"===typeof t?t:(t[oc]||(t[oc]=function(e){return t.handleEvent(e)}),t[oc])}function sc(){il.call(this),this.i=new Hl(this),this.P=this,this.I=null}function uc(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new zl(e,t);else if(e instanceof zl)e.target=e.target||t;else{var i=e;bl(e=new zl(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=lc(a,r,!0,e)&&i}if(i=lc(a=e.g=t,r,!0,e)&&i,i=lc(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=lc(a=e.g=n[o],r,!1,e)&&i}function lc(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&Kl(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}rl(sc,il),sc.prototype[Bl]=!0,sc.prototype.removeEventListener=function(t,e,n,r){tc(this,t,e,n,r)},sc.prototype.M=function(){if(sc.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ql(n[r]);delete e.g[t],e.h--}}this.I=null},sc.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},sc.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var cc=Ku.JSON.stringify;function hc(){var t=_c,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var fc,dc=function(){function t(){b(this,t),this.h=this.g=null}return x(t,[{key:"add",value:function(t,e){var n=pc.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}]),t}(),pc=new(function(){function t(e,n){b(this,t),this.i=e,this.j=n,this.h=0,this.g=null}return x(t,[{key:"get",value:function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}]),t}())((function(){return new vc}),(function(t){return t.reset()})),vc=function(){function t(){b(this,t),this.next=this.g=this.h=null}return x(t,[{key:"set",value:function(t,e){this.h=t,this.g=e,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),t}();function gc(t){Ku.setTimeout((function(){throw t}),0)}function yc(t,e){fc||function(){var t=Ku.Promise.resolve(void 0);fc=function(){t.then(bc)}}(),mc||(fc(),mc=!0),_c.add(t,e)}var mc=!1,_c=new dc;function bc(){for(var t;t=hc();){try{t.h.call(t.g)}catch(n){gc(n)}var e=pc;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mc=!1}function wc(t,e){sc.call(this),this.h=t||1,this.g=e||Ku,this.j=el(this.kb,this),this.l=Date.now()}function xc(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function kc(t,e,n){if("function"===typeof t)n&&(t=el(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=el(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ku.setTimeout(t,e||0)}function Ec(t){t.g=kc((function(){t.g=null,t.i&&(t.i=!1,Ec(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}rl(wc,sc),(Wu=wc.prototype).da=!1,Wu.S=null,Wu.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),uc(this,"tick"),this.da&&(xc(this),this.start()))}},Wu.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wu.M=function(){wc.Z.M.call(this),xc(this),delete this.g};var Sc=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this)).m=t,i.j=r,i.h=null,i.i=!1,i.g=null,i}return x(n,[{key:"l",value:function(t){this.h=arguments,this.g?this.i=!0:Ec(this)}},{key:"M",value:function(){a(i(n.prototype),"M",this).call(this),this.g&&(Ku.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(il);function Cc(t){il.call(this),this.h=t,this.g={}}rl(Cc,il);var Tc=[];function Ic(t,e,n,r){Array.isArray(n)||(n&&(Tc[0]=n.toString()),n=Tc);for(var i=0;i<n.length;i++){var o=Ql(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Oc(t){yl(t.g,(function(t,e){this.g.hasOwnProperty(e)&&ec(t)}),t),t.g={}}function Ac(){this.g=!0}function Rc(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return cc(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Cc.prototype.M=function(){Cc.Z.M.call(this),Oc(this)},Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ac.prototype.Aa=function(){this.g=!1},Ac.prototype.info=function(){};var Pc={},Lc=null;function Nc(){return Lc=Lc||new sc}function Dc(t){zl.call(this,Pc.Ma,t)}function Mc(t){var e=Nc();uc(e,new Dc(e,t))}function jc(t,e){zl.call(this,Pc.STAT_EVENT,t),this.stat=e}function Fc(t){var e=Nc();uc(e,new jc(e,t))}function zc(t,e){zl.call(this,Pc.Na,t),this.size=e}function Vc(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return Ku.setTimeout((function(){t()}),e)}Pc.Ma="serverreachability",rl(Dc,zl),Pc.STAT_EVENT="statevent",rl(jc,zl),Pc.Na="timingevent",rl(zc,zl);var Uc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wc(){}function Gc(t){return t.h||(t.h=t.i())}function qc(){}Wc.prototype.h=null;var Hc,Kc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xc(){zl.call(this,"d")}function Yc(){zl.call(this,"c")}function Zc(){}function Qc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Cc(this),this.P=Jc,t=Cl?125:void 0,this.W=new wc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $c}function $c(){this.i=null,this.g="",this.h=!1}rl(Xc,zl),rl(Yc,zl),rl(Zc,Wc),Zc.prototype.g=function(){return new XMLHttpRequest},Zc.prototype.i=function(){return{}},Hc=new Zc;var Jc=45e3,th={},eh={};function nh(t,e,n){t.K=1,t.v=Sh(_h(e)),t.s=n,t.U=!0,rh(t,null)}function rh(t,e){t.F=Date.now(),sh(t),t.A=_h(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Fh(n.h,"t",r),t.C=0,n=t.l.H,t.h=new $c,t.g=Uf(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Sc(el(t.Ia,t,t.g),t.O)),Ic(t.V,t.g,"readystatechange",t.gb),e=t.H?ml(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Mc(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function ih(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function oh(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=ah(t,n))==eh){4==e&&(t.o=4,Fc(14),i=!1),Rc(t.j,t.m,null,"[Incomplete Response]");break}if(r==th){t.o=4,Fc(15),Rc(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Rc(t.j,t.m,r,null),fh(t,r)}ih(t)&&r!=eh&&r!=th&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Fc(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lf(e),e.L=!0,Fc(11))):(Rc(t.j,t.m,n,"[Invalid Chunked Response]"),hh(t),ch(t))}function ah(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?eh:(n=Number(e.substring(n,r)),isNaN(n)?th:(r+=1)+n>e.length?eh:(e=e.substr(r,n),t.C=r+n,e))}function sh(t){t.Y=Date.now()+t.P,uh(t,t.P)}function uh(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Vc(el(t.eb,t),e)}function lh(t){t.B&&(Ku.clearTimeout(t.B),t.B=null)}function ch(t){0==t.l.G||t.I||Mf(t.l,t)}function hh(t){lh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,xc(t.W),Oc(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function fh(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Hh(n.i,t)))if(n.I=t.N,!t.J&&Hh(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Df(n),Ef(n)}Pf(n),Fc(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Vc(el(n.ab,n),6e3));if(1>=qh(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Ff(n,11)}else if((t.J||n.g==t)&&Df(n),!cl(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=t.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(dl(c,"spdy")||dl(c,"quic")||dl(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Kh(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Eh(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Vf(r,r.H?r.la:null,r.W),d.J){Xh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(lh(p),sh(p)),r.g=d}else Rf(r);0<n.l.length&&Tf(n)}else"stop"!=o[0]&&"close"!=o[0]||Ff(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Ff(n,7):kf(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Mc(4)}catch(o){}}function dh(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Yu(t)||"string"===typeof t)sl(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Yu(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(Yu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ph(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ph)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vh(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];gh(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)gh(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function gh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Wu=Qc.prototype).setTimeout=function(t){this.P=t},Wu.gb=function(t){t=t.target;var e=this.L;e&&3==mf(t)?e.l():this.Ia(t)},Wu.Ia=function(t){try{if(t==this.g)t:{var e=mf(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Cl||this.g&&(this.h.h||this.g.ga()||_f(this.g)))){this.I||4!=e||7==n||Mc(8==n||0>=r?3:2),lh(this);var i=this.g.ba();this.N=i;e:if(ih(this)){var o=_f(this.g);t="";var a=o.length,s=4==mf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hh(this),ch(this);var u="";break e}this.h.i=new Ku.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cl(l)){var h=l;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Fc(12),hh(this),ch(this);break t}Rc(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fh(this,i)}this.U?(oh(this,e,u),Cl&&this.i&&3==e&&(Ic(this.V,this.W,"tick",this.fb),this.W.start())):(Rc(this.j,this.m,u,null),fh(this,u)),4==e&&hh(this),this.i&&!this.I&&(4==e?Mf(this.l,this):(this.i=!1,sh(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Fc(12)):(this.o=0,Fc(13)),hh(this),ch(this)}}}catch(e){}},Wu.fb=function(){if(this.g){var t=mf(this.g),e=this.g.ga();this.C<e.length&&(lh(this),oh(this,t,e),this.i&&4!=t&&sh(this))}},Wu.cancel=function(){this.I=!0,hh(this)},Wu.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Mc(3),Fc(17)),hh(this),this.o=2,ch(this)):uh(this,this.Y-t)},(Wu=ph.prototype).R=function(){vh(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Wu.T=function(){return vh(this),this.g.concat()},Wu.get=function(t,e){return gh(this.h,t)?this.h[t]:e},Wu.set=function(t,e){gh(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Wu.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var yh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mh(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof mh){this.g=void 0!==e?e:t.g,bh(this,t.j),this.s=t.s,wh(this,t.i),xh(this,t.m),this.l=t.l,e=t.h;var n=new Nh;n.i=e.i,e.g&&(n.g=new ph(e.g),n.h=e.h),kh(this,n),this.o=t.o}else t&&(n=String(t).match(yh))?(this.g=!!e,bh(this,n[1]||"",!0),this.s=Ch(n[2]||""),wh(this,n[3]||"",!0),xh(this,n[4]),this.l=Ch(n[5]||"",!0),kh(this,n[6]||"",!0),this.o=Ch(n[7]||"")):(this.g=!!e,this.h=new Nh(null,this.g))}function _h(t){return new mh(t)}function bh(t,e,n){t.j=n?Ch(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wh(t,e,n){t.i=n?Ch(e,!0):e}function xh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function kh(t,e,n){e instanceof Nh?(t.h=e,function(t,e){e&&!t.j&&(Dh(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Mh(this,e),Fh(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Th(e,Ph)),t.h=new Nh(e,t.g))}function Eh(t,e,n){t.h.set(e,n)}function Sh(t){return Eh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ch(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Th(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Ih),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ih(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}mh.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Th(e,Oh,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Th(e,Oh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Th(n,"/"==n.charAt(0)?Rh:Ah,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Th(n,Lh)),t.join("")};var Oh=/[#\/\?@]/g,Ah=/[#\?:]/g,Rh=/[#\?]/g,Ph=/[#\?@]/g,Lh=/#/g;function Nh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Dh(t){t.g||(t.g=new ph,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Mh(t,e){Dh(t),e=zh(t,e),gh(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,gh((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&vh(t)))}function jh(t,e){return Dh(t),e=zh(t,e),gh(t.g.h,e)}function Fh(t,e,n){Mh(t,e),0<n.length&&(t.i=null,t.g.set(zh(t,e),ll(n)),t.h+=n.length)}function zh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Wu=Nh.prototype).add=function(t,e){Dh(this),this.i=null,t=zh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Wu.forEach=function(t,e){Dh(this),this.g.forEach((function(n,r){sl(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Wu.T=function(){Dh(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Wu.R=function(t){Dh(this);var e=[];if("string"===typeof t)jh(this,t)&&(e=ul(e,this.g.get(zh(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=ul(e,t[n])}return e},Wu.set=function(t,e){return Dh(this),this.i=null,jh(this,t=zh(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Wu.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Wu.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var Vh=x((function t(e,n){b(this,t),this.h=e,this.g=n}));function Uh(t){this.l=t||Wh,Ku.PerformanceNavigationTiming?t=0<(t=Ku.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Ku.g&&Ku.g.Ea&&Ku.g.Ea()&&Ku.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bh,Wh=10;function Gh(t){return!!t.h||!!t.g&&t.g.size>=t.j}function qh(t){return t.h?1:t.g?t.g.size:0}function Hh(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Kh(t,e){t.g?t.g.add(e):t.h=e}function Xh(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Yh(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var e,n=t.i,r=tu(t.g.values());try{for(r.s();!(e=r.n()).done;){var i=e.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return ll(t.i)}function Zh(){}function Qh(){this.g=new Zh}function $h(t,e,n){var r=n||"";try{dh(t,(function(t,n){var i=t;Zu(t)&&(i=cc(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function tf(t){this.l=t.$b||null,this.j=t.ib||!1}function ef(t,e){sc.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=nf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uh.prototype.cancel=function(){if(this.i=Yh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var t,e=tu(this.g.values());try{for(e.s();!(t=e.n()).done;){t.value.cancel()}}catch(n){e.e(n)}finally{e.f()}this.g.clear()}},Zh.prototype.stringify=function(t){return Ku.JSON.stringify(t,void 0)},Zh.prototype.parse=function(t){return Ku.JSON.parse(t,void 0)},rl(tf,Wc),tf.prototype.g=function(){return new ef(this.l,this.j)},tf.prototype.i=(Bh={},function(){return Bh}),rl(ef,sc);var nf=0;function rf(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function of(t){t.readyState=4,t.l=null,t.j=null,t.A=null,af(t)}function af(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Wu=ef.prototype).open=function(t,e){if(this.readyState!=nf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,af(this)},Wu.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ku).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Wu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,of(this)),this.readyState=nf},Wu.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,af(this)),this.g&&(this.readyState=3,af(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ku.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rf(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Wu.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?of(this):af(this),3==this.readyState&&rf(this)}},Wu.Ua=function(t){this.g&&(this.response=this.responseText=t,of(this))},Wu.Ta=function(t){this.g&&(this.response=t,of(this))},Wu.ha=function(){this.g&&of(this)},Wu.setRequestHeader=function(t,e){this.v.append(t,e)},Wu.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Wu.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ef.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var sf=Ku.JSON.parse;function uf(t){sc.call(this),this.headers=new ph,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lf,this.K=this.L=!1}rl(uf,sc);var lf="",cf=/^https?$/i,hf=["POST","PUT"];function ff(t){return"content-type"==t.toLowerCase()}function df(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pf(t),gf(t)}function pf(t){t.D||(t.D=!0,uc(t,"complete"),uc(t,"error"))}function vf(t){if(t.h&&"undefined"!=typeof Hu&&(!t.C[1]||4!=mf(t)||2!=t.ba()))if(t.v&&4==mf(t))kc(t.Fa,0,t);else if(uc(t,"readystatechange"),4==mf(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(yh)[1]||null;if(!o&&Ku.self&&Ku.self.location){var a=Ku.self.location.protocol;o=a.substr(0,a.length-1)}i=!cf.test(o?o.toLowerCase():"")}e=i}if(e)uc(t,"complete"),uc(t,"success");else{t.m=6;try{var s=2<mf(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",pf(t)}}finally{gf(t)}}}function gf(t,e){if(t.g){yf(t);var n=t.g,r=t.C[0]?Xu:null;t.g=null,t.C=null,e||uc(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function yf(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ku.clearTimeout(t.A),t.A=null)}function mf(t){return t.g?t.g.readyState:0}function _f(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case lf:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function bf(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return yl(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Eh(t,e,n))}function wf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xf(t){this.za=0,this.l=[],this.h=new Ac,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wf("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wf("baseRetryDelayMs",5e3,t),this.$a=wf("retryDelaySeedMs",1e4,t),this.Ya=wf("forwardChannelMaxRetries",2,t),this.ra=wf("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Uh(t&&t.concurrentRequestLimit),this.Ca=new Qh,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function kf(t){if(Sf(t),3==t.G){var e=t.V++,n=_h(t.F);Eh(n,"SID",t.J),Eh(n,"RID",e),Eh(n,"TYPE","terminate"),Of(t,n),(e=new Qc(t,t.h,e,void 0)).K=2,e.v=Sh(_h(n)),n=!1,Ku.navigator&&Ku.navigator.sendBeacon&&(n=Ku.navigator.sendBeacon(e.v.toString(),"")),!n&&Ku.Image&&((new Image).src=e.v,n=!0),n||(e.g=Uf(e.l,null),e.g.ea(e.v)),e.F=Date.now(),sh(e)}zf(t)}function Ef(t){t.g&&(Lf(t),t.g.cancel(),t.g=null)}function Sf(t){Ef(t),t.u&&(Ku.clearTimeout(t.u),t.u=null),Df(t),t.i.cancel(),t.m&&("number"===typeof t.m&&Ku.clearTimeout(t.m),t.m=null)}function Cf(t,e){t.l.push(new Vh(t.Za++,e)),3==t.G&&Tf(t)}function Tf(t){Gh(t.i)||t.m||(t.m=!0,yc(t.Ha,t),t.C=0)}function If(t,e){var n;n=e?e.m:t.V++;var r=_h(t.F);Eh(r,"SID",t.J),Eh(r,"RID",n),Eh(r,"AID",t.U),Of(t,r),t.o&&t.s&&bf(r,t.o,t.s),n=new Qc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Af(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Kh(t.i,n),nh(n,r,e)}function Of(t,e){t.j&&dh({},(function(t,n){Eh(e,n,t)}))}function Af(t,e,n){n=Math.min(t.l.length,n);var r=t.j?el(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=o))o=Math.max(0,i[u].h-100),s=!1;else try{$h(c,a,"req"+l+"_")}catch(md){r&&r(c)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Rf(t){t.g||t.u||(t.Y=1,yc(t.Ga,t),t.A=0)}function Pf(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=Vc(el(t.Ga,t),jf(t,t.A)),t.A++,!0)}function Lf(t){null!=t.B&&(Ku.clearTimeout(t.B),t.B=null)}function Nf(t){t.g=new Qc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=_h(t.oa);Eh(e,"RID","rpc"),Eh(e,"SID",t.J),Eh(e,"CI",t.N?"0":"1"),Eh(e,"AID",t.U),Of(t,e),Eh(e,"TYPE","xmlhttp"),t.o&&t.s&&bf(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Sh(_h(e)),n.s=null,n.U=!0,rh(n,t)}function Df(t){null!=t.v&&(Ku.clearTimeout(t.v),t.v=null)}function Mf(t,e){var n=null;if(t.g==e){Df(t),Lf(t),t.g=null;var r=2}else{if(!Hh(t.i,e))return;n=e.D,Xh(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;uc(r=Nc(),new zc(r,n,e,i)),Tf(t)}else Rf(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(qh(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=Vc(el(t.Ha,t,e),jf(t,t.C)),t.C++,!0))}(t,e)||2==r&&Pf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ff(t,5);break;case 4:Ff(t,10);break;case 3:Ff(t,6);break;default:Ff(t,2)}}function jf(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ff(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=el(t.jb,t);n||(n=new mh("//www.google.com/images/cleardot.gif"),Ku.location&&"http"==Ku.location.protocol||bh(n,"https"),Sh(n)),function(t,e){var n=new Ac;if(Ku.Image){var r=new Image;r.onload=nl(Jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=nl(Jh,n,r,"TestLoadImage: error",!1,e),r.onabort=nl(Jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=nl(Jh,n,r,"TestLoadImage: timeout",!1,e),Ku.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fc(2);t.G=0,t.j&&t.j.va(e),zf(t),Sf(t)}function zf(t){t.G=0,t.I=-1,t.j&&(0==Yh(t.i).length&&0==t.l.length||(t.i.i.length=0,ll(t.l),t.l.length=0),t.j.ua())}function Vf(t,e,n){var r=function(t){return t instanceof mh?_h(t):new mh(t,void 0)}(n);if(""!=r.i)e&&wh(r,e+"."+r.i),xh(r,r.m);else{var i=Ku.location;r=function(t,e,n,r){var i=new mh(null,void 0);return t&&bh(i,t),e&&wh(i,e),n&&xh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&yl(t.aa,(function(t,e){Eh(r,e,t)})),e=t.D,n=t.sa,e&&n&&Eh(r,e,n),Eh(r,"VER",t.ma),Of(t,r),r}function Uf(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new uf(new tf({ib:!0})):new uf(t.qa)).L=t.H,e}function Bf(){}function Wf(){if(El&&!(10<=Number(jl)))throw Error("Environmental error: no available transport.")}function Gf(t,e){sc.call(this),this.g=new xf(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!cl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cl(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Kf(this)}function qf(t){Xc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Hf(){Yc.call(this),this.status=1}function Kf(t){this.g=t}(Wu=uf.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hc.g(),this.C=this.u?Gc(this.u):Gc(Hc),this.g.onreadystatechange=el(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void df(this,o)}t=n||"";var i=new ph(this.headers);r&&dh(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ff,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=Ku.FormData&&t instanceof Ku.FormData,!(0<=al(hf,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yf(this),0<this.B&&((this.K=function(t){return El&&Dl()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=el(this.pa,this)):this.A=kc(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){df(this,o)}},Wu.pa=function(){"undefined"!=typeof Hu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,uc(this,"timeout"),this.abort(8))},Wu.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,uc(this,"complete"),uc(this,"abort"),gf(this))},Wu.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gf(this,!0)),uf.Z.M.call(this)},Wu.Fa=function(){this.s||(this.F||this.v||this.l?vf(this):this.cb())},Wu.cb=function(){vf(this)},Wu.ba=function(){try{return 2<mf(this)?this.g.status:-1}catch(Bh){return-1}},Wu.ga=function(){try{return this.g?this.g.responseText:""}catch(Bh){return""}},Wu.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sf(e)}},Wu.Da=function(){return this.m},Wu.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Wu=xf.prototype).ma=8,Wu.G=1,Wu.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Wu.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Qc(this,this.h,t,void 0),n=this.s;if(this.P&&(n?bl(n=ml(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Af(this,e,r),Eh(i=_h(this.F),"RID",t),Eh(i,"CVER",22),this.D&&Eh(i,"X-HTTP-Session-Id",this.D),Of(this,i),this.o&&n&&bf(i,this.o,n),Kh(this.i,e),this.Ra&&Eh(i,"TYPE","init"),this.ja?(Eh(i,"$req",r),Eh(i,"SID","null"),e.$=!0,nh(e,i,null)):nh(e,i,r),this.G=2}}else 3==this.G&&(t?If(this,t):0==this.l.length||Gh(this.i)||If(this))},Wu.Ga=function(){if(this.u=null,Nf(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Vc(el(this.bb,this),t)}},Wu.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fc(10),Ef(this),Nf(this))},Wu.ab=function(){null!=this.v&&(this.v=null,Ef(this),Pf(this),Fc(19))},Wu.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Fc(2)):(this.h.info("Failed to ping google.com"),Fc(1))},(Wu=Bf.prototype).xa=function(){},Wu.wa=function(){},Wu.va=function(){},Wu.ua=function(){},Wu.Oa=function(){},Wf.prototype.g=function(t,e){return new Gf(t,e)},rl(Gf,sc),Gf.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),yc(el(t.hb,t,e))),Fc(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Vf(t,null,t.W),Tf(t)},Gf.prototype.close=function(){kf(this.g)},Gf.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Cf(this.g,e)}else this.v?((e={}).__data__=cc(t),Cf(this.g,e)):Cf(this.g,t)},Gf.prototype.M=function(){this.g.j=null,delete this.j,kf(this.g),delete this.g,Gf.Z.M.call(this)},rl(qf,Xc),rl(Hf,Yc),rl(Kf,Bf),Kf.prototype.xa=function(){uc(this.g,"a")},Kf.prototype.wa=function(t){uc(this.g,new qf(t))},Kf.prototype.va=function(t){uc(this.g,new Hf(t))},Kf.prototype.ua=function(){uc(this.g,"b")},Wf.prototype.createWebChannel=Wf.prototype.g,Gf.prototype.send=Gf.prototype.u,Gf.prototype.open=Gf.prototype.m,Gf.prototype.close=Gf.prototype.close,Uc.NO_ERROR=0,Uc.TIMEOUT=8,Uc.HTTP_ERROR=6,Bc.COMPLETE="complete",qc.EventType=Kc,Kc.OPEN="a",Kc.CLOSE="b",Kc.ERROR="c",Kc.MESSAGE="d",sc.prototype.listen=sc.prototype.N,uf.prototype.listenOnce=uf.prototype.O,uf.prototype.getLastError=uf.prototype.La,uf.prototype.getLastErrorCode=uf.prototype.Da,uf.prototype.getStatus=uf.prototype.ba,uf.prototype.getResponseJson=uf.prototype.Qa,uf.prototype.getResponseText=uf.prototype.ga,uf.prototype.send=uf.prototype.ea;var Xf=qu.createWebChannelTransport=function(){return new Wf},Yf=qu.getStatEventTarget=function(){return Nc()},Zf=qu.ErrorCode=Uc,Qf=qu.EventType=Bc,$f=qu.Event=Pc,Jf=qu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},td=qu.FetchXmlHttpFactory=tf,ed=qu.WebChannel=qc,nd=qu.XhrIo=uf,rd="@firebase/firestore",id=function(){function t(e){b(this,t),this.uid=e}return x(t,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(t){return t.uid===this.uid}}]),t}();id.UNAUTHENTICATED=new id(null),id.GOOGLE_CREDENTIALS=new id("google-credentials-uid"),id.FIRST_PARTY=new id("first-party-uid"),id.MOCK_USER=new id("mock-user");var od="9.6.5",ad=new Su("@firebase/firestore");function sd(){return ad.logLevel}function ud(t){if(ad.logLevel<=gu.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.map(hd);ad.debug.apply(ad,["Firestore (".concat(od,"): ").concat(t)].concat(f(i)))}}function ld(t){if(ad.logLevel<=gu.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.map(hd);ad.error.apply(ad,["Firestore (".concat(od,"): ").concat(t)].concat(f(i)))}}function cd(t){if(ad.logLevel<=gu.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n.map(hd);ad.warn.apply(ad,["Firestore (".concat(od,"): ").concat(t)].concat(f(i)))}}function hd(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function fd(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",e="FIRESTORE (".concat(od,") INTERNAL ASSERTION FAILED: ")+t;throw ld(e),new Error(e)}function dd(t,e){t||fd()}function pd(t,e){return t}var vd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gd=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t,r)).code=t,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return x(n)}(ou),yd=x((function t(){var e=this;b(this,t),this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))})),md=x((function t(e,n){b(this,t),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))})),_d=function(){function t(){b(this,t)}return x(t,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(id.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),t}(),bd=function(){function t(e){b(this,t),this.t=e,this.currentUser=id.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return x(t,[{key:"start",value:function(t,e){var n=this,r=this.i,i=function(t){return n.i!==r?(r=n.i,e(t)):Promise.resolve()},o=new yd;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new yd,t.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(){var e=o;t.enqueueRetryable(Zs($s().mark((function t(){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.promise;case 2:return t.next=4,i(n.currentUser);case 4:case"end":return t.stop()}}),t)}))))},s=function(t){ud("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(t){return s(t)})),setTimeout((function(){if(!n.auth){var t=n.t.getImmediate({optional:!0});t?s(t):(ud("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yd)}}),0),a()}},{key:"getToken",value:function(){var t=this,e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.i!==e?(ud("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(dd("string"==typeof n.accessToken),new md(n.accessToken,t.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var t=this.auth&&this.auth.getUid();return dd(null===t||"string"==typeof t),new id(t)}}]),t}(),wd=x((function t(e,n,r){b(this,t),this.type="FirstParty",this.user=id.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),xd=function(){function t(e,n,r){b(this,t),this.h=e,this.l=n,this.m=r}return x(t,[{key:"getToken",value:function(){return Promise.resolve(new wd(this.h,this.l,this.m))}},{key:"start",value:function(t,e){t.enqueueRetryable((function(){return e(id.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),t}(),kd=x((function t(e){b(this,t),this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ed=function(){function t(e){b(this,t),this.g=e,this.forceRefresh=!1,this.appCheck=null}return x(t,[{key:"start",value:function(t,e){var n=this;this.o=function(n){t.enqueueRetryable((function(){return function(t){return null!=t.error&&ud("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message)),e(t.token)}(n)}))};var r=function(t){ud("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=t,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(t){return r(t)})),setTimeout((function(){if(!n.appCheck){var t=n.g.getImmediate({optional:!0});t?r(t):ud("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(dd("string"==typeof t.token),new kd(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),t}(),Sd=function(){function t(e,n){var r=this;b(this,t),this.previousValue=e,n&&(n.sequenceNumberHandler=function(t){return r.p(t)},this.T=function(t){return n.writeSequenceNumber(t)})}return x(t,[{key:"p",value:function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}},{key:"next",value:function(){var t=++this.previousValue;return this.T&&this.T(t),t}}]),t}();function Cd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Sd.I=-1;var Td=function(){function t(){b(this,t)}return x(t,null,[{key:"A",value:function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Cd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n}}]),t}();function Id(t,e){return t<e?-1:t>e?1:0}function Od(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}var Ad=function(){function t(e,n){if(b(this,t),this.seconds=e,this.nanoseconds=n,n<0)throw new gd(vd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gd(vd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new gd(vd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gd(vd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return x(t,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(t){return this.seconds===t.seconds?Id(this.nanoseconds,t.nanoseconds):Id(this.seconds,t.seconds)}},{key:"isEqual",value:function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return t.fromMillis(Date.now())}},{key:"fromDate",value:function(e){return t.fromMillis(e.getTime())}},{key:"fromMillis",value:function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))}}]),t}(),Rd=function(){function t(e){b(this,t),this.timestamp=e}return x(t,[{key:"compareTo",value:function(t){return this.timestamp._compareTo(t.timestamp)}},{key:"isEqual",value:function(t){return this.timestamp.isEqual(t.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(e){return new t(e)}},{key:"min",value:function(){return new t(new Ad(0,0))}}]),t}();function Pd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ld(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Dd=function(){function t(e,n,r){b(this,t),void 0===n?n=0:n>e.length&&fd(),void 0===r?r=e.length-n:r>e.length-n&&fd(),this.segments=e,this.offset=n,this.len=r}return x(t,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(e){return 0===t.comparator(this,e)}},{key:"child",value:function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(t){return this.segments[this.offset+t]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"isImmediateParentOf",value:function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}},{key:"forEach",value:function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}]),t}(),Md=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"construct",value:function(t,e,r){return new n(t,e,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var t=[],e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new gd(vd.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));t.push.apply(t,f(s.split("/").filter((function(t){return t.length>0}))))}return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dd),jd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fd=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"construct",value:function(t,e,r){return new n(t,e,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(t){return jd.test(t)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(t){for(var e=[],r="",i=0,o=function(){if(0===r.length)throw new gd(vd.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new gd(vd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new gd(vd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new gd(vd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dd),zd=function(){function t(e){b(this,t),this.fields=e,e.sort(Fd.comparator)}return x(t,[{key:"covers",value:function(t){var e,n=tu(this.fields);try{for(n.s();!(e=n.n()).done;){if(e.value.isPrefixOf(t))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(t){return Od(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))}}]),t}();var Vd=function(t){function e(t){b(this,e),this.binaryString=t}return x(e,[{key:Symbol.iterator,value:function(){var t=this,e=0;return{next:function(){return e<t.binaryString.length?{value:t.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return t=this.binaryString,btoa(t);var t}},{key:"toUint8Array",value:function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(t){return Id(this.binaryString,t.binaryString)}},{key:"isEqual",value:function(t){return this.binaryString===t.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new e(n)}}]),e}();Vd.EMPTY_BYTE_STRING=new Vd("");var Ud=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bd(t){if(dd(!!t),"string"==typeof t){var e=0,n=Ud.exec(t);if(dd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wd(t.seconds),nanos:Wd(t.nanos)}}function Wd(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gd(t){return"string"==typeof t?Vd.fromBase64String(t):Vd.fromUint8Array(t)}function qd(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hd(t){var e=t.mapValue.fields.__previous_value__;return qd(e)?Hd(e):e}function Kd(t){var e=Bd(t.mapValue.fields.__local_write_time__.timestampValue);return new Ad(e.seconds,e.nanos)}function Xd(t){return null==t}function Yd(t){return 0===t&&1/t==-1/0}function Zd(t){return"number"==typeof t&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Qd=function(){function t(e){b(this,t),this.path=e}return x(t,[{key:"hasCollectionId",value:function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}},{key:"isEqual",value:function(t){return null!==t&&0===Md.comparator(this.path,t.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(e){return new t(Md.fromString(e))}},{key:"fromName",value:function(e){return new t(Md.fromString(e).popFirst(5))}},{key:"comparator",value:function(t,e){return Md.comparator(t.path,e.path)}},{key:"isDocumentKey",value:function(t){return t.length%2==0}},{key:"fromSegments",value:function(e){return new t(new Md(e.slice()))}}]),t}();function $d(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qd(t)?4:10:fd()}function Jd(t,e){if(t===e)return!0;var n=$d(t);if(n!==$d(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kd(t).isEqual(Kd(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Bd(t.timestampValue),r=Bd(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gd(t.bytesValue).isEqual(Gd(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Wd(t.geoPointValue.latitude)===Wd(e.geoPointValue.latitude)&&Wd(t.geoPointValue.longitude)===Wd(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Wd(t.integerValue)===Wd(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Wd(t.doubleValue),r=Wd(e.doubleValue);return n===r?Yd(n)===Yd(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Od(t.arrayValue.values||[],e.arrayValue.values||[],Jd);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Pd(n)!==Pd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jd(n[i],r[i])))return!1;return!0}(t,e);default:return fd()}}function tp(t,e){return void 0!==(t.values||[]).find((function(t){return Jd(t,e)}))}function ep(t,e){if(t===e)return 0;var n=$d(t),r=$d(e);if(n!==r)return Id(n,r);switch(n){case 0:return 0;case 1:return Id(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Wd(t.integerValue||t.doubleValue),r=Wd(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return np(t.timestampValue,e.timestampValue);case 4:return np(Kd(t),Kd(e));case 5:return Id(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Gd(t),r=Gd(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Id(n[i],r[i]);if(0!==o)return o}return Id(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Id(Wd(t.latitude),Wd(e.latitude));return 0!==n?n:Id(Wd(t.longitude),Wd(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ep(n[i],r[i]);if(o)return o}return Id(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Id(r[a],o[a]);if(0!==s)return s;var u=ep(n[r[a]],i[o[a]]);if(0!==u)return u}return Id(r.length,o.length)}(t.mapValue,e.mapValue);default:throw fd()}}function np(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Id(t,e);var n=Bd(t),r=Bd(e),i=Id(n.seconds,r.seconds);return 0!==i?i:Id(n.nanos,r.nanos)}function rp(t){return ip(t)}function ip(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Bd(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gd(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Qd.fromName(n).toString()):"geoPointValue"in t?"geo(".concat((e=t.geoPointValue).latitude,",").concat(e.longitude,")"):"arrayValue"in t?function(t){var e,n="[",r=!0,i=tu(t.values||[]);try{for(i.s();!(e=i.n()).done;){var o=e.value;r?r=!1:n+=",",n+=ip(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(t.arrayValue):"mapValue"in t?function(t){var e,n="{",r=!0,i=tu(Object.keys(t.fields||{}).sort());try{for(i.s();!(e=i.n()).done;){var o=e.value;r?r=!1:n+=",",n+="".concat(o,":").concat(ip(t.fields[o]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(t.mapValue):fd();var e,n}function op(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function ap(t){return!!t&&"integerValue"in t}function sp(t){return!!t&&"arrayValue"in t}function up(t){return!!t&&"nullValue"in t}function lp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cp(t){return!!t&&"mapValue"in t}function hp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Ld(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=hp(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=hp(t.arrayValue.values[r]);return n}return Object.assign({},t)}var fp=function(){function t(e){b(this,t),this.value=e}return x(t,[{key:"field",value:function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!cp(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null}},{key:"set",value:function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=hp(e)}},{key:"setAll",value:function(t){var e=this,n=Fd.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=hp(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(t){var e=this.field(t.popLast());cp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}},{key:"isEqual",value:function(t){return Jd(this.value,t.value)}},{key:"getFieldsMap",value:function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];cp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}},{key:"applyChanges",value:function(t,e,n){Ld(e,(function(e,n){return t[e]=n}));var r,i=tu(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete t[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new t(hp(this.value))}}],[{key:"empty",value:function(){return new t({mapValue:{}})}}]),t}();function dp(t){var e=[];return Ld(t.fields,(function(t,n){var r=new Fd([t]);if(cp(n)){var i=dp(n.mapValue).fields;if(0===i.length)e.push(r);else{var o,a=tu(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.push(r.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else e.push(r)})),new zd(e)}var pp=function(){function t(e,n,r,i,o){b(this,t),this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return x(t,[{key:"convertToFoundDocument",value:function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}},{key:"convertToNoDocument",value:function(t){return this.version=t,this.documentType=2,this.data=fp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(t){return this.version=t,this.documentType=3,this.data=fp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}},{key:"mutableCopy",value:function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(e){return new t(e,0,Rd.min(),fp.empty(),0)}},{key:"newFoundDocument",value:function(e,n,r){return new t(e,1,n,r,0)}},{key:"newNoDocument",value:function(e,n){return new t(e,2,n,fp.empty(),0)}},{key:"newUnknownDocument",value:function(e,n){return new t(e,3,n,fp.empty(),2)}}]),t}(),vp=x((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;b(this,t),this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.R=null}));function gp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new vp(t,e,n,r,i,o,a)}function yp(t){var e=pd(t);if(null===e.R){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+rp(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ap(e.startAt)),e.endAt&&(n+="|ub:",n+=Ap(e.endAt)),e.R=n}return e.R}function mp(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Pp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Jd(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Np(t.startAt,e.startAt)&&Np(t.endAt,e.endAt)}function _p(t){return Qd.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var bp=function(t){p(n,t);var e=_(n);function n(t,r,i){var o;return b(this,n),(o=e.call(this)).field=t,o.op=r,o.value=i,o}return x(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(ep(e,this.value)):null!==e&&$d(this.value)===$d(e)&&this.v(ep(e,this.value))}},{key:"v",value:function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fd()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,r):new wp(t,e,r):"array-contains"===e?new Sp(t,r):"in"===e?new Cp(t,r):"not-in"===e?new Tp(t,r):"array-contains-any"===e?new Ip(t,r):new n(t,e,r)}},{key:"P",value:function(t,e,n){return"in"===e?new xp(t,n):new kp(t,n)}}]),n}(function(){return x((function t(){b(this,t)}))}());var wp=function(t){p(n,t);var e=_(n);function n(t,r,i){var o;return b(this,n),(o=e.call(this,t,r,i)).key=Qd.fromName(i.referenceValue),o}return x(n,[{key:"matches",value:function(t){var e=Qd.comparator(t.key,this.key);return this.v(e)}}]),n}(bp),xp=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t,"in",r)).keys=Ep("in",r),i}return x(n,[{key:"matches",value:function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(bp),kp=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this,t,"not-in",r)).keys=Ep("not-in",r),i}return x(n,[{key:"matches",value:function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))}}]),n}(bp);function Ep(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Qd.fromName(t.referenceValue)}))}var Sp=function(t){p(n,t);var e=_(n);function n(t,r){return b(this,n),e.call(this,t,"array-contains",r)}return x(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return sp(e)&&tp(e.arrayValue,this.value)}}]),n}(bp),Cp=function(t){p(n,t);var e=_(n);function n(t,r){return b(this,n),e.call(this,t,"in",r)}return x(n,[{key:"matches",value:function(t){var e=t.data.field(this.field);return null!==e&&tp(this.value.arrayValue,e)}}]),n}(bp),Tp=function(t){p(n,t);var e=_(n);function n(t,r){return b(this,n),e.call(this,t,"not-in",r)}return x(n,[{key:"matches",value:function(t){if(tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!tp(this.value.arrayValue,e)}}]),n}(bp),Ip=function(t){p(n,t);var e=_(n);function n(t,r){return b(this,n),e.call(this,t,"array-contains-any",r)}return x(n,[{key:"matches",value:function(t){var e=this,n=t.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return tp(e.value.arrayValue,t)}))}}]),n}(bp),Op=x((function t(e,n){b(this,t),this.position=e,this.before=n}));function Ap(t){return"".concat(t.before?"b":"a",":").concat(t.position.map((function(t){return rp(t)})).join(","))}var Rp=x((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";b(this,t),this.field=e,this.dir=n}));function Pp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Lp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?Qd.comparator(Qd.fromName(a.referenceValue),n.key):ep(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Np(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Jd(t.position[n],e.position[n]))return!1;return!0}var Dp=x((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;b(this,t),this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Mp(t,e,n,r,i,o,a,s){return new Dp(t,e,n,r,i,o,a,s)}function jp(t){return new Dp(t)}function Fp(t){return!Xd(t.limit)&&"F"===t.limitType}function zp(t){return!Xd(t.limit)&&"L"===t.limitType}function Vp(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Up(t){var e,n=tu(t.filters);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Bp(t){return null!==t.collectionGroup}function Wp(t){var e=pd(t);if(null===e.S){e.S=[];var n=Up(e),r=Vp(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new Rp(n)),e.S.push(new Rp(Fd.keyField(),"asc"));else{var i,o=!1,a=tu(e.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;e.S.push(s),s.field.isKeyField()&&(o=!0)}}catch(l){a.e(l)}finally{a.f()}if(!o){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Rp(Fd.keyField(),u))}}}return e.S}function Gp(t){var e=pd(t);if(!e.D)if("F"===e.limitType)e.D=gp(e.path,e.collectionGroup,Wp(e),e.filters,e.limit,e.startAt,e.endAt);else{var n,r=[],i=tu(Wp(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new Rp(o.field,a))}}catch(l){i.e(l)}finally{i.f()}var s=e.endAt?new Op(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Op(e.startAt.position,!e.startAt.before):null;e.D=gp(e.path,e.collectionGroup,r,e.filters,e.limit,s,u)}return e.D}function qp(t,e,n){return new Dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hp(t,e){return mp(Gp(t),Gp(e))&&t.limitType===e.limitType}function Kp(t){return"".concat(yp(Gp(t)),"|lt:").concat(t.limitType)}function Xp(t){return"Query(target=".concat(function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((function(t){return"".concat((e=t).field.canonicalString()," ").concat(e.op," ").concat(rp(e.value));var e})).join(", "),"]")),Xd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((function(t){return function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t)})).join(", "),"]")),t.startAt&&(e+=", startAt: "+Ap(t.startAt)),t.endAt&&(e+=", endAt: "+Ap(t.endAt)),"Target(".concat(e,")")}(Gp(t)),"; limitType=").concat(t.limitType,")")}function Yp(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Qd.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){var n,r=tu(t.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(t,e)&&function(t,e){var n,r=tu(t.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(e))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(t,e)&&function(t,e){return!(t.startAt&&!Lp(t.startAt,Wp(t),e))&&(!t.endAt||!Lp(t.endAt,Wp(t),e))}(t,e)}function Zp(t){return function(e,n){var r,i=!1,o=tu(Wp(t));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Qp(a,e,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function Qp(t,e,n){var r=t.field.isKeyField()?Qd.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ep(r,i):fd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fd()}}function $p(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function Jp(t){return{integerValue:""+t}}function tv(t,e){return Zd(e)?Jp(e):$p(t,e)}var ev=x((function t(){b(this,t),this._=void 0}));function nv(t,e,n){return t instanceof ov?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof av?sv(t,e):t instanceof uv?lv(t,e):function(t,e){var n=iv(t,e),r=hv(n)+hv(t.N);return ap(n)&&ap(t.N)?Jp(r):$p(t.k,r)}(t,e)}function rv(t,e,n){return t instanceof av?sv(t,e):t instanceof uv?lv(t,e):n}function iv(t,e){return t instanceof cv?ap(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ov=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n)}(ev),av=function(t){p(n,t);var e=_(n);function n(t){var r;return b(this,n),(r=e.call(this)).elements=t,r}return x(n)}(ev);function sv(t,e){var n,r=fv(e),i=tu(t.elements);try{var o=function(){var t=n.value;r.some((function(e){return Jd(e,t)}))||r.push(t)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var uv=function(t){p(n,t);var e=_(n);function n(t){var r;return b(this,n),(r=e.call(this)).elements=t,r}return x(n)}(ev);function lv(t,e){var n,r=fv(e),i=tu(t.elements);try{var o=function(){var t=n.value;r=r.filter((function(e){return!Jd(e,t)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var cv=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this)).k=t,i.N=r,i}return x(n)}(ev);function hv(t){return Wd(t.integerValue||t.doubleValue)}function fv(t){return sp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var dv=x((function t(e,n){b(this,t),this.version=e,this.transformResults=n})),pv=function(){function t(e,n){b(this,t),this.updateTime=e,this.exists=n}return x(t,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}],[{key:"none",value:function(){return new t}},{key:"exists",value:function(e){return new t(void 0,e)}},{key:"updateTime",value:function(e){return new t(e)}}]),t}();function vv(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var gv=x((function t(){b(this,t)}));function yv(t,e,n){t instanceof xv?function(t,e,n){var r=t.value.clone(),i=Sv(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof kv?function(t,e,n){if(vv(t.precondition,e)){var r=Sv(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ev(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function mv(t,e,n){t instanceof xv?function(t,e,n){if(vv(t.precondition,e)){var r=t.value.clone(),i=Cv(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(wv(e),r).setHasLocalMutations()}}(t,e,n):t instanceof kv?function(t,e,n){if(vv(t.precondition,e)){var r=Cv(t.fieldTransforms,n,e),i=e.data;i.setAll(Ev(t)),i.setAll(r),e.convertToFoundDocument(wv(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){vv(t.precondition,e)&&e.convertToNoDocument(Rd.min())}(t,e)}function _v(t,e){var n,r=null,i=tu(t.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e.data.field(o.field),s=iv(o.transform,a||null);null!=s&&(null==r&&(r=fp.empty()),r.set(o.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function bv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Od(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof av&&e instanceof av||t instanceof uv&&e instanceof uv?Od(t.elements,e.elements,Jd):t instanceof cv&&e instanceof cv?Jd(t.N,e.N):t instanceof ov&&e instanceof ov}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function wv(t){return t.isFoundDocument()?t.version:Rd.min()}var xv=function(t){p(n,t);var e=_(n);function n(t,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return b(this,n),(o=e.call(this)).key=t,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return x(n)}(gv),kv=function(t){p(n,t);var e=_(n);function n(t,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return b(this,n),(a=e.call(this)).key=t,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return x(n)}(gv);function Ev(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Sv(t,e,n){var r=new Map;dd(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,rv(a,s,n[i]))}return r}function Cv(t,e,n){var r,i=new Map,o=tu(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,u=n.data.field(a.field);i.set(a.field,nv(s,u,e))}}catch(l){o.e(l)}finally{o.f()}return i}var Tv,Iv,Ov=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this)).key=t,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return x(n)}(gv),Av=function(t){p(n,t);var e=_(n);function n(t,r){var i;return b(this,n),(i=e.call(this)).key=t,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return x(n)}(gv),Rv=x((function t(e){b(this,t),this.count=e}));function Pv(t){switch(t){default:return fd();case vd.CANCELLED:case vd.UNKNOWN:case vd.DEADLINE_EXCEEDED:case vd.RESOURCE_EXHAUSTED:case vd.INTERNAL:case vd.UNAVAILABLE:case vd.UNAUTHENTICATED:return!1;case vd.INVALID_ARGUMENT:case vd.NOT_FOUND:case vd.ALREADY_EXISTS:case vd.PERMISSION_DENIED:case vd.FAILED_PRECONDITION:case vd.ABORTED:case vd.OUT_OF_RANGE:case vd.UNIMPLEMENTED:case vd.DATA_LOSS:return!0}}function Lv(t){if(void 0===t)return ld("GRPC error has no .code"),vd.UNKNOWN;switch(t){case Tv.OK:return vd.OK;case Tv.CANCELLED:return vd.CANCELLED;case Tv.UNKNOWN:return vd.UNKNOWN;case Tv.DEADLINE_EXCEEDED:return vd.DEADLINE_EXCEEDED;case Tv.RESOURCE_EXHAUSTED:return vd.RESOURCE_EXHAUSTED;case Tv.INTERNAL:return vd.INTERNAL;case Tv.UNAVAILABLE:return vd.UNAVAILABLE;case Tv.UNAUTHENTICATED:return vd.UNAUTHENTICATED;case Tv.INVALID_ARGUMENT:return vd.INVALID_ARGUMENT;case Tv.NOT_FOUND:return vd.NOT_FOUND;case Tv.ALREADY_EXISTS:return vd.ALREADY_EXISTS;case Tv.PERMISSION_DENIED:return vd.PERMISSION_DENIED;case Tv.FAILED_PRECONDITION:return vd.FAILED_PRECONDITION;case Tv.ABORTED:return vd.ABORTED;case Tv.OUT_OF_RANGE:return vd.OUT_OF_RANGE;case Tv.UNIMPLEMENTED:return vd.UNIMPLEMENTED;case Tv.DATA_LOSS:return vd.DATA_LOSS;default:return fd()}}(Iv=Tv||(Tv={}))[Iv.OK=0]="OK",Iv[Iv.CANCELLED=1]="CANCELLED",Iv[Iv.UNKNOWN=2]="UNKNOWN",Iv[Iv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Iv[Iv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Iv[Iv.NOT_FOUND=5]="NOT_FOUND",Iv[Iv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Iv[Iv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Iv[Iv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Iv[Iv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Iv[Iv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Iv[Iv.ABORTED=10]="ABORTED",Iv[Iv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Iv[Iv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Iv[Iv.INTERNAL=13]="INTERNAL",Iv[Iv.UNAVAILABLE=14]="UNAVAILABLE",Iv[Iv.DATA_LOSS=15]="DATA_LOSS";var Nv=function(){function t(e,n){b(this,t),this.comparator=e,this.root=n||Mv.EMPTY}return x(t,[{key:"insert",value:function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mv.BLACK,null,null))}},{key:"remove",value:function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mv.BLACK,null,null))}},{key:"get",value:function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}},{key:"indexOf",value:function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(t){return this.root.inorderTraversal(t)}},{key:"forEach",value:function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))}},{key:"toString",value:function(){var t=[];return this.inorderTraversal((function(e,n){return t.push("".concat(e,":").concat(n)),!1})),"{".concat(t.join(", "),"}")}},{key:"reverseTraversal",value:function(t){return this.root.reverseTraversal(t)}},{key:"getIterator",value:function(){return new Dv(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(t){return new Dv(this.root,t,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Dv(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(t){return new Dv(this.root,t,this.comparator,!0)}}]),t}(),Dv=function(){function t(e,n,r,i){b(this,t),this.isReverse=i,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return x(t,[{key:"getNext",value:function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}]),t}(),Mv=function(){function t(e,n,r,i,o){b(this,t),this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return x(t,[{key:"copy",value:function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}},{key:"reverseTraversal",value:function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}},{key:"moveRedLeft",value:function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t}},{key:"moveRedRight",value:function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t}},{key:"rotateLeft",value:function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}},{key:"rotateRight",value:function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}},{key:"colorFlip",value:function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}},{key:"checkMaxDepth",value:function(){var t=this.check();return Math.pow(2,t)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw fd();if(this.right.isRed())throw fd();var t=this.left.check();if(t!==this.right.check())throw fd();return t+(this.isRed()?0:1)}}]),t}();Mv.EMPTY=null,Mv.RED=!0,Mv.BLACK=!1,Mv.EMPTY=new(function(){function t(){b(this,t),this.size=0}return x(t,[{key:"key",get:function(){throw fd()}},{key:"value",get:function(){throw fd()}},{key:"color",get:function(){throw fd()}},{key:"left",get:function(){throw fd()}},{key:"right",get:function(){throw fd()}},{key:"copy",value:function(t,e,n,r,i){return this}},{key:"insert",value:function(t,e,n){return new Mv(t,e)}},{key:"remove",value:function(t,e){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(t){return!1}},{key:"reverseTraversal",value:function(t){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),t}());var jv=function(){function t(e){b(this,t),this.comparator=e,this.data=new Nv(this.comparator)}return x(t,[{key:"has",value:function(t){return null!==this.data.get(t)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(t){return this.data.indexOf(t)}},{key:"forEach",value:function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"forEachInRange",value:function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}},{key:"forEachWhile",value:function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}},{key:"getIterator",value:function(){return new Fv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(t){return new Fv(this.data.getIteratorFrom(t))}},{key:"add",value:function(t){return this.copy(this.data.remove(t).insert(t,!0))}},{key:"delete",value:function(t){return this.has(t)?this.copy(this.data.remove(t)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"}},{key:"copy",value:function(e){var n=new t(this.comparator);return n.data=e,n}}]),t}(),Fv=function(){function t(e){b(this,t),this.iter=e}return x(t,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),t}(),zv=new Nv(Qd.comparator);function Vv(){return zv}var Uv=new Nv(Qd.comparator);function Bv(){return Uv}var Wv=new Nv(Qd.comparator);function Gv(){return Wv}var qv=new jv(Qd.comparator);function Hv(){for(var t=qv,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];t=t.add(a)}return t}var Kv=new jv(Id);function Xv(){return Kv}var Yv=function(){function t(e,n,r,i,o){b(this,t),this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return x(t,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(e,n){var r=new Map;return r.set(e,Zv.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Rd.min(),r,Xv(),Vv(),Hv())}}]),t}(),Zv=function(){function t(e,n,r,i,o){b(this,t),this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return x(t,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(e,n){return new t(Vd.EMPTY_BYTE_STRING,n,Hv(),Hv(),Hv())}}]),t}(),Qv=x((function t(e,n,r,i){b(this,t),this.$=e,this.removedTargetIds=n,this.key=r,this.O=i})),$v=x((function t(e,n){b(this,t),this.targetId=e,this.M=n})),Jv=x((function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vd.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;b(this,t),this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i})),tg=function(){function t(){b(this,t),this.F=0,this.L=rg(),this.B=Vd.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return x(t,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}},{key:"G",value:function(){var t=Hv(),e=Hv(),n=Hv();return this.L.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:fd()}})),new Zv(this.B,this.U,t,e,n)}},{key:"H",value:function(){this.q=!1,this.L=rg()}},{key:"J",value:function(t,e){this.q=!0,this.L=this.L.insert(t,e)}},{key:"Y",value:function(t){this.q=!0,this.L=this.L.remove(t)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),t}(),eg=function(){function t(e){b(this,t),this.et=e,this.nt=new Map,this.st=Vv(),this.it=ng(),this.rt=new jv(Id)}return x(t,[{key:"ot",value:function(t){var e,n=tu(t.$);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.O&&t.O.isFoundDocument()?this.ct(r,t.O):this.at(r,t.key,t.O)}}catch(s){n.e(s)}finally{n.f()}var i,o=tu(t.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.at(a,t.key,t.O)}}catch(s){o.e(s)}finally{o.f()}}},{key:"ut",value:function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ht(n);switch(t.state){case 0:e.lt(n)&&r.W(t.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(t.resumeToken);break;case 2:r.Z(),r.K||e.removeTarget(n);break;case 3:e.lt(n)&&(r.tt(),r.W(t.resumeToken));break;case 4:e.lt(n)&&(e.ft(n),r.W(t.resumeToken));break;default:fd()}}))}},{key:"forEachTarget",value:function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((function(t,r){n.lt(r)&&e(r)}))}},{key:"dt",value:function(t){var e=t.targetId,n=t.M.count,r=this.wt(e);if(r){var i=r.target;if(_p(i))if(0===n){var o=new Qd(i.path);this.at(e,o,pp.newNoDocument(o,Rd.min()))}else dd(1===n);else this._t(e)!==n&&(this.ft(e),this.rt=this.rt.add(e))}}},{key:"gt",value:function(t){var e=this,n=new Map;this.nt.forEach((function(r,i){var o=e.wt(i);if(o){if(r.current&&_p(o.target)){var a=new Qd(o.target.path);null!==e.st.get(a)||e.yt(i,a)||e.at(i,a,pp.newNoDocument(a,t))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Hv();this.it.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.wt(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Yv(t,n,this.rt,this.st,r);return this.st=Vv(),this.it=ng(),this.rt=new jv(Id),i}},{key:"ct",value:function(t,e){if(this.lt(t)){var n=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,n),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}}},{key:"at",value:function(t,e,n){if(this.lt(t)){var r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),n&&(this.st=this.st.insert(e,n))}}},{key:"removeTarget",value:function(t){this.nt.delete(t)}},{key:"_t",value:function(t){var e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}},{key:"X",value:function(t){this.ht(t).X()}},{key:"ht",value:function(t){var e=this.nt.get(t);return e||(e=new tg,this.nt.set(t,e)),e}},{key:"Tt",value:function(t){var e=this.it.get(t);return e||(e=new jv(Id),this.it=this.it.insert(t,e)),e}},{key:"lt",value:function(t){var e=null!==this.wt(t);return e||ud("WatchChangeAggregator","Detected inactive target",t),e}},{key:"wt",value:function(t){var e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}},{key:"ft",value:function(t){var e=this;this.nt.set(t,new tg),this.et.getRemoteKeysForTarget(t).forEach((function(n){e.at(t,n,null)}))}},{key:"yt",value:function(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}]),t}();function ng(){return new Nv(Qd.comparator)}function rg(){return new Nv(Qd.comparator)}var ig={asc:"ASCENDING",desc:"DESCENDING"},og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ag=x((function t(e,n){b(this,t),this.databaseId=e,this.C=n}));function sg(t,e){return t.C?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function ug(t,e){return t.C?e.toBase64():e.toUint8Array()}function lg(t,e){return sg(t,e.toTimestamp())}function cg(t){return dd(!!t),Rd.fromTimestamp(function(t){var e=Bd(t);return new Ad(e.seconds,e.nanos)}(t))}function hg(t,e){return function(t){return new Md(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function fg(t){var e=Md.fromString(t);return dd(Ng(e)),e}function dg(t,e){return hg(t.databaseId,e.path)}function pg(t,e){var n=fg(e);if(n.get(1)!==t.databaseId.projectId)throw new gd(vd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new gd(vd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qd(mg(n))}function vg(t,e){return hg(t.databaseId,e)}function gg(t){var e=fg(t);return 4===e.length?Md.emptyPath():mg(e)}function yg(t){return new Md(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mg(t){return dd(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function _g(t,e,n){return{name:dg(t,e),fields:n.value.mapValue.fields}}function bg(t,e){var n;if(e instanceof xv)n={update:_g(t,e.key,e.value)};else if(e instanceof Ov)n={delete:dg(t,e.key)};else if(e instanceof kv)n={update:_g(t,e.key,e.data),updateMask:Lg(e.fieldMask)};else{if(!(e instanceof Av))return fd();n={verify:dg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof ov)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof av)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uv)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cv)return{fieldPath:e.field.canonicalString(),increment:n.N};throw fd()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:lg(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:fd()}(t,e.precondition)),n}function wg(t,e){return{documents:[vg(t,e.path)]}}function xg(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=vg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(lp(t.value))return{unaryFilter:{field:Og(t.field),op:"IS_NAN"}};if(up(t.value))return{unaryFilter:{field:Og(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(lp(t.value))return{unaryFilter:{field:Og(t.field),op:"IS_NOT_NAN"}};if(up(t.value))return{unaryFilter:{field:Og(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Og(t.field),op:Ig(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Og(t.field),direction:Tg(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.C||Xd(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Sg(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Sg(e.endAt)),n}function kg(t){var e=gg(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){dd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Eg(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Rp(Ag(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Xd(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=Cg(n.startAt));var c=null;return n.endAt&&(c=Cg(n.endAt)),Mp(e,i,s,a,u,"F",l,c)}function Eg(t){return t?void 0!==t.unaryFilter?[Pg(t)]:void 0!==t.fieldFilter?[Rg(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Eg(t)})).reduce((function(t,e){return t.concat(e)})):fd():[]}function Sg(t){return{before:t.before,values:t.position}}function Cg(t){var e=!!t.before,n=t.values||[];return new Op(n,e)}function Tg(t){return ig[t]}function Ig(t){return og[t]}function Og(t){return{fieldPath:t.canonicalString()}}function Ag(t){return Fd.fromServerFormat(t.fieldPath)}function Rg(t){return bp.create(Ag(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fd()}}(t.fieldFilter.op),t.fieldFilter.value)}function Pg(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ag(t.unaryFilter.field);return bp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ag(t.unaryFilter.field);return bp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ag(t.unaryFilter.field);return bp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ag(t.unaryFilter.field);return bp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fd()}}function Lg(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Ng(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Dg(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=jg(e)),e=Mg(t.get(n),e);return jg(e)}function Mg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function jg(t){return t+"\x01\x01"}var Fg=x((function t(e,n,r){b(this,t),this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Fg.store="owner",Fg.key="owner";var zg=x((function t(e,n,r){b(this,t),this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));zg.store="mutationQueues",zg.keyPath="userId";var Vg=x((function t(e,n,r,i,o){b(this,t),this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=o}));Vg.store="mutations",Vg.keyPath="batchId",Vg.userMutationsIndex="userMutationsIndex",Vg.userMutationsKeyPath=["userId","batchId"];var Ug=function(){function t(){b(this,t)}return x(t,null,[{key:"prefixForUser",value:function(t){return[t]}},{key:"prefixForPath",value:function(t,e){return[t,Dg(e)]}},{key:"key",value:function(t,e,n){return[t,Dg(e),n]}}]),t}();Ug.store="documentMutations",Ug.PLACEHOLDER=new Ug;var Bg=x((function t(e,n,r,i,o,a){b(this,t),this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=a}));Bg.store="remoteDocuments",Bg.readTimeIndex="readTimeIndex",Bg.readTimeIndexPath="readTime",Bg.collectionReadTimeIndex="collectionReadTimeIndex",Bg.collectionReadTimeIndexPath=["parentPath","readTime"];var Wg=x((function t(e){b(this,t),this.byteSize=e}));Wg.store="remoteDocumentGlobal",Wg.key="remoteDocumentGlobalKey";var Gg=x((function t(e,n,r,i,o,a,s){b(this,t),this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=s}));Gg.store="targets",Gg.keyPath="targetId",Gg.queryTargetsIndexName="queryTargetsIndex",Gg.queryTargetsKeyPath=["canonicalId","targetId"];var qg=x((function t(e,n,r){b(this,t),this.targetId=e,this.path=n,this.sequenceNumber=r}));qg.store="targetDocuments",qg.keyPath=["targetId","path"],qg.documentTargetsIndex="documentTargetsIndex",qg.documentTargetsKeyPath=["path","targetId"];var Hg=x((function t(e,n,r,i){b(this,t),this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Hg.key="targetGlobalKey",Hg.store="targetGlobal";var Kg=x((function t(e,n){b(this,t),this.collectionId=e,this.parent=n}));Kg.store="collectionParents",Kg.keyPath=["collectionId","parent"];var Xg=x((function t(e,n,r,i){b(this,t),this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Xg.store="clientMetadata",Xg.keyPath="clientId";var Yg=x((function t(e,n,r){b(this,t),this.bundleId=e,this.createTime=n,this.version=r}));Yg.store="bundles",Yg.keyPath="bundleId";var Zg=x((function t(e,n,r){b(this,t),this.name=e,this.readTime=n,this.bundledQuery=r}));Zg.store="namedQueries",Zg.keyPath="name";[zg.store,Vg.store,Ug.store,Bg.store,Gg.store,Fg.store,Hg.store,qg.store].concat([Xg.store]).concat([Wg.store]).concat([Kg.store]).concat([Yg.store,Zg.store]);var Qg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$g=function(){function t(){b(this,t),this.onCommittedListeners=[]}return x(t,[{key:"addOnCommittedListener",value:function(t){this.onCommittedListeners.push(t)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(t){return t()}))}}]),t}(),Jg=function(){function t(e){var n=this;b(this,t),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(t){n.isDone=!0,n.result=t,n.nextCallback&&n.nextCallback(t)}),(function(t){n.isDone=!0,n.error=t,n.catchCallback&&n.catchCallback(t)}))}return x(t,[{key:"catch",value:function(t){return this.next(void 0,t)}},{key:"next",value:function(e,n){var r=this;return this.callbackAttached&&fd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))}},{key:"toPromise",value:function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))}},{key:"wrapUserFunction",value:function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}}},{key:"wrapSuccess",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)}},{key:"wrapFailure",value:function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)}}],[{key:"resolve",value:function(e){return new t((function(t,n){t(e)}))}},{key:"reject",value:function(e){return new t((function(t,n){n(e)}))}},{key:"waitFor",value:function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))}},{key:"or",value:function(e){var n,r=t.resolve(!1),i=tu(e);try{var o=function(){var e=n.value;r=r.next((function(n){return n?t.resolve(n):e()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)}}]),t}();function ty(t){return"IndexedDbTransactionError"===t.name}var ey=function(){function t(e,n,r,i){b(this,t),this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return x(t,[{key:"applyToRemoteDocument",value:function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&yv(i,t,n[r])}}},{key:"applyToLocalView",value:function(t){var e,n=tu(this.baseMutations);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.key.isEqual(t.key)&&mv(r,t,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,o=tu(this.mutations);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.key.isEqual(t.key)&&mv(a,t,this.localWriteTime)}}catch(s){o.e(s)}finally{o.f()}}},{key:"applyToLocalDocumentSet",value:function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Rd.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Hv())}},{key:"isEqual",value:function(t){return this.batchId===t.batchId&&Od(this.mutations,t.mutations,(function(t,e){return bv(t,e)}))&&Od(this.baseMutations,t.baseMutations,(function(t,e){return bv(t,e)}))}}]),t}(),ny=function(){function t(e,n,r,i){b(this,t),this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return x(t,null,[{key:"from",value:function(e,n,r){dd(e.mutations.length===r.length);for(var i=Gv(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)}}]),t}(),ry=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rd.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rd.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vd.EMPTY_BYTE_STRING;b(this,t),this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}return x(t,[{key:"withSequenceNumber",value:function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}},{key:"withLastLimboFreeSnapshotVersion",value:function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}]),t}(),iy=x((function t(e){b(this,t),this.Gt=e}));function oy(t){var e=kg({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?qp(e,e.limit,"L"):e}var ay=function(){function t(){b(this,t),this.zt=new sy}return x(t,[{key:"addToCollectionParentIndex",value:function(t,e){return this.zt.add(e),Jg.resolve()}},{key:"getCollectionParents",value:function(t,e){return Jg.resolve(this.zt.getEntries(e))}}]),t}(),sy=function(){function t(){b(this,t),this.index={}}return x(t,[{key:"add",value:function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new jv(Md.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}},{key:"has",value:function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}},{key:"getEntries",value:function(t){return(this.index[t]||new jv(Md.comparator)).toArray()}}]),t}();var uy=function(){function t(e,n,r){b(this,t),this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return x(t,null,[{key:"withCacheSize",value:function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),t}();uy.DEFAULT_COLLECTION_PERCENTILE=10,uy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uy.DEFAULT=new uy(41943040,uy.DEFAULT_COLLECTION_PERCENTILE,uy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uy.DISABLED=new uy(-1,0,0);var ly=function(){function t(e){b(this,t),this.se=e}return x(t,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new t(0)}},{key:"re",value:function(){return new t(-1)}}]),t}();function cy(t){return hy.apply(this,arguments)}function hy(){return hy=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.code===vd.FAILED_PRECONDITION&&e.message===Qg){t.next=2;break}throw e;case 2:ud("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return t.stop()}}),t)}))),hy.apply(this,arguments)}var fy=function(){function t(e,n){b(this,t),this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return x(t,[{key:"get",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n){var r,i=tu(n);try{for(i.s();!(r=i.n()).done;){var o=k(r.value,2),a=o[0],s=o[1];if(this.equalsFn(a,t))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(t){return void 0!==this.get(t)}},{key:"set",value:function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}},{key:"delete",value:function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(t){Ld(this.inner,(function(e,n){var r,i=tu(n);try{for(i.s();!(r=i.n()).done;){var o=k(r.value,2),a=o[0],s=o[1];t(a,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Nd(this.inner)}}]),t}(),dy=function(){function t(){b(this,t),this.changes=new fy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return x(t,[{key:"getReadTime",value:function(t){var e=this.changes.get(t);return e?e.readTime:Rd.min()}},{key:"addEntry",value:function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}},{key:"removeEntry",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(t,{document:pp.newInvalidDocument(t),readTime:e})}},{key:"getEntry",value:function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Jg.resolve(n.document):this.getFromCache(t,e)}},{key:"getEntries",value:function(t,e){return this.getAllFromCache(t,e)}},{key:"apply",value:function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}},{key:"assertNotApplied",value:function(){}}]),t}();var py=function(){function t(e,n,r){b(this,t),this.Je=e,this.An=n,this.Jt=r}return x(t,[{key:"Rn",value:function(t,e){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.bn(t,e,r)}))}},{key:"bn",value:function(t,e,n){return this.Je.getEntry(t,e).next((function(t){var e,r=tu(n);try{for(r.s();!(e=r.n()).done;){e.value.applyToLocalView(t)}}catch(i){r.e(i)}finally{r.f()}return t}))}},{key:"Pn",value:function(t,e){t.forEach((function(t,n){var r,i=tu(e);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(o){i.e(o)}finally{i.f()}}))}},{key:"vn",value:function(t,e){var n=this;return this.Je.getEntries(t,e).next((function(e){return n.Vn(t,e).next((function(){return e}))}))}},{key:"Vn",value:function(t,e){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.Pn(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(t,e,n){return function(t){return Qd.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Sn(t,e.path):Bp(e)?this.Dn(t,e,n):this.Cn(t,e,n)}},{key:"Sn",value:function(t,e){return this.Rn(t,new Qd(e)).next((function(t){var e=Bv();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}},{key:"Dn",value:function(t,e,n){var r=this,i=e.collectionGroup,o=Bv();return this.Jt.getCollectionParents(t,i).next((function(a){return Jg.forEach(a,(function(a){var s=function(t,e){return new Dp(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Cn(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))}},{key:"Cn",value:function(t,e,n){var r,i,o=this;return this.Je.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o.An.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Nn(t,i,r).next((function(t){r=t;var e,n=tu(i);try{for(n.s();!(e=n.n()).done;){var o,a=e.value,s=tu(a.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=u.key,c=r.get(l);null==c&&(c=pp.newInvalidDocument(l),r=r.insert(l,c)),mv(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(l))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(t,n){Yp(e,n)||(r=r.remove(t))})),r}))}},{key:"Nn",value:function(t,e,n){var r,i=Hv(),o=tu(e);try{for(o.s();!(r=o.n()).done;){var a,s=tu(r.value.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value;u instanceof kv&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(c){s.e(c)}finally{s.f()}}}catch(c){o.e(c)}finally{o.f()}var l=n;return this.Je.getEntries(t,i).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))})),l}))}}]),t}(),vy=function(){function t(e,n,r,i){b(this,t),this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}return x(t,null,[{key:"$n",value:function(e,n){var r,i=Hv(),o=Hv(),a=tu(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new t(e,n.fromCache,i,o)}}]),t}(),gy=function(){function t(){b(this,t)}return x(t,[{key:"On",value:function(t){this.Mn=t}},{key:"getDocumentsMatchingQuery",value:function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Rd.min())?this.Fn(t,e):this.Mn.vn(t,r).next((function(o){var a=i.Ln(e,o);return(Fp(e)||zp(e))&&i.Bn(e.limitType,a,r,n)?i.Fn(t,e):(sd()<=gu.DEBUG&&ud("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Xp(e)),i.Mn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))}},{key:"Ln",value:function(t,e){var n=new jv(Zp(t));return e.forEach((function(e,r){Yp(t,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(t,e){return sd()<=gu.DEBUG&&ud("QueryEngine","Using full collection scan to execute query:",Xp(e)),this.Mn.getDocumentsMatchingQuery(t,e,Rd.min())}}]),t}(),yy=function(){function t(e,n,r,i){b(this,t),this.persistence=e,this.Un=n,this.k=i,this.qn=new Nv(Id),this.Kn=new fy((function(t){return yp(t)}),mp),this.jn=Rd.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new py(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}return x(t,[{key:"collectGarbage",value:function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.qn)}))}}]),t}();function my(t,e,n,r){return new yy(t,e,n,r)}function _y(t,e){return by.apply(this,arguments)}function by(){return by=Zs($s().mark((function t(e,n){var r,i,o,a;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=pd(e),i=r.An,o=r.Wn,t.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(t){var e;return r.An.getAllMutationBatches(t).next((function(a){return e=a,i=r.persistence.getMutationQueue(n),o=new py(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(t)})).next((function(n){var r,i=[],a=[],s=Hv(),u=tu(e);try{for(u.s();!(r=u.n()).done;){var l=r.value;i.push(l.batchId);var c,h=tu(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;s=s.add(f.key)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=tu(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var g,y=tu(v.mutations);try{for(y.s();!(g=y.n()).done;){var m=g.value;s=s.add(m.key)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){p.e(_)}finally{p.f()}return o.vn(t,s).next((function(t){return{Gn:t,removedBatchIds:i,addedBatchIds:a}}))}))}));case 4:return a=t.sent,t.abrupt("return",(r.An=i,r.Wn=o,r.Un.On(r.Wn),a));case 6:case"end":return t.stop()}}),t)}))),by.apply(this,arguments)}function wy(t,e){var n=pd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Jg.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);dd(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t.An.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.An.performConsistencyCheck(t)})).next((function(){return n.Wn.vn(t,r)}))}))}function xy(t){var e=pd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.He.getLastRemoteSnapshotVersion(t)}))}function ky(t,e){var n=pd(t),r=e.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var a=[];e.targetChanges.forEach((function(o,s){var u=i.get(s);if(u){a.push(n.He.removeMatchingKeys(t,o.removedDocuments,s).next((function(){return n.He.addMatchingKeys(t,o.addedDocuments,s)})));var l=u.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(s)?l=l.withResumeToken(Vd.EMPTY_BYTE_STRING,Rd.min()).withLastLimboFreeSnapshotVersion(Rd.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(s,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,o)&&a.push(n.He.updateTargetData(t,l))}}));var s=Vv();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Ey(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Rd.min())){var u=n.He.getLastRemoteSnapshotVersion(t).next((function(e){return n.He.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return Jg.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Wn.Vn(t,s)})).next((function(){return s}))})).then((function(t){return n.qn=i,t}))}function Ey(t,e,n,r,i){var o=Hv();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Vv();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Rd.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):ud("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Sy(t,e){var n=pd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(t,e)}))}function Cy(t,e){var n=pd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.He.getTargetData(t,e).next((function(i){return i?(r=i,Jg.resolve(r)):n.He.allocateTargetId(t).next((function(i){return r=new ry(e,i,0,t.currentSequenceNumber),n.He.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.qn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(t.targetId,t),n.Kn.set(e,t.targetId)),t}))}function Ty(t,e,n){return Iy.apply(this,arguments)}function Iy(){return Iy=Zs($s().mark((function t(e,n,r){var i,o,a;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=pd(e),o=i.qn.get(n),a=r?"readwrite":"readwrite-primary",t.prev=1,t.t0=r,t.t0){t.next=6;break}return t.next=6,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.referenceDelegate.removeTarget(t,o)}));case 6:t.next=13;break;case 8:if(t.prev=8,t.t1=t.catch(1),ty(t.t1)){t.next=12;break}throw t.t1;case 12:ud("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(t.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(o.target);case 14:case"end":return t.stop()}}),t,null,[[1,8]])}))),Iy.apply(this,arguments)}function Oy(t,e,n){var r=pd(t),i=Rd.min(),o=Hv();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=pd(t),i=r.Kn.get(n);return void 0!==i?Jg.resolve(r.qn.get(i)):r.He.getTargetData(e,n)}(r,t,Gp(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.Un.getDocumentsMatchingQuery(t,e,n?i:Rd.min(),n?o:Hv())})).next((function(t){return{documents:t,zn:o}}))}))}var Ay=function(){function t(e){b(this,t),this.k=e,this.Xn=new Map,this.Zn=new Map}return x(t,[{key:"getBundleMetadata",value:function(t,e){return Jg.resolve(this.Xn.get(e))}},{key:"saveBundleMetadata",value:function(t,e){var n;return this.Xn.set(e.id,{id:(n=e).id,version:n.version,createTime:cg(n.createTime)}),Jg.resolve()}},{key:"getNamedQuery",value:function(t,e){return Jg.resolve(this.Zn.get(e))}},{key:"saveNamedQuery",value:function(t,e){return this.Zn.set(e.name,function(t){return{name:t.name,query:oy(t.bundledQuery),readTime:cg(t.readTime)}}(e)),Jg.resolve()}}]),t}(),Ry=function(){function t(){b(this,t),this.ts=new jv(Py.es),this.ns=new jv(Py.ss)}return x(t,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(t,e){var n=new Py(t,e);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))}},{key:"removeReference",value:function(t,e){this.os(new Py(t,e))}},{key:"cs",value:function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))}},{key:"us",value:function(t){var e=this,n=new Qd(new Md([])),r=new Py(n,t),i=new Py(n,t+1),o=[];return this.ns.forEachInRange([r,i],(function(t){e.os(t),o.push(t.key)})),o}},{key:"hs",value:function(){var t=this;this.ts.forEach((function(e){return t.os(e)}))}},{key:"os",value:function(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}},{key:"ls",value:function(t){var e=new Qd(new Md([])),n=new Py(e,t),r=new Py(e,t+1),i=Hv();return this.ns.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i}},{key:"containsKey",value:function(t){var e=new Py(t,0),n=this.ts.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}]),t}(),Py=function(){function t(e,n){b(this,t),this.key=e,this.fs=n}return x(t,null,[{key:"es",value:function(t,e){return Qd.comparator(t.key,e.key)||Id(t.fs,e.fs)}},{key:"ss",value:function(t,e){return Id(t.fs,e.fs)||Qd.comparator(t.key,e.key)}}]),t}(),Ly=function(){function t(e,n){b(this,t),this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new jv(Py.es)}return x(t,[{key:"checkEmpty",value:function(t){return Jg.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(t,e,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var o=new ey(i,e,n,r);this.An.push(o);var a,s=tu(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.ws=this.ws.add(new Py(u.key,i)),this.Jt.addToCollectionParentIndex(t,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Jg.resolve(o)}},{key:"lookupMutationBatch",value:function(t,e){return Jg.resolve(this._s(e))}},{key:"getNextMutationBatchAfterBatchId",value:function(t,e){var n=e+1,r=this.gs(n),i=r<0?0:r;return Jg.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Jg.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(t){return Jg.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(t,e){var n=this,r=new Py(e,0),i=new Py(e,Number.POSITIVE_INFINITY),o=[];return this.ws.forEachInRange([r,i],(function(t){var e=n._s(t.fs);o.push(e)})),Jg.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(t,e){var n=this,r=new jv(Id);return e.forEach((function(t){var e=new Py(t,0),i=new Py(t,Number.POSITIVE_INFINITY);n.ws.forEachInRange([e,i],(function(t){r=r.add(t.fs)}))})),Jg.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(t,e){var n=e.path,r=n.length+1,i=n;Qd.isDocumentKey(i)||(i=i.child(""));var o=new Py(new Qd(i),0),a=new jv(Id);return this.ws.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.fs)),!0)}),o),Jg.resolve(this.ys(a))}},{key:"ys",value:function(t){var e=this,n=[];return t.forEach((function(t){var r=e._s(t);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(t,e){var n=this;dd(0===this.ps(e.batchId,"removed")),this.An.shift();var r=this.ws;return Jg.forEach(e.mutations,(function(i){var o=new Py(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(t){}},{key:"containsKey",value:function(t,e){var n=new Py(e,0),r=this.ws.firstAfterOrEqual(n);return Jg.resolve(e.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(t){return this.An.length,Jg.resolve()}},{key:"ps",value:function(t,e){return this.gs(t)}},{key:"gs",value:function(t){return 0===this.An.length?0:t-this.An[0].batchId}},{key:"_s",value:function(t){var e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}]),t}(),Ny=function(){function t(e,n){b(this,t),this.Jt=e,this.Ts=n,this.docs=new Nv(Qd.comparator),this.size=0}return x(t,[{key:"addEntry",value:function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:a,readTime:n}),this.size+=a-o,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}},{key:"removeEntry",value:function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}},{key:"getEntry",value:function(t,e){var n=this.docs.get(e);return Jg.resolve(n?n.document.mutableCopy():pp.newInvalidDocument(e))}},{key:"getEntries",value:function(t,e){var n=this,r=Vv();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.mutableCopy():pp.newInvalidDocument(t))})),Jg.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(t,e,n){for(var r=Vv(),i=new Qd(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,l=u.document,c=u.readTime;if(!e.path.isPrefixOf(s.path))break;c.compareTo(n)<=0||Yp(e,l)&&(r=r.insert(l.key,l.mutableCopy()))}return Jg.resolve(r)}},{key:"Es",value:function(t,e){return Jg.forEach(this.docs,(function(t){return e(t)}))}},{key:"newChangeBuffer",value:function(t){return new Dy(this)}},{key:"getSize",value:function(t){return Jg.resolve(this.size)}}]),t}(),Dy=function(t){p(n,t);var e=_(n);function n(t){var r;return b(this,n),(r=e.call(this)).De=t,r}return x(n,[{key:"applyChanges",value:function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.De.addEntry(t,i.document,e.getReadTime(r))):e.De.removeEntry(r)})),Jg.waitFor(n)}},{key:"getFromCache",value:function(t,e){return this.De.getEntry(t,e)}},{key:"getAllFromCache",value:function(t,e){return this.De.getEntries(t,e)}}]),n}(dy),My=function(){function t(e){b(this,t),this.persistence=e,this.Is=new fy((function(t){return yp(t)}),mp),this.lastRemoteSnapshotVersion=Rd.min(),this.highestTargetId=0,this.As=0,this.Rs=new Ry,this.targetCount=0,this.bs=ly.ie()}return x(t,[{key:"forEachTarget",value:function(t,e){return this.Is.forEach((function(t,n){return e(n)})),Jg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(t){return Jg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(t){return Jg.resolve(this.As)}},{key:"allocateTargetId",value:function(t){return this.highestTargetId=this.bs.next(),Jg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.As&&(this.As=e),Jg.resolve()}},{key:"ae",value:function(t){this.Is.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.bs=new ly(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}},{key:"addTargetData",value:function(t,e){return this.ae(e),this.targetCount+=1,Jg.resolve()}},{key:"updateTargetData",value:function(t,e){return this.ae(e),Jg.resolve()}},{key:"removeTargetData",value:function(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Jg.resolve()}},{key:"removeTargets",value:function(t,e,n){var r=this,i=0,o=[];return this.Is.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Is.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),Jg.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(t){return Jg.resolve(this.targetCount)}},{key:"getTargetData",value:function(t,e){var n=this.Is.get(e)||null;return Jg.resolve(n)}},{key:"addMatchingKeys",value:function(t,e,n){return this.Rs.rs(e,n),Jg.resolve()}},{key:"removeMatchingKeys",value:function(t,e,n){this.Rs.cs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Jg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(t,e){return this.Rs.us(e),Jg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(t,e){var n=this.Rs.ls(e);return Jg.resolve(n)}},{key:"containsKey",value:function(t,e){return Jg.resolve(this.Rs.containsKey(e))}}]),t}(),jy=function(){function t(e,n){var r=this;b(this,t),this.Ps={},this.Be=new Sd(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new My(this),this.Jt=new ay,this.Je=function(t,e){return new Ny(t,(function(t){return r.referenceDelegate.vs(t)}))}(this.Jt),this.k=new iy(n),this.Ye=new Ay(this.k)}return x(t,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(t){var e=this.Ps[t.toKey()];return e||(e=new Ly(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(t,e,n){var r=this;ud("MemoryPersistence","Starting transaction:",t);var i=new Fy(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(t){return r.referenceDelegate.Ss(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))}},{key:"Ds",value:function(t,e){return Jg.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(t,e)}})))}}]),t}(),Fy=function(t){p(n,t);var e=_(n);function n(t){var r;return b(this,n),(r=e.call(this)).currentSequenceNumber=t,r}return x(n)}($g),zy=function(){function t(e){b(this,t),this.persistence=e,this.Cs=new Ry,this.Ns=null}return x(t,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw fd()}},{key:"addReference",value:function(t,e,n){return this.Cs.addReference(n,e),this.xs.delete(n.toString()),Jg.resolve()}},{key:"removeReference",value:function(t,e,n){return this.Cs.removeReference(n,e),this.xs.add(n.toString()),Jg.resolve()}},{key:"markPotentiallyOrphaned",value:function(t,e){return this.xs.add(e.toString()),Jg.resolve()}},{key:"removeTarget",value:function(t,e){var n=this;this.Cs.us(e.targetId).forEach((function(t){return n.xs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.xs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jg.forEach(this.xs,(function(r){var i=Qd.fromPath(r);return e.$s(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Ns=null,n.apply(t)}))}},{key:"updateLimboDocument",value:function(t,e){var n=this;return this.$s(t,e).next((function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())}))}},{key:"vs",value:function(t){return 0}},{key:"$s",value:function(t,e){var n=this;return Jg.or([function(){return Jg.resolve(n.Cs.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Ds(t,e)}])}}],[{key:"ks",value:function(e){return new t(e)}}]),t}();var Vy=function(){function t(){b(this,t),this.activeTargetIds=Xv()}return x(t,[{key:"Fs",value:function(t){this.activeTargetIds=this.activeTargetIds.add(t)}},{key:"Ls",value:function(t){this.activeTargetIds=this.activeTargetIds.delete(t)}},{key:"Ms",value:function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}]),t}(),Uy=function(){function t(){b(this,t),this.pi=new Vy,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return x(t,[{key:"addPendingMutation",value:function(t){}},{key:"updateMutationState",value:function(t,e,n){}},{key:"addLocalQueryTarget",value:function(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}},{key:"updateQueryState",value:function(t,e,n){this.Ti[t]=e}},{key:"removeLocalQueryTarget",value:function(t){this.pi.Ls(t)}},{key:"isLocalQueryTarget",value:function(t){return this.pi.activeTargetIds.has(t)}},{key:"clearQueryState",value:function(t){delete this.Ti[t]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(t){return this.pi.activeTargetIds.has(t)}},{key:"start",value:function(){return this.pi=new Vy,Promise.resolve()}},{key:"handleUserChange",value:function(t,e,n){}},{key:"setOnlineState",value:function(t){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(t){}},{key:"notifyBundleLoaded",value:function(){}}]),t}(),By=function(){function t(){b(this,t)}return x(t,[{key:"Ei",value:function(t){}},{key:"shutdown",value:function(){}}]),t}(),Wy=function(){function t(){var e=this;b(this,t),this.Ii=function(){return e.Ai()},this.Ri=function(){return e.bi()},this.Pi=[],this.vi()}return x(t,[{key:"Ei",value:function(t){this.Pi.push(t)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){ud("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var t,e=tu(this.Pi);try{for(e.s();!(t=e.n()).done;){(0,t.value)(0)}}catch(n){e.e(n)}finally{e.f()}}},{key:"bi",value:function(){ud("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var t,e=tu(this.Pi);try{for(e.s();!(t=e.n()).done;){(0,t.value)(1)}}catch(n){e.e(n)}finally{e.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),t}(),Gy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qy=function(){function t(e){b(this,t),this.Vi=e.Vi,this.Si=e.Si}return x(t,[{key:"Di",value:function(t){this.Ci=t}},{key:"Ni",value:function(t){this.ki=t}},{key:"onMessage",value:function(t){this.xi=t}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(t){this.Vi(t)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(t){this.ki(t)}},{key:"Mi",value:function(t){this.xi(t)}}]),t}(),Hy=function(t){p(n,t);var e=_(n);function n(t){var r;return b(this,n),(r=e.call(this,t)).forceLongPolling=t.forceLongPolling,r.autoDetectLongPolling=t.autoDetectLongPolling,r.useFetchStreams=t.useFetchStreams,r}return x(n,[{key:"Ki",value:function(t,e,n,r){return new Promise((function(i,o){var a=new nd;a.listenOnce(Qf.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Zf.NO_ERROR:var e=a.getResponseJson();ud("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Zf.TIMEOUT:ud("Connection",'RPC "'+t+'" timed out'),o(new gd(vd.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:var n=a.getStatus();if(ud("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(vd).indexOf(e)>=0?e:vd.UNKNOWN}(r.status);o(new gd(s,r.message))}else o(new gd(vd.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new gd(vd.UNAVAILABLE,"Connection failed."));break;default:fd()}}finally{ud("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))}},{key:"Qi",value:function(t,e,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=Xf(),o=Yf(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new td({})),this.qi(a.initMessageHeaders,e,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(iu())||"object"===typeof navigator&&"ReactNative"===navigator.product||iu().indexOf("Electron/")>=0||function(){var t=iu();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||iu().indexOf("MSAppHost/")>=0||function(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ud("Connection","Creating WebChannel: "+s,a);var u=i.createWebChannel(s,a),l=!1,c=!1,h=new qy({Vi:function(t){c?ud("Connection","Not sending because WebChannel is closed:",t):(l||(ud("Connection","Opening WebChannel transport."),u.open(),l=!0),ud("Connection","WebChannel sending:",t),u.send(t))},Si:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,ed.EventType.OPEN,(function(){c||ud("Connection","WebChannel transport opened.")})),f(u,ed.EventType.CLOSE,(function(){c||(c=!0,ud("Connection","WebChannel transport closed"),h.Oi())})),f(u,ed.EventType.ERROR,(function(t){c||(c=!0,cd("Connection","WebChannel transport errored:",t),h.Oi(new gd(vd.UNAVAILABLE,"The operation could not be completed")))})),f(u,ed.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];dd(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){ud("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Tv[t];if(void 0!==e)return Lv(e)}(o),s=i.message;void 0===a&&(a=vd.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,h.Oi(new gd(a,s)),u.close()}else ud("Connection","WebChannel received:",n),h.Mi(n)}})),f(o,$f.STAT_EVENT,(function(t){t.stat===Jf.PROXY?ud("Connection","Detected buffering proxy"):t.stat===Jf.NOPROXY&&ud("Connection","Detected no buffering proxy")})),setTimeout((function(){h.$i()}),0),h}}]),n}(function(){function t(e){b(this,t),this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Fi=n+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return x(t,[{key:"Bi",value:function(t,e,n,r,i){var o=this.Ui(t,e);ud("RestConnection","Sending: ",o,n);var a={};return this.qi(a,r,i),this.Ki(t,o,a,n).then((function(t){return ud("RestConnection","Received: ",t),t}),(function(e){throw cd("RestConnection","".concat(t," failed with error: "),e,"url: ",o,"request:",n),e}))}},{key:"ji",value:function(t,e,n,r,i){return this.Bi(t,e,n,r,i)}},{key:"qi",value:function(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+od,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((function(e,n){return t[n]=e})),n&&n.headers.forEach((function(e,n){return t[n]=e}))}},{key:"Ui",value:function(t,e){var n=Gy[t];return"".concat(this.Fi,"/v1/").concat(e,":").concat(n)}}]),t}());function Ky(){return"undefined"!=typeof document?document:null}function Xy(t){return new ag(t,!0)}var Yy=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;b(this,t),this.Me=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=o,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return x(t,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(t){var e=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&ud("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return e.Yi=Date.now(),t()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),t}(),Zy=function(){function t(e,n,r,i,o,a,s,u){b(this,t),this.Me=e,this.nr=r,this.sr=i,this.ir=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Yy(e,n)}return x(t,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var t=Zs($s().mark((function t(){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.hr(),!t.t0){t.next=4;break}return t.next=4,this.close(0);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var t=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return t.mr()})))}},{key:"gr",value:function(t){this.yr(),this.stream.send(t)}},{key:"mr",value:function(){var t=Zs($s().mark((function t(){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.lr()){t.next=2;break}return t.abrupt("return",this.close(0));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var t=Zs($s().mark((function t(e,n){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():n&&n.code===vd.RESOURCE_EXHAUSTED?(ld(n.toString()),ld("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===vd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,t.next=9,this.listener.Ni(n);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var t=this;this.state=1;var e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(e){var r=k(e,2),i=r[0],o=r[1];t.rr===n&&t.Ir(i,o)}),(function(n){e((function(){var e=new gd(vd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ar(e)}))}))}},{key:"Ir",value:function(t,e){var n=this,r=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(t){r((function(){return n.Ar(t)}))})),this.stream.onMessage((function(t){r((function(){return n.onMessage(t)}))}))}},{key:"dr",value:function(){var t=this;this.state=5,this.ur.Zi(Zs($s().mark((function e(){return $s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state=0,t.start();case 1:case"end":return e.stop()}}),e)}))))}},{key:"Ar",value:function(t){return ud("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}},{key:"Er",value:function(t){var e=this;return function(n){e.Me.enqueueAndForget((function(){return e.rr===t?n():(ud("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),t}(),Qy=function(t){p(n,t);var e=_(n);function n(t,r,i,o,a,s){var u;return b(this,n),(u=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,s)).k=a,u}return x(n,[{key:"Rr",value:function(t,e){return this.ir.Qi("Listen",t,e)}},{key:"onMessage",value:function(t){this.ur.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:fd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.C?(dd(void 0===e||"string"==typeof e),Vd.fromBase64String(e||"")):(dd(void 0===e||e instanceof Uint8Array),Vd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){var e=void 0===t.code?vd.UNKNOWN:Lv(t.code);return new gd(e,t.message||"")}(a);n=new Jv(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var l=pg(t,u.document.name),c=cg(u.document.updateTime),h=new fp({mapValue:{fields:u.document.fields}}),f=pp.newFoundDocument(l,c,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Qv(d,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var g=pg(t,v.document),y=v.readTime?cg(v.readTime):Rd.min(),m=pp.newNoDocument(g,y),_=v.removedTargetIds||[];n=new Qv([],_,m.key,m)}else if("documentRemove"in e){e.documentRemove;var b=e.documentRemove;b.document;var w=pg(t,b.document),x=b.removedTargetIds||[];n=new Qv([],x,w,null)}else{if(!("filter"in e))return fd();e.filter;var k=e.filter;k.targetId;var E=k.count||0,S=new Rv(E),C=k.targetId;n=new $v(C,S)}return n}(this.k,t),n=function(t){if(!("targetChange"in t))return Rd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Rd.min():e.readTime?cg(e.readTime):Rd.min()}(t);return this.listener.br(e,n)}},{key:"Pr",value:function(t){var e={};e.database=yg(this.k),e.addTarget=function(t,e){var n,r=e.target;return(n=_p(r)?{documents:wg(t,r)}:{query:xg(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ug(t,e.resumeToken):e.snapshotVersion.compareTo(Rd.min())>0&&(n.readTime=sg(t,e.snapshotVersion.toTimestamp())),n}(this.k,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fd()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,t);n&&(e.labels=n),this.gr(e)}},{key:"vr",value:function(t){var e={};e.database=yg(this.k),e.removeTarget=t,this.gr(e)}}]),n}(Zy),$y=function(t){p(n,t);var e=_(n);function n(t,r,i,o,a,s){var u;return b(this,n),(u=e.call(this,t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,s)).k=a,u.Vr=!1,u}return x(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,a(i(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(t,e){return this.ir.Qi("Write",t,e)}},{key:"onMessage",value:function(t){if(dd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();var e=function(t,e){return t&&t.length>0?(dd(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?cg(t.updateTime):cg(e);return n.isEqual(Rd.min())&&(n=cg(e)),new dv(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=cg(t.commitTime);return this.listener.Cr(n,e)}return dd(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var t={};t.database=yg(this.k),this.gr(t)}},{key:"Dr",value:function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return bg(e.k,t)}))};this.gr(n)}}]),n}(Zy),Jy=function(t){p(n,t);var e=_(n);function n(t,r,i,o){var a;return b(this,n),(a=e.call(this)).authCredentials=t,a.appCheckCredentials=r,a.ir=i,a.k=o,a.$r=!1,a}return x(n,[{key:"Or",value:function(){if(this.$r)throw new gd(vd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(t,e,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=k(i,2),a=o[0],s=o[1];return r.ir.Bi(t,e,n,a,s)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===vd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),t):new gd(vd.UNKNOWN,t.toString())}))}},{key:"ji",value:function(t,e,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=k(i,2),a=o[0],s=o[1];return r.ir.ji(t,e,n,a,s)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===vd.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),t):new gd(vd.UNKNOWN,t.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return x((function t(){b(this,t)}))}()),tm=function(){function t(e,n){b(this,t),this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return x(t,[{key:"Br",value:function(){var t=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Fr=null,t.qr("Backend didn't respond within 10 seconds."),t.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.Ur("Offline")))}},{key:"set",value:function(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}},{key:"Ur",value:function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}},{key:"qr",value:function(t){var e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(ld(e),this.Lr=!1):ud("OnlineStateTracker",e)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),t}(),em=x((function t(e,n,r,i,o){var a=this;b(this,t),this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei((function(t){r.enqueueAndForget(Zs($s().mark((function t(){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=fm(a),!t.t0){t.next=5;break}return ud("RemoteStore","Restarting streams for network reachability change."),t.next=5,function(){var t=Zs($s().mark((function t(e){var n;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=pd(e)).Gr.add(4),t.next=4,im(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),t.next=8,nm(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(a);case 5:case"end":return t.stop()}}),t)}))))})),this.Jr=new tm(r,i)}));function nm(t){return rm.apply(this,arguments)}function rm(){return rm=Zs($s().mark((function t(e){var n,r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!fm(e)){t.next=18;break}n=tu(e.zr),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=10;break}return i=r.value,t.next=8,i(!0);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])}))),rm.apply(this,arguments)}function im(t){return om.apply(this,arguments)}function om(){return om=Zs($s().mark((function t(e){var n,r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=tu(e.zr),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=9;break}return i=r.value,t.next=7,i(!1);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))),om.apply(this,arguments)}function am(t,e){var n=pd(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),hm(n)?cm(n):Um(n).lr()&&um(n,e))}function sm(t,e){var n=pd(t),r=Um(n);n.Wr.delete(e),r.lr()&&lm(n,e),0===n.Wr.size&&(r.lr()?r._r():fm(n)&&n.Jr.set("Unknown"))}function um(t,e){t.Yr.X(e.targetId),Um(t).Pr(e)}function lm(t,e){t.Yr.X(e),Um(t).vr(e)}function cm(t){t.Yr=new eg({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},Et:function(e){return t.Wr.get(e)||null}}),Um(t).start(),t.Jr.Br()}function hm(t){return fm(t)&&!Um(t).hr()&&t.Wr.size>0}function fm(t){return 0===pd(t).Gr.size}function dm(t){t.Yr=void 0}function pm(t){return vm.apply(this,arguments)}function vm(){return vm=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.Wr.forEach((function(t,n){um(e,t)}));case 1:case"end":return t.stop()}}),t)}))),vm.apply(this,arguments)}function gm(t,e){return ym.apply(this,arguments)}function ym(){return ym=Zs($s().mark((function t(e,n){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:dm(e),hm(e)?(e.Jr.Kr(n),cm(e)):e.Jr.set("Unknown");case 1:case"end":return t.stop()}}),t)}))),ym.apply(this,arguments)}function mm(t,e,n){return _m.apply(this,arguments)}function _m(){return _m=Zs($s().mark((function t(e,n,r){var i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.Jr.set("Online"),!(n instanceof Jv&&2===n.state&&n.cause)){t.next=13;break}return t.prev=1,t.next=4,function(){var t=Zs($s().mark((function t(e,n){var r,i,o,a;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.cause,i=tu(n.targetIds),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=14;break}if(a=o.value,t.t0=e.Wr.has(a),!t.t0){t.next=12;break}return t.next=10,e.remoteSyncer.rejectListen(a,r);case 10:e.Wr.delete(a),e.Yr.removeTarget(a);case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(2),i.e(t.t1);case 19:return t.prev=19,i.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})));return function(e,n){return t.apply(this,arguments)}}()(e,n);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),ud("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),t.t0),t.next=11,bm(e,t.t0);case 11:case 22:t.next=29;break;case 13:if(n instanceof Qv?e.Yr.ot(n):n instanceof $v?e.Yr.dt(n):e.Yr.ut(n),r.isEqual(Rd.min())){t.next=29;break}return t.prev=14,t.next=17,xy(e.localStore);case 17:if(i=t.sent,t.t1=r.compareTo(i)>=0,!t.t1){t.next=22;break}return t.next=22,function(t,e){var n=t.Yr.gt(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Wr.get(r);i&&t.Wr.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.Wr.get(e);if(n){t.Wr.set(e,n.withResumeToken(Vd.EMPTY_BYTE_STRING,n.snapshotVersion)),lm(t,e);var r=new ry(n.target,e,1,n.sequenceNumber);um(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(e,r);case 24:return t.prev=24,t.t2=t.catch(14),ud("RemoteStore","Failed to raise snapshot:",t.t2),t.next=29,bm(e,t.t2);case 29:case"end":return t.stop()}}),t,null,[[1,6],[14,24]])}))),_m.apply(this,arguments)}function bm(t,e,n){return wm.apply(this,arguments)}function wm(){return wm=Zs($s().mark((function t(e,n,r){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ty(n)){t.next=2;break}throw n;case 2:return e.Gr.add(1),t.next=5,im(e);case 5:e.Jr.set("Offline"),r||(r=function(){return xy(e.localStore)}),e.asyncQueue.enqueueRetryable(Zs($s().mark((function t(){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ud("RemoteStore","Retrying IndexedDB access"),t.next=3,r();case 3:return e.Gr.delete(1),t.next=6,nm(e);case 6:case"end":return t.stop()}}),t)}))));case 8:case"end":return t.stop()}}),t)}))),wm.apply(this,arguments)}function xm(t,e){return e().catch((function(n){return bm(t,n,e)}))}function km(t){return Em.apply(this,arguments)}function Em(){return Em=Zs($s().mark((function t(e){var n,r,i,o;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=pd(e),r=Bm(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Sm(n)){t.next=19;break}return t.prev=3,t.next=6,Sy(n.localStore,i);case 6:if(null!==(o=t.sent)){t.next=10;break}return 0===n.Qr.length&&r._r(),t.abrupt("break",19);case 10:i=o.batchId,Cm(n,o),t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(3),t.next=17,bm(n,t.t0);case 17:t.next=2;break;case 19:Tm(n)&&Im(n);case 20:case"end":return t.stop()}}),t,null,[[3,13]])}))),Em.apply(this,arguments)}function Sm(t){return fm(t)&&t.Qr.length<10}function Cm(t,e){t.Qr.push(e);var n=Bm(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function Tm(t){return fm(t)&&!Bm(t).hr()&&t.Qr.length>0}function Im(t){Bm(t).start()}function Om(t){return Am.apply(this,arguments)}function Am(){return Am=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Bm(e).kr();case 1:case"end":return t.stop()}}),t)}))),Am.apply(this,arguments)}function Rm(t){return Pm.apply(this,arguments)}function Pm(){return Pm=Zs($s().mark((function t(e){var n,r,i,o;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Bm(e),r=tu(e.Qr);try{for(r.s();!(i=r.n()).done;)o=i.value,n.Dr(o.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return t.stop()}}),t)}))),Pm.apply(this,arguments)}function Lm(t,e,n){return Nm.apply(this,arguments)}function Nm(){return Nm=Zs($s().mark((function t(e,n,r){var i,o;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.Qr.shift(),o=ny.from(i,n,r),t.next=3,xm(e,(function(){return e.remoteSyncer.applySuccessfulWrite(o)}));case 3:return t.next=5,km(e);case 5:case"end":return t.stop()}}),t)}))),Nm.apply(this,arguments)}function Dm(t,e){return Mm.apply(this,arguments)}function Mm(){return Mm=Zs($s().mark((function t(e,n){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n&&Bm(e).Sr,!t.t0){t.next=4;break}return t.next=4,function(){var t=Zs($s().mark((function t(e,n){var r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Pv(i=n.code)||i===vd.ABORTED){t.next=7;break}return r=e.Qr.shift(),Bm(e).wr(),t.next=5,xm(e,(function(){return e.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return t.next=7,km(e);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()(e,n);case 4:Tm(e)&&Im(e);case 5:case"end":return t.stop()}}),t)}))),Mm.apply(this,arguments)}function jm(t,e){return Fm.apply(this,arguments)}function Fm(){return Fm=Zs($s().mark((function t(e,n){var r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=pd(e)).asyncQueue.verifyOperationInProgress(),ud("RemoteStore","RemoteStore received new credentials"),i=fm(r),r.Gr.add(3),t.next=6,im(r);case 6:return i&&r.Jr.set("Unknown"),t.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),t.next=12,nm(r);case 12:case"end":return t.stop()}}),t)}))),Fm.apply(this,arguments)}function zm(t,e){return Vm.apply(this,arguments)}function Vm(){return Vm=Zs($s().mark((function t(e,n){var r;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=pd(e),!n){t.next=7;break}return r.Gr.delete(2),t.next=5,nm(r);case 5:t.next=13;break;case 7:if(t.t0=n,t.t0){t.next=13;break}return r.Gr.add(2),t.next=12,im(r);case 12:r.Jr.set("Unknown");case 13:case"end":return t.stop()}}),t)}))),Vm.apply(this,arguments)}function Um(t){return t.Xr||(t.Xr=function(t,e,n){var r=pd(t);return r.Or(),new Qy(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:pm.bind(null,t),Ni:gm.bind(null,t),br:mm.bind(null,t)}),t.zr.push(function(){var e=Zs($s().mark((function e(n){return $s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}t.Xr.wr(),hm(t)?cm(t):t.Jr.set("Unknown"),e.next=7;break;case 4:return e.next=6,t.Xr.stop();case 6:dm(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.Xr}function Bm(t){return t.Zr||(t.Zr=function(t,e,n){var r=pd(t);return r.Or(),new $y(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(t.datastore,t.asyncQueue,{Di:Om.bind(null,t),Ni:Dm.bind(null,t),Nr:Rm.bind(null,t),Cr:Lm.bind(null,t)}),t.zr.push(function(){var e=Zs($s().mark((function e(n){return $s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return t.Zr.wr(),e.next=4,km(t);case 4:e.next=9;break;case 6:return e.next=8,t.Zr.stop();case 8:t.Qr.length>0&&(ud("RemoteStore","Stopping write stream with ".concat(t.Qr.length," pending writes")),t.Qr=[]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.Zr}var Wm=function(){function t(e,n,r,i,o){b(this,t),this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return x(t,[{key:"start",value:function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gd(vd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}},{key:"handleDelayElapsed",value:function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a}}]),t}();function Gm(t,e){if(ld("AsyncQueue","".concat(e,": ").concat(t)),ty(t))return new gd(vd.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}var qm=function(){function t(e){b(this,t),this.comparator=e?function(t,n){return e(t,n)||Qd.comparator(t.key,n.key)}:function(t,e){return Qd.comparator(t.key,e.key)},this.keyedMap=Bv(),this.sortedSet=new Nv(this.comparator)}return x(t,[{key:"has",value:function(t){return null!=this.keyedMap.get(t)}},{key:"get",value:function(t){return this.keyedMap.get(t)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))}},{key:"add",value:function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}},{key:"delete",value:function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}},{key:"isEqual",value:function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}},{key:"copy",value:function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}],[{key:"emptySet",value:function(e){return new t(e.comparator)}}]),t}(),Hm=function(){function t(){b(this,t),this.eo=new Nv(Qd.comparator)}return x(t,[{key:"track",value:function(t){var e=t.doc.key,n=this.eo.get(e);n?0!==t.type&&3===n.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==n.type?this.eo=this.eo.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.eo=this.eo.remove(e):1===t.type&&2===n.type?this.eo=this.eo.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):fd():this.eo=this.eo.insert(e,t)}},{key:"no",value:function(){var t=[];return this.eo.inorderTraversal((function(e,n){t.push(n)})),t}}]),t}(),Km=function(){function t(e,n,r,i,o,a,s,u){b(this,t),this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u}return x(t,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,qm.emptySet(n),o,r,i,!0,!1)}}]),t}(),Xm=x((function t(){b(this,t),this.so=void 0,this.listeners=[]})),Ym=x((function t(){b(this,t),this.queries=new fy((function(t){return Kp(t)}),Hp),this.onlineState="Unknown",this.io=new Set}));function Zm(t,e){return Qm.apply(this,arguments)}function Qm(){return Qm=Zs($s().mark((function t(e,n){var r,i,o,a,s;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=pd(e),i=n.query,o=!1,(a=r.queries.get(i))||(o=!0,a=new Xm),!o){t.next=13;break}return t.prev=3,t.next=6,r.onListen(i);case 6:a.so=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(3),s=Gm(t.t0,"Initialization of query '".concat(Xp(n.query),"' failed")),t.abrupt("return",void n.onError(s));case 13:r.queries.set(i,a),a.listeners.push(n),n.ro(r.onlineState),a.so&&n.oo(a.so)&&n_(r);case 14:case"end":return t.stop()}}),t,null,[[3,9]])}))),Qm.apply(this,arguments)}function $m(t,e){return Jm.apply(this,arguments)}function Jm(){return Jm=Zs($s().mark((function t(e,n){var r,i,o,a,s;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=pd(e),i=n.query,o=!1,(a=r.queries.get(i))&&(s=a.listeners.indexOf(n))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),!o){t.next=6;break}return t.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return t.stop()}}),t)}))),Jm.apply(this,arguments)}function t_(t,e){var n,r=pd(t),i=!1,o=tu(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=r.queries.get(s);if(u){var l,c=tu(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.oo(a)&&(i=!0)}}catch(h){c.e(h)}finally{c.f()}u.so=a}}}catch(h){o.e(h)}finally{o.f()}i&&n_(r)}function e_(t,e,n){var r=pd(t),i=r.queries.get(e);if(i){var o,a=tu(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(e)}function n_(t){t.io.forEach((function(t){t.next()}))}var r_=function(){function t(e,n,r){b(this,t),this.query=e,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return x(t,[{key:"oo",value:function(t){if(!this.options.includeMetadataChanges){var e,n=[],r=tu(t.docChanges);try{for(r.s();!(e=r.n()).done;){var i=e.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}t=new Km(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.ao?this.ho(t)&&(this.co.next(t),o=!0):this.lo(t,this.onlineState)&&(this.fo(t),o=!0),this.uo=t,o}},{key:"onError",value:function(t){this.co.error(t)}},{key:"ro",value:function(t){this.onlineState=t;var e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}},{key:"lo",value:function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return(!this.options.wo||!n)&&(!t.docs.isEmpty()||"Offline"===e)}},{key:"ho",value:function(t){if(t.docChanges.length>0)return!0;var e=this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(t){t=Km.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}]),t}();var i_=x((function t(e){b(this,t),this.key=e})),o_=x((function t(e){b(this,t),this.key=e})),a_=function(){function t(e,n){b(this,t),this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=Hv(),this.mutatedKeys=Hv(),this.Ao=Zp(e),this.Ro=new qm(this.Ao)}return x(t,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(t,e){var n=this,r=e?e.vo:new Hm,i=e?e.Ro:this.Ro,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Fp(this.query)&&i.size===this.query.limit?i.last():null,l=zp(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var c=i.get(t),h=Yp(n.query,e)?e:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vo(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ao(h,u)>0||l&&n.Ao(h,l)<0)&&(s=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Fp(this.query)||zp(this.query))for(;a.size>this.query.limit;){var c=Fp(this.query)?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ro:a,vo:r,Bn:s,mutatedKeys:o}}},{key:"Vo",value:function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}},{key:"applyChanges",value:function(t,e,n){var r=this,i=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;var o=t.vo.no();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fd()}};return n(t)-n(e)}(t.type,e.type)||r.Ao(t.doc,e.doc)})),this.So(n);var a=e?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==o.length||u?{snapshot:new Km(this.query,t.Ro,i,o,t.mutatedKeys,0===s,u,!1),Co:a}:{Co:a}}},{key:"ro",value:function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Hm,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}},{key:"So",value:function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.To=e.To.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.To=e.To.delete(t)})),this.current=t.current)}},{key:"Do",value:function(){var t=this;if(!this.current)return[];var e=this.Io;this.Io=Hv(),this.Ro.forEach((function(e){t.No(e.key)&&(t.Io=t.Io.add(e.key))}));var n=[];return e.forEach((function(e){t.Io.has(e)||n.push(new o_(e))})),this.Io.forEach((function(t){e.has(t)||n.push(new i_(t))})),n}},{key:"ko",value:function(t){this.To=t.zn,this.Io=Hv();var e=this.Po(t.documents);return this.applyChanges(e,!0)}},{key:"xo",value:function(){return Km.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),t}(),s_=x((function t(e,n,r){b(this,t),this.query=e,this.targetId=n,this.view=r})),u_=x((function t(e){b(this,t),this.key=e,this.$o=!1})),l_=function(){function t(e,n,r,i,o,a){b(this,t),this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Oo={},this.Mo=new fy((function(t){return Kp(t)}),Hp),this.Fo=new Map,this.Lo=new Set,this.Bo=new Nv(Qd.comparator),this.Uo=new Map,this.qo=new Ry,this.Ko={},this.jo=new Map,this.Qo=ly.re(),this.onlineState="Unknown",this.Wo=void 0}return x(t,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),t}();function c_(t,e){return h_.apply(this,arguments)}function h_(){return h_=Zs($s().mark((function t(e,n){var r,i,o,a,s,u;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=z_(e),!(a=r.Mo.get(n))){t.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),o=a.view.xo(),t.next=15;break;case 6:return t.next=8,Cy(r.localStore,Gp(n));case 8:return s=t.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,t.next=13,f_(r,n,i,"current"===u);case 13:o=t.sent,r.isPrimaryClient&&am(r.remoteStore,s);case 15:return t.abrupt("return",o);case 16:case"end":return t.stop()}}),t)}))),h_.apply(this,arguments)}function f_(t,e,n,r){return d_.apply(this,arguments)}function d_(){return d_=Zs($s().mark((function t(e,n,r,i){var o,a,s,u,l,c;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.Go=function(t,n,r){return function(){var t=Zs($s().mark((function t(e,n,r,i){var o,a,s;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.view.Po(r),t.t0=o.Bn,!t.t0){t.next=6;break}return t.next=5,Oy(e.localStore,n.query,!1).then((function(t){var e=t.documents;return n.view.Po(e,o)}));case 5:o=t.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(o,e.isPrimaryClient,a),t.abrupt("return",(R_(e,n.targetId,s.Co),s.snapshot));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()(e,t,n,r)},t.next=3,Oy(e.localStore,n,!0);case 3:return o=t.sent,a=new a_(n,o.zn),s=a.Po(o.documents),u=Zv.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==e.onlineState),l=a.applyChanges(s,e.isPrimaryClient,u),R_(e,r,l.Co),c=new s_(n,r,a),t.abrupt("return",(e.Mo.set(n,c),e.Fo.has(r)?e.Fo.get(r).push(n):e.Fo.set(r,[n]),l.snapshot));case 11:case"end":return t.stop()}}),t)}))),d_.apply(this,arguments)}function p_(t,e){return v_.apply(this,arguments)}function v_(){return v_=Zs($s().mark((function t(e,n){var r,i,o;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=pd(e),i=r.Mo.get(n),!((o=r.Fo.get(i.targetId)).length>1)){t.next=3;break}return t.abrupt("return",(r.Fo.set(i.targetId,o.filter((function(t){return!Hp(t,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){t.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),t.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),t.t0){t.next=9;break}return t.next=9,Ty(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sm(r.remoteStore,i.targetId),O_(r,i.targetId)})).catch(cy);case 9:t.next=14;break;case 11:return O_(r,i.targetId),t.next=14,Ty(r.localStore,i.targetId,!0);case 14:case"end":return t.stop()}}),t)}))),v_.apply(this,arguments)}function g_(t,e,n){return y_.apply(this,arguments)}function y_(){return y_=Zs($s().mark((function t(e,n,r){var i,o,a;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=V_(e),t.prev=1,t.next=4,function(t,e){var n,r=pd(t),i=Ad.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Hv());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Wn.vn(t,o).next((function(o){n=o;var a,s=[],u=tu(e);try{for(u.s();!(a=u.n()).done;){var l=a.value,c=_v(l,n.get(l.key));null!=c&&s.push(new kv(l.key,c,dp(c.value.mapValue),pv.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.An.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(i.localStore,n);case 4:return o=t.sent,i.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.Ko[t.currentUser.toKey()];r||(r=new Nv(Id)),r=r.insert(e,n),t.Ko[t.currentUser.toKey()]=r}(i,o.batchId,r),t.next=9,N_(i,o.changes);case 9:return t.next=11,km(i.remoteStore);case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),a=Gm(t.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return t.stop()}}),t,null,[[1,13]])}))),y_.apply(this,arguments)}function m_(t,e){return __.apply(this,arguments)}function __(){return __=Zs($s().mark((function t(e,n){var r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=pd(e),t.prev=1,t.next=4,ky(r.localStore,n);case 4:return i=t.sent,n.targetChanges.forEach((function(t,e){var n=r.Uo.get(e);n&&(dd(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.$o=!0:t.modifiedDocuments.size>0?dd(n.$o):t.removedDocuments.size>0&&(dd(n.$o),n.$o=!1))})),t.next=8,N_(r,i,n);case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(1),t.next=14,cy(t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),__.apply(this,arguments)}function b_(t,e,n){var r=pd(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(t,n){var r=n.view.ro(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=pd(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){var i,o=tu(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.ro(e)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&n_(n)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function w_(t,e,n){return x_.apply(this,arguments)}function x_(){return x_=Zs($s().mark((function t(e,n,r){var i,o,a,s,u,l;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=pd(e)).sharedClientState.updateQueryState(n,"rejected",r),o=i.Uo.get(n),!(a=o&&o.key)){t.next=14;break}return s=(s=new Nv(Qd.comparator)).insert(a,pp.newNoDocument(a,Rd.min())),u=Hv().add(a),l=new Yv(Rd.min(),new Map,new jv(Id),s,u),t.next=9,m_(i,l);case 9:i.Bo=i.Bo.remove(a),i.Uo.delete(n),L_(i),t.next=16;break;case 14:return t.next=16,Ty(i.localStore,n,!1).then((function(){return O_(i,n,r)})).catch(cy);case 16:case"end":return t.stop()}}),t)}))),x_.apply(this,arguments)}function k_(t,e){return E_.apply(this,arguments)}function E_(){return E_=Zs($s().mark((function t(e,n){var r,i,o;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=pd(e),i=n.batch.batchId,t.prev=1,t.next=4,wy(r.localStore,n);case 4:return o=t.sent,I_(r,i,null),T_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),t.next=10,N_(r,o);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),t.next=16,cy(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),E_.apply(this,arguments)}function S_(t,e,n){return C_.apply(this,arguments)}function C_(){return C_=Zs($s().mark((function t(e,n,r){var i,o;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=pd(e),t.prev=1,t.next=4,function(t,e){var n=pd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.An.lookupMutationBatch(t,e).next((function(e){return dd(null!==e),r=e.keys(),n.An.removeMutationBatch(t,e)})).next((function(){return n.An.performConsistencyCheck(t)})).next((function(){return n.Wn.vn(t,r)}))}))}(i.localStore,n);case 4:return o=t.sent,I_(i,n,r),T_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),t.next=10,N_(i,o);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),t.next=16,cy(t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),C_.apply(this,arguments)}function T_(t,e){(t.jo.get(e)||[]).forEach((function(t){t.resolve()})),t.jo.delete(e)}function I_(t,e,n){var r=pd(t),i=r.Ko[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function O_(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);var r,i=tu(t.Fo.get(e));try{for(i.s();!(r=i.n()).done;){var o=r.value;t.Mo.delete(o),n&&t.Oo.zo(o,n)}}catch(a){i.e(a)}finally{i.f()}t.Fo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach((function(e){t.qo.containsKey(e)||A_(t,e)}))}function A_(t,e){t.Lo.delete(e.path.canonicalString());var n=t.Bo.get(e);null!==n&&(sm(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),L_(t))}function R_(t,e,n){var r,i=tu(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof i_?(t.qo.addReference(o.key,e),P_(t,o)):o instanceof o_?(ud("SyncEngine","Document no longer in limbo: "+o.key),t.qo.removeReference(o.key,e),t.qo.containsKey(o.key)||A_(t,o.key)):fd()}}catch(a){i.e(a)}finally{i.f()}}function P_(t,e){var n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(ud("SyncEngine","New document in limbo: "+n),t.Lo.add(r),L_(t))}function L_(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){var e=t.Lo.values().next().value;t.Lo.delete(e);var n=new Qd(Md.fromString(e)),r=t.Qo.next();t.Uo.set(r,new u_(n)),t.Bo=t.Bo.insert(n,r),am(t.remoteStore,new ry(Gp(jp(n.path)),r,2,Sd.I))}}function N_(t,e,n){return D_.apply(this,arguments)}function D_(){return D_=Zs($s().mark((function t(e,n,r){var i,o,a,s;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=pd(e),o=[],a=[],s=[],t.t0=i.Mo.isEmpty(),t.t0){t.next=9;break}return i.Mo.forEach((function(t,e){s.push(i.Go(e,n,r).then((function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(e.targetId,t.fromCache?"not-current":"current"),o.push(t);var n=vy.$n(e.targetId,t);a.push(n)}})))})),t.next=6,Promise.all(s);case 6:return i.Oo.br(o),t.next=9,function(){var t=Zs($s().mark((function t(e,n){var r,i,o,a,s,u,l,c;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=pd(e),t.prev=1,t.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Jg.forEach(n,(function(e){return Jg.forEach(e.kn,(function(n){return r.persistence.referenceDelegate.addReference(t,e.targetId,n)})).next((function(){return Jg.forEach(e.xn,(function(n){return r.persistence.referenceDelegate.removeReference(t,e.targetId,n)}))}))}))}));case 4:t.next=11;break;case 6:if(t.prev=6,t.t0=t.catch(1),ty(t.t0)){t.next=10;break}throw t.t0;case 10:ud("LocalStore","Failed to update sequence numbers: "+t.t0);case 11:i=tu(n);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.targetId,a.fromCache||(u=r.qn.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.qn=r.qn.insert(s,c))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return t.stop()}}),t)}))),D_.apply(this,arguments)}function M_(t,e){return j_.apply(this,arguments)}function j_(){return j_=Zs($s().mark((function t(e,n){var r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=pd(e)).currentUser.isEqual(n)){t.next=11;break}return ud("SyncEngine","User change. New user:",n.toKey()),t.next=5,_y(r.localStore,n);case 5:return i=t.sent,r.currentUser=n,function(t,e){t.jo.forEach((function(t){t.forEach((function(t){t.reject(new gd(vd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),t.next=11,N_(r,i.Gn);case 11:case"end":return t.stop()}}),t)}))),j_.apply(this,arguments)}function F_(t,e){var n=pd(t),r=n.Uo.get(e);if(r&&r.$o)return Hv().add(r.key);var i=Hv(),o=n.Fo.get(e);if(!o)return i;var a,s=tu(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,l=n.Mo.get(u);i=i.unionWith(l.view.bo)}}catch(c){s.e(c)}finally{s.f()}return i}function z_(t){var e=pd(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w_.bind(null,e),e.Oo.br=t_.bind(null,e.eventManager),e.Oo.zo=e_.bind(null,e.eventManager),e}function V_(t){var e=pd(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S_.bind(null,e),e}var U_=function(){function t(){b(this,t),this.synchronizeTabs=!1}return x(t,[{key:"initialize",value:function(){var t=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.k=Xy(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),t.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"Xo",value:function(t){return null}},{key:"Zo",value:function(t){return my(this.persistence,new gy,t.initialUser,this.k)}},{key:"Yo",value:function(t){return new jy(zy.ks,this.k)}},{key:"Jo",value:function(t){return new Uy}},{key:"terminate",value:function(){var t=Zs($s().mark((function t(){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),t.next=3,this.sharedClientState.shutdown();case 3:return t.next=5,this.persistence.shutdown();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),B_=function(){function t(){b(this,t)}return x(t,[{key:"initialize",value:function(){var t=Zs($s().mark((function t(e,n){var r=this;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.localStore,t.t0){t.next=12;break}return this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return b_(r.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=M_.bind(null,this.syncEngine),t.next=12,zm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"createEventManager",value:function(t){return new Ym}},{key:"createDatastore",value:function(t){var e,n=Xy(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Hy(e));return function(t,e,n,r){return new Jy(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return b_(a.syncEngine,t,0)},o=Wy.Pt()?new Wy:new By,new em(e,n,r,i,o)}},{key:"createSyncEngine",value:function(t,e){return function(t,e,n,r,i,o,a){var s=new l_(t,e,n,r,i,o);return a&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}},{key:"terminate",value:function(){return function(){var t=Zs($s().mark((function t(e){var n;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=pd(e),ud("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),t.next=5,im(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(this.remoteStore)}}]),t}();var W_=function(){function t(e){b(this,t),this.observer=e,this.muted=!1}return x(t,[{key:"next",value:function(t){this.observer.next&&this.ec(this.observer.next,t)}},{key:"error",value:function(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)}}]),t}(),G_=function(){function t(e,n,r,i){var o=this;b(this,t),this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=id.UNAUTHENTICATED,this.clientId=Td.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var t=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ud("FirestoreClient","Received user=",e.uid),t.next=3,o.authCredentialListener(e);case 3:o.user=e;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(t){return ud("FirestoreClient","Received new app check token=",t),o.appCheckCredentialListener(t,o.user)}))}return x(t,[{key:"getConfiguration",value:function(){var t=Zs($s().mark((function t(){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(t){this.authCredentialListener=t}},{key:"setAppCheckTokenChangeListener",value:function(t){this.appCheckCredentialListener=t}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new gd(vd.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new yd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Zs($s().mark((function n(){var r;return $s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=t.onlineComponents,!n.t0){n.next=5;break}return n.next=5,t.onlineComponents.terminate();case 5:if(n.t1=t.offlineComponents,!n.t1){n.next=9;break}return n.next=9,t.offlineComponents.terminate();case 9:t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Gm(n.t2,"Failed to shutdown persistence"),e.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),e.promise}}]),t}();function q_(t,e){return H_.apply(this,arguments)}function H_(){return H_=Zs($s().mark((function t(e,n){var r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),ud("FirestoreClient","Initializing OfflineComponentProvider"),t.next=3,e.getConfiguration();case 3:return r=t.sent,t.next=6,n.initialize(r);case 6:i=r.initialUser,e.setCredentialChangeListener(function(){var t=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=i.isEqual(e),t.t0){t.next=5;break}return t.next=4,_y(n.localStore,e);case 4:i=e;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=n;case 8:case"end":return t.stop()}}),t)}))),H_.apply(this,arguments)}function K_(t,e){return X_.apply(this,arguments)}function X_(){return X_=Zs($s().mark((function t(e,n){var r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.asyncQueue.verifyOperationInProgress(),t.next=3,Y_(e);case 3:return r=t.sent,ud("FirestoreClient","Initializing OnlineComponentProvider"),t.next=7,e.getConfiguration();case 7:return i=t.sent,t.next=10,n.initialize(r,i);case 10:e.setCredentialChangeListener((function(t){return jm(n.remoteStore,t)})),e.setAppCheckTokenChangeListener((function(t,e){return jm(n.remoteStore,e)})),e.onlineComponents=n;case 13:case"end":return t.stop()}}),t)}))),X_.apply(this,arguments)}function Y_(t){return Z_.apply(this,arguments)}function Z_(){return Z_=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.offlineComponents,t.t0){t.next=5;break}return ud("FirestoreClient","Using default OfflineComponentProvider"),t.next=5,q_(e,new U_);case 5:return t.abrupt("return",e.offlineComponents);case 6:case"end":return t.stop()}}),t)}))),Z_.apply(this,arguments)}function Q_(t){return $_.apply(this,arguments)}function $_(){return $_=Zs($s().mark((function t(e){return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.onlineComponents,t.t0){t.next=5;break}return ud("FirestoreClient","Using default OnlineComponentProvider"),t.next=5,K_(e,new B_);case 5:return t.abrupt("return",e.onlineComponents);case 6:case"end":return t.stop()}}),t)}))),$_.apply(this,arguments)}function J_(t){return Q_(t).then((function(t){return t.syncEngine}))}function tb(t){return eb.apply(this,arguments)}function eb(){return eb=Zs($s().mark((function t(e){var n,r;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q_(e);case 2:return n=t.sent,r=n.eventManager,t.abrupt("return",(r.onListen=c_.bind(null,n.syncEngine),r.onUnlisten=p_.bind(null,n.syncEngine),r));case 5:case"end":return t.stop()}}),t)}))),eb.apply(this,arguments)}function nb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yd;return t.asyncQueue.enqueueAndForget(Zs($s().mark((function i(){return $s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(t,e,n,r,i){var o=new W_({next:function(o){e.enqueueAndForget((function(){return $m(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new gd(vd.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new gd(vd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new r_(jp(n.path),o,{includeMetadataChanges:!0,wo:!0});return Zm(t,a)},i.next=3,tb(t);case 3:return i.t1=i.sent,i.t2=t.asyncQueue,i.t3=e,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function rb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yd;return t.asyncQueue.enqueueAndForget(Zs($s().mark((function i(){return $s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(t,e,n,r,i){var o=new W_({next:function(n){e.enqueueAndForget((function(){return $m(t,a)})),n.fromCache&&"server"===r.source?i.reject(new gd(vd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new r_(n,o,{includeMetadataChanges:!0,wo:!0});return Zm(t,a)},i.next=3,tb(t);case 3:return i.t1=i.sent,i.t2=t.asyncQueue,i.t3=e,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ib=x((function t(e,n,r,i,o,a,s,u){b(this,t),this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=u})),ob=function(){function t(e,n){b(this,t),this.projectId=e,this.database=n||"(default)"}return x(t,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}}]),t}(),ab=new Map;function sb(t,e,n){if(!n)throw new gd(vd.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function ub(t){if(!Qd.isDocumentKey(t))throw new gd(vd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function lb(t){if(Qd.isDocumentKey(t))throw new gd(vd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function cb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}return"function"==typeof t?"a function":fd()}function hb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new gd(vd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cb(t);throw new gd(vd.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}return t}function fb(t,e){if(e<=0)throw new gd(vd.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}var db=function(){function t(e){var n;if(b(this,t),void 0===e.host){if(void 0!==e.ssl)throw new gd(vd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gd(vd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new gd(vd.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return x(t,[{key:"isEqual",value:function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}]),t}(),pb=function(){function t(e,n,r){b(this,t),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new db({}),this._settingsFrozen=!1,e instanceof ob?this._databaseId=e:(this._app=e,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new gd(vd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ob(t.options.projectId)}(e))}return x(t,[{key:"app",get:function(){if(!this._app)throw new gd(vd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(t){if(this._settingsFrozen)throw new gd(vd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new db(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new _d;switch(t.type){case"gapi":var e=t.client;return dd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new xd(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new gd(vd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(t){var e=ab.get(t);e&&(ud("ComponentProvider","Removing Datastore"),ab.delete(t),e.terminate())}(this),Promise.resolve()}}]),t}();var vb=function(){function t(e,n,r){b(this,t),this.converter=n,this._key=r,this.type="document",this.firestore=e}return x(t,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yb(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._key)}}]),t}(),gb=function(){function t(e,n,r){b(this,t),this.converter=n,this._query=r,this.type="query",this.firestore=e}return x(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._query)}}]),t}(),yb=function(t){p(n,t);var e=_(n);function n(t,r,i){var o;return b(this,n),(o=e.call(this,t,r,jp(i)))._path=i,o.type="collection",o}return x(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var t=this._path.popLast();return t.isEmpty()?null:new vb(this.firestore,null,new Qd(t))}},{key:"withConverter",value:function(t){return new n(this.firestore,t,this._path)}}]),n}(gb);function mb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=hu(t),sb("collection","path",e),t instanceof pb){var o=Md.fromString.apply(Md,[e].concat(r));return lb(o),new yb(t,null,o)}if(!(t instanceof vb||t instanceof yb))throw new gd(vd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=t._path.child(Md.fromString.apply(Md,[e].concat(r)));return lb(a),new yb(t.firestore,null,a)}function _b(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=hu(t),1===arguments.length&&(e=Td.A()),sb("doc","path",e),t instanceof pb){var o=Md.fromString.apply(Md,[e].concat(r));return ub(o),new vb(t,null,new Qd(o))}if(!(t instanceof vb||t instanceof yb))throw new gd(vd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=t._path.child(Md.fromString.apply(Md,[e].concat(r)));return ub(a),new vb(t.firestore,t instanceof yb?t.converter:null,new Qd(a))}var bb=function(){function t(){var e=this;b(this,t),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Yy(this,"async_queue_retry"),this.bc=function(){var t=Ky();t&&ud("AsyncQueue","Visibility state changed to "+t.visibilityState),e.ur.er()};var n=Ky();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return x(t,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(t){this.enqueue(t)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(t){this.Pc(),this.vc(t)}},{key:"enterRestrictedMode",value:function(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;var e=Ky();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(t){var e=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new yd;return this.vc((function(){return e.yc&&e.Ac?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(t){var e=this;this.enqueueAndForget((function(){return e.gc.push(t),e.Vc()}))}},{key:"Vc",value:function(){var t=Zs($s().mark((function t(){var e=this;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===this.gc.length){t.next=14;break}return t.prev=1,t.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),ty(t.t0)){t.next=12;break}throw t.t0;case 12:ud("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return e.Vc()}));case 14:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"vc",value:function(t){var e=this,n=this.mc.then((function(){return e.Ic=!0,t().catch((function(t){e.Ec=t,e.Ic=!1;var n=function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw ld("INTERNAL UNHANDLED ERROR: ",n),t})).then((function(t){return e.Ic=!1,t}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(t,e,n){var r=this;this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Wm.createAndSchedule(this,t,e,n,(function(t){return r.Sc(t)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&fd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var t=Zs($s().mark((function t(){var e;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mc,t.next=3,e;case 3:if(e!==this.mc){t.next=0;break}case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"Cc",value:function(t){var e,n=tu(this.Tc);try{for(n.s();!(e=n.n()).done;){if(e.value.timerId===t)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(t){var e=this;return this.Dc().then((function(){e.Tc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));var n,r=tu(e.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==t&&i.timerId===t)break}}catch(o){r.e(o)}finally{r.f()}return e.Dc()}))}},{key:"kc",value:function(t){this.Rc.push(t)}},{key:"Sc",value:function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}]),t}();var wb=function(t){p(n,t);var e=_(n);function n(t,r,i){var o;return b(this,n),(o=e.call(this,t,r,i)).type="firestore",o._queue=new bb,o._persistenceKey="name"in t?t.name:"[DEFAULT]",o}return x(n,[{key:"_terminate",value:function(){return this._firestoreClient||Eb(this),this._firestoreClient.terminate()}}]),n}(pb);function xb(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uu();return Mu(t,"firestore").getImmediate()}function kb(t){return t._firestoreClient||Eb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Eb(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ib(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new G_(t._authCredentials,t._appCheckCredentials,t._queue,r)}var Sb=function(){function t(){b(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new gd(vd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fd(n)}return x(t,[{key:"isEqual",value:function(t){return this._internalPath.isEqual(t._internalPath)}}]),t}();function Cb(){return new Sb("__name__")}var Tb=function(){function t(e){b(this,t),this._byteString=e}return x(t,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(t){return this._byteString.isEqual(t._byteString)}}],[{key:"fromBase64String",value:function(e){try{return new t(Vd.fromBase64String(e))}catch(e){throw new gd(vd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}},{key:"fromUint8Array",value:function(e){return new t(Vd.fromUint8Array(e))}}]),t}(),Ib=x((function t(e){b(this,t),this._methodName=e})),Ob=function(){function t(e,n){if(b(this,t),!isFinite(e)||e<-90||e>90)throw new gd(vd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new gd(vd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return x(t,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(t){return this._lat===t._lat&&this._long===t._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(t){return Id(this._lat,t._lat)||Id(this._long,t._long)}}]),t}(),Ab=/^__.*__$/,Rb=function(){function t(e,n,r){b(this,t),this.data=e,this.fieldMask=n,this.fieldTransforms=r}return x(t,[{key:"toMutation",value:function(t,e){return null!==this.fieldMask?new kv(t,this.data,this.fieldMask,e,this.fieldTransforms):new xv(t,this.data,e,this.fieldTransforms)}}]),t}(),Pb=function(){function t(e,n,r){b(this,t),this.data=e,this.fieldMask=n,this.fieldTransforms=r}return x(t,[{key:"toMutation",value:function(t,e){return new kv(t,this.data,this.fieldMask,e,this.fieldTransforms)}}]),t}();function Lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fd()}}var Nb=function(){function t(e,n,r,i,o,a){b(this,t),this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===o&&this.xc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return x(t,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Fc:!1});return r.Lc(t),r}},{key:"Bc",value:function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(t){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(t){return Yb(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))}},{key:"xc",value:function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}},{key:"Lc",value:function(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(Lb(this.$c)&&Ab.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}]),t}(),Db=function(){function t(e,n,r){b(this,t),this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||Xy(e)}return x(t,[{key:"Qc",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Nb({$c:t,methodName:e,jc:n,path:Fd.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),t}();function Mb(t){var e=t._freezeSettings(),n=Xy(t._databaseId);return new Db(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jb(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);qb("Data must be an object, but it was:",a,r);var s,u,l=Wb(r,a);if(o.merge)s=new zd(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var c,h=[],f=tu(o.mergeFields);try{for(f.s();!(c=f.n()).done;){var d=c.value,p=Hb(e,d,n);if(!a.contains(p))throw new gd(vd.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Zb(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new zd(h),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new Rb(new fp(l),s,u)}var Fb=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"_toFieldTransform",value:function(t){if(2!==t.$c)throw 1===t.$c?t.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):t.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}},{key:"isEqual",value:function(t){return t instanceof n}}]),n}(Ib);function zb(t,e,n,r){var i=t.Qc(1,e,n);qb("Data must be an object, but it was:",i,r);var o=[],a=fp.empty();Ld(r,(function(t,r){var s=Xb(e,t,n);r=hu(r);var u=i.Bc(s);if(r instanceof Fb)o.push(s);else{var l=Bb(r,u);null!=l&&(o.push(s),a.set(s,l))}}));var s=new zd(o);return new Pb(a,s,i.fieldTransforms)}function Vb(t,e,n,r,i,o){var a=t.Qc(1,e,n),s=[Hb(e,r,n)],u=[i];if(o.length%2!=0)throw new gd(vd.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<o.length;l+=2)s.push(Hb(e,o[l])),u.push(o[l+1]);for(var c=[],h=fp.empty(),f=s.length-1;f>=0;--f)if(!Zb(c,s[f])){var d=s[f],p=u[f];p=hu(p);var v=a.Bc(d);if(p instanceof Fb)c.push(d);else{var g=Bb(p,v);null!=g&&(c.push(d),h.set(d,g))}}var y=new zd(c);return new Pb(h,y,a.fieldTransforms)}function Ub(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Bb(n,t.Qc(r?4:3,e))}function Bb(t,e){if(Gb(t=hu(t)))return qb("Unsupported field value:",e,t),Wb(t,e);if(t instanceof Ib)return function(t,e){if(!Lb(e.$c))throw e.qc("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.qc("".concat(t._methodName,"() is not currently supported inside arrays"));var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,e){var n,r=[],i=0,o=tu(t);try{for(o.s();!(n=o.n()).done;){var a=Bb(n.value,e.Uc(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(t,e)}return function(t,e){if(null===(t=hu(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tv(e.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ad.fromDate(t);return{timestampValue:sg(e.k,n)}}if(t instanceof Ad){var r=new Ad(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sg(e.k,r)}}if(t instanceof Ob)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tb)return{bytesValue:ug(e.k,t._byteString)};if(t instanceof vb){var i=e.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw e.qc("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:hg(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.qc("Unsupported field value: ".concat(cb(t)))}(t,e)}function Wb(t,e){var n={};return Nd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ld(t,(function(t,r){var i=Bb(r,e.Mc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Gb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ad||t instanceof Ob||t instanceof Tb||t instanceof vb||t instanceof Ib)}function qb(t,e,n){if(!Gb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=cb(n);throw"an object"===r?e.qc(t+" a custom object"):e.qc(t+" "+r)}}function Hb(t,e,n){if((e=hu(e))instanceof Sb)return e._internalPath;if("string"==typeof e)return Xb(t,e);throw Yb("Field path arguments must be of type string or ",t,!1,void 0,n)}var Kb=new RegExp("[~\\*/\\[\\]]");function Xb(t,e,n){if(e.search(Kb)>=0)throw Yb("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return Js(Sb,f(e.split(".")))._internalPath}catch(r){throw Yb("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Yb(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(e,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new gd(vd.INVALID_ARGUMENT,s+t+u)}function Zb(t,e){return t.some((function(t){return t.isEqual(e)}))}var Qb=function(){function t(e,n,r,i,o){b(this,t),this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return x(t,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vb(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var t=new $b(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(t){if(this._document){var e=this._document.data.field(Jb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}]),t}(),$b=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"data",value:function(){return a(i(n.prototype),"data",this).call(this)}}]),n}(Qb);function Jb(t,e){return"string"==typeof e?Xb(t,e):e instanceof Sb?e._internalPath:e._delegate._internalPath}var tw=function(){function t(e,n){b(this,t),this.hasPendingWrites=e,this.fromCache=n}return x(t,[{key:"isEqual",value:function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}]),t}(),ew=function(t){p(n,t);var e=_(n);function n(t,r,i,o,a,s){var u;return b(this,n),(u=e.call(this,t,r,i,o,s))._firestore=t,u._firestoreImpl=t,u.metadata=a,u}return x(n,[{key:"exists",value:function(){return a(i(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var e=new nw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Jb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}]),n}(Qb),nw=function(t){p(n,t);var e=_(n);function n(){return b(this,n),e.apply(this,arguments)}return x(n,[{key:"data",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(i(n.prototype),"data",this).call(this,t)}}]),n}(ew),rw=function(){function t(e,n,r,i){b(this,t),this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tw(i.hasPendingWrites,i.fromCache),this.query=r}return x(t,[{key:"docs",get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new nw(n._firestore,n._userDataWriter,r.key,r,new tw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gd(vd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new nw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new nw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new tw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:iw(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),t}();function iw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fd()}}function ow(t){if(zp(t)&&0===t.explicitOrderBy.length)throw new gd(vd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aw=x((function t(){b(this,t)}));function sw(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];t=a._apply(t)}return t}var uw=function(t){p(n,t);var e=_(n);function n(t,r,i){var o;return b(this,n),(o=e.call(this)).zc=t,o.Hc=r,o.Jc=i,o.type="where",o}return x(n,[{key:"_apply",value:function(t){var e=Mb(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new gd(vd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){dw(a,o);var u,l=[],c=tu(a);try{for(c.s();!(u=c.n()).done;){var h=u.value;l.push(fw(r,t,h))}}catch(d){c.e(d)}finally{c.f()}s={arrayValue:{values:l}}}else s=fw(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||dw(a,o),s=Ub(n,"where",a,"in"===o||"not-in"===o);var f=bp.create(i,o,s);return function(t,e){if(e.V()){var n=Up(t);if(null!==n&&!n.isEqual(e.field))throw new gd(vd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(e.field.toString(),"'"));var r=Vp(t);null!==r&&pw(t,e.field,r)}var i=function(t,e){var n,r=tu(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new gd(vd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new gd(vd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new gb(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Dp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}]),n}(aw);function lw(t,e,n){var r=e,i=Jb("where",t);return new uw(i,r,n)}var cw=function(t){p(n,t);var e=_(n);function n(t,r,i){var o;return b(this,n),(o=e.call(this)).type=t,o.Xc=r,o.Zc=i,o}return x(n,[{key:"_apply",value:function(t){return new gb(t.firestore,t.converter,qp(t._query,this.Xc,this.Zc))}}]),n}(aw);function hw(t){return fb("limit",t),new cw("limit",t,"F")}function fw(t,e,n){if("string"==typeof(n=hu(n))){if(""===n)throw new gd(vd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bp(e)&&-1!==n.indexOf("/"))throw new gd(vd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=e.path.child(Md.fromString(n));if(!Qd.isDocumentKey(r))throw new gd(vd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return op(t,new Qd(r))}if(n instanceof vb)return op(t,n._key);throw new gd(vd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(cb(n),"."))}function dw(t,e){if(!Array.isArray(t)||0===t.length)throw new gd(vd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."));if(t.length>10)throw new gd(vd.INVALID_ARGUMENT,"Invalid Query. '".concat(e.toString(),"' filters support a maximum of 10 elements in the value array."))}function pw(t,e,n){if(!n.isEqual(e))throw new gd(vd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(e.toString(),"' and so you must also use '").concat(e.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vw=function(){function t(){b(this,t)}return x(t,[{key:"convertValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($d(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wd(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw fd()}}},{key:"convertObject",value:function(t,e){var n=this,r={};return Ld(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r}},{key:"convertGeoPoint",value:function(t){return new Ob(Wd(t.latitude),Wd(t.longitude))}},{key:"convertArray",value:function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))}},{key:"convertServerTimestamp",value:function(t,e){switch(e){case"previous":var n=Hd(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Kd(t));default:return null}}},{key:"convertTimestamp",value:function(t){var e=Bd(t);return new Ad(e.seconds,e.nanos)}},{key:"convertDocumentKey",value:function(t,e){var n=Md.fromString(t);dd(Ng(n));var r=new ob(n.get(1),n.get(3)),i=new Qd(n.popFirst(5));return r.isEqual(e)||ld("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}]),t}();function gw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var yw=function(){function t(e,n){b(this,t),this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Mb(e)}return x(t,[{key:"set",value:function(t,e,n){this._verifyNotCommitted();var r=mw(t,this._firestore),i=gw(r.converter,e,n),o=jb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,pv.none())),this}},{key:"update",value:function(t,e,n){this._verifyNotCommitted();for(var r,i=mw(t,this._firestore),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return r="string"==typeof(e=hu(e))||e instanceof Sb?Vb(this._dataReader,"WriteBatch.update",i._key,e,n,a):zb(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(r.toMutation(i._key,pv.exists(!0))),this}},{key:"delete",value:function(t){this._verifyNotCommitted();var e=mw(t,this._firestore);return this._mutations=this._mutations.concat(new Ov(e._key,pv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new gd(vd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),t}();function mw(t,e){if((t=hu(t)).firestore!==e)throw new gd(vd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function _w(t){t=hb(t,vb);var e=hb(t.firestore,wb);return nb(kb(e),t._key).then((function(n){return Ew(e,t,n)}))}var bw=function(t){p(n,t);var e=_(n);function n(t){var r;return b(this,n),(r=e.call(this)).firestore=t,r}return x(n,[{key:"convertBytes",value:function(t){return new Tb(t)}},{key:"convertReference",value:function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new vb(this.firestore,null,e)}}]),n}(vw);function ww(t){t=hb(t,gb);var e=hb(t.firestore,wb),n=kb(e),r=new bw(e);return ow(t._query),rb(n,t._query).then((function(n){return new rw(e,r,t,n)}))}function xw(t,e){var n=hb(t.firestore,wb),r=_b(t),i=gw(t.converter,e);return kw(n,[jb(Mb(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,pv.exists(!1))]).then((function(){return r}))}function kw(t,e){return function(t,e){var n=new yd;return t.asyncQueue.enqueueAndForget(Zs($s().mark((function r(){return $s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=g_,r.next=3,J_(t);case 3:return r.t1=r.sent,r.t2=e,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(kb(t),e)}function Ew(t,e,n){var r=n.docs.get(e._key),i=new bw(t);return new ew(t,i,e._key,r,new tw(n.hasPendingWrites,n.fromCache),e.converter)}function Sw(t){return kb(t=hb(t,wb)),new yw(t,(function(e){return kw(t,e)}))}!function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];od="9.6.6",Du(new fu("firestore",(function(t,n){var r=n.options,i=t.getProvider("app").getImmediate(),o=new wb(i,new bd(t.getProvider("auth-internal")),new Ed(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC")),Bu(rd,"3.4.4",t),Bu(rd,"3.4.4","esm2017")}();var Cw=function(t){return{id:t.id,title:t.title,price:t.price-t.price*(t.discount/100),discount:t.discount,originalPrice:t.price,stock:t.stock,category:t.category,garment:t.garment,pictureUrl:t.pictureUrl,description:t.description}},Tw=function(){var t=Zs($s().mark((function t(e){var n,r;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=_b(xb(),"productos",e),t.next=4,_w(n);case 4:return r=t.sent,t.abrupt("return",Cw(r.data()));case 8:throw t.prev=8,t.t0=t.catch(0),new Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),Iw=function(){var t=Zs($s().mark((function t(){var e,n,r;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=mb(xb(),"productos"),t.next=4,ww(e);case 4:return n=t.sent,r=n.docs.map((function(t){return Cw(t.data())})),t.abrupt("return",r);case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),Ow=function(){var t=Zs($s().mark((function t(e){var n,r,i,o;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=mb(xb(),"productos"),r=sw(n,lw("category","==",e)),t.next=5,ww(r);case 5:return i=t.sent,o=i.docs.map((function(t){return Cw(t.data())})),t.abrupt("return",o);case 10:throw t.prev=10,t.t0=t.catch(0),new Error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),Aw=function(){var t=Zs($s().mark((function t(e,n){var r,i,o,a,s;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=mb(xb(),"productos"),i=sw(r,lw("category","==",n),hw(6)),t.next=5,ww(i);case 5:return o=t.sent,a=o.docs.map((function(t){return Cw(t.data())})),s=a.filter((function(t){return t.id!==e})),t.abrupt("return",s);case 11:throw t.prev=11,t.t0=t.catch(0),new Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}(),Rw=function(){var t=Zs($s().mark((function t(e){var n,r,i,o,a;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.trim().toLowerCase().replace(/(^|\s)\S/g,(function(t){return t.toUpperCase()})),r=mb(xb(),"productos"),i=sw(r,lw("garment","==",n)),t.next=6,ww(i);case 6:return o=t.sent,a=o.docs.map((function(t){return Cw(t.data())})),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(0),new Error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),Pw=function(){var t=Zs($s().mark((function t(){var e,n,r,i,o=arguments;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"",t.prev=1,t.next=4,Iw();case 4:return n=t.sent,r=n.filter((function(t){var n=new RegExp(e.toLowerCase().trim());return t.title.toLowerCase().match(n)||t.description.toLowerCase().match(n)||t.price.toString().match(n)})),i=r.map((function(t){return Cw(t)})),t.abrupt("return",i);case 10:throw t.prev=10,t.t0=t.catch(1),new Error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),Lw=function(){var t=Zs($s().mark((function t(e){var n,r;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=mb(xb(),"productos"),r=sw(n,lw(Cb(),"in",e.map((function(t){return t.item.id})))),t.next=4,ww(r);case 4:return t.sent.docs.forEach((function(t){if(t.data().stock-e.find((function(e){return e.item.id===t.id})).quantity<0)throw new Error("Error al crear el orden, el producto ".concat(t.title," no tiene stock"))})),t.abrupt("return",!0);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Nw=function(){var t=Zs($s().mark((function t(e){var n,r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=mb(xb(),"productos"),r=sw(n,lw(Cb(),"in",e.map((function(t){return t.item.id})))),i=Sw(xb()),t.next=6,ww(r);case 6:return t.sent.docs.forEach((function(t){i.update(t.ref,{stock:t.data().stock-e.find((function(e){return e.item.id===t.id})).quantity})})),t.next=10,i.commit();case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),new Error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),Dw=function(){var t=Zs($s().mark((function t(e,n,r){var i,o,a,s;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lw(e);case 3:return i=e.map((function(t){return{id:t.item.id,title:t.item.title,price:t.item.price*t.quantity}})),o={buyer:r,date:new Date,items:i,total:n},a=mb(xb(),"orders"),t.next=8,xw(a,o);case 8:return s=t.sent,t.next=11,Nw(e);case 11:return t.abrupt("return",s);case 14:throw t.prev=14,t.t0=t.catch(0),new Error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n,r){return t.apply(this,arguments)}}();function Mw(t){return Fa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 24c-96 0-160 80-160 160 0 192 80 304 160 304s160-112 160-304c0-80-64-160-160-160zM128 168c7.8 32 35 91.9 96 128l-48 48c-67.7-41.1-64-144-48-176zm256 0c16 32 19.7 134.9-48 176l-48-48c61-36.1 88.2-96 96-128z"}}]})(t)}var jw=function(t){var e=t.isLoading;return(0,Ps.jsx)("div",{className:"loading h-100 d-flex justify-content-center align-items-center ".concat(e?"on":"off"),children:e?(0,Ps.jsx)(Mw,{className:"icon-loading"}):void 0})},Fw=function(t){var e=t.item,n=Ns().addToCart;return(0,Ps.jsxs)("div",{className:"card card-item",children:[(0,Ps.jsx)(Pa,{to:"/item/"+e.id,children:(0,Ps.jsx)("img",{src:e.pictureUrl,className:"card-img-top item-img",alt:"..."})}),(0,Ps.jsxs)("div",{className:"card-body card-item-body",children:[(0,Ps.jsx)("h5",{className:"card-title",children:e.title}),(0,Ps.jsx)("p",{className:"card-text",children:(0,Ps.jsx)("span",{className:"badge bg-primary",children:e.category})}),(0,Ps.jsxs)("p",{className:"card-text",children:[e.price," ARS"]}),e.discount>0&&(0,Ps.jsxs)("p",{className:"card-text offer",children:["-",e.discount,"%"]}),(0,Ps.jsx)(Pa,{to:"/item/"+e.id+"#detail",children:(0,Ps.jsx)("button",{className:"btn btn-outline-secondary",children:(0,Ps.jsx)(Hs,{})})}),(0,Ps.jsx)("button",{className:"btn btn-add-to-cart-geek float-end mr-4",onClick:function(){n(e)},disabled:e.stock<=0,children:(0,Ps.jsx)(qs,{className:"icon-cart-plus"})})]})]})},zw=function(t){var e=t.items.map((function(t,e){return(0,Ps.jsxs)("div",{className:"col-md-4 mb-4",children:[(0,Ps.jsx)(Fw,{item:t})," "]},e)}));return(0,Ps.jsx)("div",{className:"row my-5",children:e})},Vw=function(){var t=k((0,e.useState)([]),2),n=t[0],r=t[1],i=k((0,e.useState)(!0),2),o=i[0],a=i[1],s=ta().idCategory,u=ta().idGarment;return(0,e.useEffect)((function(){if(a(!0),r([]),s){var t=function(){var t=Zs($s().mark((function t(){var e;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ow(s);case 2:e=t.sent,a(!1),r(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}else if(u){var e=function(){var t=Zs($s().mark((function t(){var e;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rw(u);case 2:e=t.sent,a(!1),r(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e()}else{var n=function(){var t=Zs($s().mark((function t(){var e;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Iw();case 2:e=t.sent,a(!1),r(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}}),[s,u]),(0,Ps.jsxs)("div",{className:"container item-list-container",id:"productos",children:[(0,Ps.jsx)(jw,{isLoading:o}),n?(0,Ps.jsx)(zw,{items:n}):(0,Ps.jsx)("h1",{children:"No se encontraron datos"})]})},Uw=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Bw(t,e){return t>e?1:t<e?-1:0}function Ww(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"===typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function Gw(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function qw(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function Hw(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Kw(){return!0}function Xw(){return!1}function Yw(){}function Zw(){return function(){throw new Error("Unimplemented abstract method.")}()}var Qw=0;function $w(t){return t.ol_uid||(t.ol_uid=String(++Qw))}var Jw="6.12.0",tx="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",ex=-1!==tx.indexOf("firefox"),nx=(-1!==tx.indexOf("safari")&&tx.indexOf("chrom"),-1!==tx.indexOf("webkit")&&-1==tx.indexOf("edge")),rx=-1!==tx.indexOf("macintosh"),ix="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,ox="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,ax="undefined"!==typeof Image&&Image.prototype.decode,sx=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}(),ux=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lx=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("v"+Jw.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return ux(e,t),e}(Error);function cx(t,e){if(!t)throw new lx(e)}var hx;new Array(6);function fx(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function dx(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function px(t,e,n,r,i,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=a*r*l-s*r*u+e,t[5]=a*i*u+s*i*l+n,t}function vx(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];cx(0!==r,32);var i=e[0],o=e[1],a=e[2],s=e[3],u=e[4],l=e[5];return t[0]=s/r,t[1]=-o/r,t[2]=-a/r,t[3]=i/r,t[4]=(a*l-s*u)/r,t[5]=-(i*l-o*u)/r,t}function gx(t){var e="matrix("+t.join(", ")+")";if(ox)return e;var n=hx||(hx=document.createElement("div"));return n.style.transform=e,n.style.transform}var yx="bottom-left",mx="bottom-right",_x="top-left",bx="top-right",wx=0,xx=1,kx=2,Ex=4,Sx=8,Cx=16;function Tx(t){for(var e=Dx(),n=0,r=t.length;n<r;++n)zx(e,t[n]);return e}function Ix(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function Ox(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Ax(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function Rx(t,e){return Lx(t,e[0],e[1])}function Px(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Lx(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Nx(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=wx;return a<n?u|=Cx:a>i&&(u|=Ex),s<r?u|=Sx:s>o&&(u|=kx),u===wx&&(u=xx),u}function Dx(){return[1/0,1/0,-1/0,-1/0]}function Mx(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function jx(t){return Mx(1/0,1/0,-1/0,-1/0,t)}function Fx(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function zx(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Vx(t,e,n,r,i){for(;n<r;n+=i)Ux(t,e[n],e[n+1]);return t}function Ux(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Bx(t,e){var n;return(n=e(Gx(t)))||(n=e(qx(t)))||(n=e($x(t)))?n:(n=e(Qx(t)))||!1}function Wx(t){var e=0;return ek(t)||(e=Jx(t)*Yx(t)),e}function Gx(t){return[t[0],t[1]]}function qx(t){return[t[2],t[1]]}function Hx(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Kx(t,e){var n;return e===yx?n=Gx(t):e===mx?n=qx(t):e===_x?n=Qx(t):e===bx?n=$x(t):cx(!1,13),n}function Xx(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),l=o*s,c=o*u,h=a*s,f=a*u,d=t[0],p=t[1],v=d-l+f,g=d-l-f,y=d+l-f,m=d+l+f,_=p-c-h,b=p-c+h,w=p+c+h,x=p+c-h;return Mx(Math.min(v,g,y,m),Math.min(_,b,w,x),Math.max(v,g,y,m),Math.max(_,b,w,x),i)}function Yx(t){return t[3]-t[1]}function Zx(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return tk(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):jx(r),r}function Qx(t){return[t[0],t[3]]}function $x(t){return[t[2],t[3]]}function Jx(t){return t[2]-t[0]}function tk(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function ek(t){return t[2]<t[0]||t[3]<t[1]}function nk(t,e,n,r){var i=[];if(r>1)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<r;++s)i.push(t[0]+o*s/r,t[1],t[2],t[1]+a*s/r,t[2]-o*s/r,t[3],t[0],t[3]-a*s/r);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);for(var u=[],l=[],c=(s=0,i.length);s<c;s+=2)u.push(i[s]),l.push(i[s+1]);return function(t,e,n){return Mx(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(u,l,n)}function rk(t,e,n){return Math.min(Math.max(t,e),n)}var ik=function(){var t;return t="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},t}(),ok=function(){var t;return t="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E},t}();function ak(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return sk(t,e,n,r)}function sk(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function uk(t){return t*Math.PI/180}function lk(t,e){var n=t%e;return n*e<0?n+e:n}function ck(t,e,n){return t+n*(e-t)}function hk(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function fk(t,e){return Math.floor(hk(t,e))}function dk(t,e){return Math.ceil(hk(t,e))}var pk=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,vk=/^([a-z]*)$|^hsla?\(.*\)$/i;function gk(t){return"string"===typeof t?t:wk(t)}function yk(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var mk=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var i=0;for(var o in t)0===(3&i++)&&(delete t[o],--e)}r=function(t){var e,n,r,i,o;vk.exec(t)&&(t=yk(t));if(pk.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var u=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),i=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?bk(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),bk(o)):cx(!1,14);return o}(n),t[n]=r,++e}return r}}();function _k(t){return Array.isArray(t)?t:mk(t)}function bk(t){return t[0]=rk(t[0]+.5|0,0,255),t[1]=rk(t[1]+.5|0,0,255),t[2]=rk(t[2]+.5|0,0,255),t[3]=rk(t[3],0,1),t}function wk(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}var xk=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=kk(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=kk(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function kk(t,e,n){return e+":"+t+":"+(n?gk(n):"null")}var Ek=new xk;var Sk=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),Ck="propertychange",Tk="function"===typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(void 0!==o&&null!==o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function Ik(t){for(var e in t)delete t[e]}var Ok="function"===typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function Ak(t){var e;for(e in t)return!1;return!e}var Rk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pk=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return Rk(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new Sk(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,i=this.listeners_&&this.listeners_[n];if(i){var o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});n in o||(o[n]=0,a[n]=0),++o[n];for(var s=0,u=i.length;s<u;++s)if(!1===(r="handleEvent"in i[s]?i[s].handleEvent(e):i[s].call(this,e))||e.propagationStopped){r=!1;break}if(--o[n],0===o[n]){var l=a[n];for(delete a[n];l--;)this.removeEventListener(n,Yw);delete o[n]}return r}},e.prototype.disposeInternal=function(){this.listeners_&&Ik(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=Yw,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(Uw),Lk=Pk,Nk="change",Dk="error",Mk="contextmenu",jk="click",Fk="dblclick",zk="keydown",Vk="keypress",Uk="load",Bk="resize",Wk="touchmove",Gk="wheel";function qk(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function Hk(t,e,n,r){return qk(t,e,n,r,!0)}function Kk(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Ik(t))}var Xk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yk=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return Xk(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(Nk)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=qk(this,t[i],e);return r}return qk(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var i=0;i<r;++i)n[i]=Hk(this,t[i],e)}else n=Hk(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Kk(t[e]);else Kk(t)}(n);else if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(Lk);Yk.prototype.on,Yk.prototype.once,Yk.prototype.un;var Zk=Yk,Qk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$k=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return Qk(e,t),e}(Sk),Jk=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,$w(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return Qk(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Tk({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:"+t,this.dispatchEvent(new $k(n,t,e)),n=Ck,this.dispatchEvent(new $k(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var i=r[t];r[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Tk(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Ak(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(Zk),tE="opacity",eE="visible",nE="extent",rE="zIndex",iE="maxResolution",oE="minResolution",aE="maxZoom",sE="minZoom",uE="source",lE="map",cE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hE=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var r=Tk({},e);return"object"===typeof e.properties&&(delete r.properties,Tk(r,e.properties)),r[tE]=void 0!==e.opacity?e.opacity:1,cx("number"===typeof r[tE],64),r[eE]=void 0===e.visible||e.visible,r[rE]=e.zIndex,r[iE]=void 0!==e.maxResolution?e.maxResolution:1/0,r[oE]=void 0!==e.minResolution?e.minResolution:0,r[sE]=void 0!==e.minZoom?e.minZoom:-1/0,r[aE]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return cE(e,t),e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=rk(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Zw()},e.prototype.getLayerStatesArray=function(t){return Zw()},e.prototype.getExtent=function(){return this.get(nE)},e.prototype.getMaxResolution=function(){return this.get(iE)},e.prototype.getMinResolution=function(){return this.get(oE)},e.prototype.getMinZoom=function(){return this.get(sE)},e.prototype.getMaxZoom=function(){return this.get(aE)},e.prototype.getOpacity=function(){return this.get(tE)},e.prototype.getSourceState=function(){return Zw()},e.prototype.getVisible=function(){return this.get(eE)},e.prototype.getZIndex=function(){return this.get(rE)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(nE,t)},e.prototype.setMaxResolution=function(t){this.set(iE,t)},e.prototype.setMinResolution=function(t){this.set(oE,t)},e.prototype.setMaxZoom=function(t){this.set(aE,t)},e.prototype.setMinZoom=function(t){this.set(sE,t)},e.prototype.setOpacity=function(t){cx("number"===typeof t,64),this.set(tE,t)},e.prototype.setVisible=function(t){this.set(eE,t)},e.prototype.setZIndex=function(t){this.set(rE,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(Jk),fE="prerender",dE="postrender",pE="precompose",vE="postcompose",gE="rendercomplete",yE="undefined",mE="ready",_E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bE=function(t){function e(e){var n=this,r=Tk({},e);delete r.source,(n=t.call(this,r)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(uE,n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return _E(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(uE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():yE},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Kk(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=qk(t,Nk,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMapInternal=function(t){this.set(lE,t)},e.prototype.getMapInternal=function(){return this.get(lE)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Kk(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Kk(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=qk(t,pE,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);cx(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=qk(this,Nk,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(uE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},e}(hE);function wE(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var xE=bE;function kE(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function EE(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t}function SE(t,e){if(e.canWrapX()){var n=Jx(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),i=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var o=n||Jx(r);i=Math.floor((t[0]-r[0])/o)}return i}(t,e,n);r&&(t[0]-=r*n)}return t}var CE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TE=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return CE(e,t),e.prototype.dispatchRenderEvent=function(t,e){Zw()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;px(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),vx(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s){var u,l=e.viewState;function c(t,e,n,r){return i.call(o,e,t?n:null,r)}var h=l.projection,f=SE(t.slice(),h),d=[[0,0]];if(h.canWrapX()&&r){var p=Jx(h.getExtent());d.push([-p,0],[p,0])}for(var v=e.layerStatesArray,g=v.length,y=[],m=[],_=0;_<d.length;_++)for(var b=g-1;b>=0;--b){var w=v[b],x=w.layer;if(x.hasRenderer()&&wE(w,l)&&a.call(s,x)){var k=x.getRenderer(),E=x.getSource();if(k&&E){var S=E.getWrapX()?f:t,C=c.bind(null,w.managed);m[0]=S[0]+d[_][0],m[1]=S[1]+d[_][1],u=k.forEachFeatureAtCoordinate(m,e,n,C,y)}if(u)return u}}if(0!==y.length){var T=1/y.length;return y.forEach((function(t,e){return t.distanceSq+=e*T})),y.sort((function(t,e){return t.distanceSq-e.distanceSq})),y.some((function(t){return u=t.callback(t.feature,t.layer,t.geometry)})),u}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){return Zw()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,Kw,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Zw()},e.prototype.scheduleExpireIconCache=function(t){Ek.canExpireCache()&&t.postRenderFunctions.push(IE)},e}(Uw);function IE(t,e){Ek.expire()}var OE=TE,AE=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RE=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return AE(e,t),e}(Sk),PE="ol-hidden",LE="ol-control",NE="ol-collapsed",DE=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),ME=["style","variant","weight","size","lineHeight","family"],jE=function(t){var e=t.match(DE);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=ME.length;r<i;++r){var o=e[r+1];void 0!==o&&(n[ME[r]]=o)}return n.families=n.family.split(/,\s?/),n};function FE(t){return 1===t?"":String(Math.round(100*t)/100)}function zE(t,e,n,r){var i;return i=n&&n.length?n.shift():ox?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function VE(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function UE(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}var BE="10px sans-serif",WE="#000",GE="round",qE=[],HE="round",KE="#000",XE="center",YE="middle",ZE=[0,0,0,0],QE=new Jk;(new Lk).setSize=function(){console.warn("labelCache is deprecated.")};var $E,JE=null,tS={},eS=function(){var t,e,n="32px ",r=["monospace","serif"],i=r.length,o="wmytzilWMYTZIL@#/&?$%10\uf013";function a(t,a,s){for(var u=!0,l=0;l<i;++l){var c=r[l];if(e=iS(t+" "+a+" "+n+c,o),s!=c){var h=iS(t+" "+a+" "+n+s+","+c,o);u=u&&h!=e}}return!!u}function s(){for(var e=!0,n=QE.getKeys(),r=0,i=n.length;r<i;++r){var o=n[r];QE.get(o)<100&&(a.apply(this,o.split("\n"))?(Ik(tS),JE=null,$E=void 0,QE.set(o,100)):(QE.set(o,QE.get(o)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=jE(e);if(n)for(var r=n.families,i=0,o=r.length;i<o;++i){var u=r[i],l=n.style+"\n"+n.weight+"\n"+u;void 0===QE.get(l)&&(QE.set(l,100,!0),a(n.style,n.weight,u)||(QE.set(l,0,!0),void 0===t&&(t=setInterval(s,32))))}}}(),nS=function(){var t;return function(e){var n=tS[e];if(void 0==n){if(ox){var r=jE(e),i=rS(e,"\u017dg");n=(isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);tS[e]=n}return n}}();function rS(t,e){return JE||(JE=zE(1,1)),t!=$E&&(JE.font=t,$E=JE.font),JE.measureText(e)}function iS(t,e){return rS(t,e).width}function oS(t,e,n){if(e in n)return n[e];var r=iS(t,e);return n[e]=r,r}function aS(t,e,n,r,i,o,a,s,u,l,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),function(t,e){for(var n=t.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(r,i,o,a,s,0,0,a,s)):t.drawImage(r,i,o,a,s,u,l,a*c[0],s*c[1]),t.restore()}var sS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uS=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=qk(QE,Ck,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className="ol-unselectable ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return sS(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new RE(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){Kk(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(pE,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var r=[],i=null,o=0,a=e.length;o<a;++o){var s=e[o];if(t.layerIndex=o,wE(s,n)&&(s.sourceState==mE||s.sourceState==yE)){var u=s.layer,l=u.render(t,i);l&&(l!==i&&(this.children_.push(l),i=l),"getDeclutter"in u&&r.push(u))}}for(o=r.length-1;o>=0;--o)r[o].renderDeclutter(t);!function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(vE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var u=a[s],l=u.layer;if(l.hasRenderer()&&wE(u,o)&&i(l)){var c=l.getRenderer().getDataAtPixel(t,e,n);if(c){var h=r(l,c);if(h)return h}}}},e}(OE),lS=uS,cS="add",hS="remove",fS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dS="length",pS=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return fS(e,t),e}(Sk),vS=function(t){function e(e,n){var r=t.call(this)||this;r.on,r.once,r.un;var i=n||{};if(r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,a=r.array_.length;o<a;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return fS(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(dS)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new pS(cS,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new pS(hS,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new pS(hS,r,t)),this.dispatchEvent(new pS(cS,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(dS,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new lx(58)},e}(Jk),gS=vS,yS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mS=function(t){function e(e,n){var r=t.call(this,e)||this;return r.layer=n,r}return yS(e,t),e}(Sk),_S="layers",bS=function(t){function e(e){var n=this,r=e||{},i=Tk({},r);delete i.layers;var o=r.layers;return(n=t.call(this,i)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(_S,n.handleLayersChanged_),o?Array.isArray(o)?o=new gS(o.slice(),{unique:!0}):cx("function"===typeof o.getArray,43):o=new gS(void 0,{unique:!0}),n.setLayers(o),n}return yS(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Kk),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(qk(t,cS,this.handleLayersAdd_,this),qk(t,hS,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Kk);Ik(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.registerLayerListeners_(o),this.dispatchEvent(new mS("addlayer",o))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[qk(t,Ck,this.handleLayerChange_,this),qk(t,Nk,this.handleLayerChange_,this)];t instanceof e&&n.push(qk(t,"addlayer",this.handleLayerGroupAdd_,this),qk(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[$w(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new mS("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new mS("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new mS("addlayer",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=$w(e);this.listenerKeys_[n].forEach(Kk),delete this.listenerKeys_[n],this.dispatchEvent(new mS("removelayer",e)),this.changed()},e.prototype.getLayers=function(){return this.get(_S)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),r=0,i=n.length;r<i;++r)this.dispatchEvent(new mS("removelayer",n[r]));this.set(_S,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r=this.getLayerState(),i=r.zIndex;t||void 0!==r.zIndex||(i=0);for(var o=n,a=e.length;o<a;o++){var s=e[o];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==s.extent?s.extent=Zx(s.extent,r.extent):s.extent=r.extent),void 0===s.zIndex&&(s.zIndex=i)}return e},e.prototype.getSourceState=function(){return mE},e}(hE),wS=bS,xS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kS=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return xS(e,t),e}(Sk),ES=kS,SS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CS=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return SS(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(ES),TS=CS,IS={SINGLECLICK:"singleclick",CLICK:jk,DBLCLICK:Fk,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},OS="pointermove",AS="pointerdown",RS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),PS=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=qk(i,AS,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=qk(i,OS,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(Wk,r.boundHandleTouchMove_,!!sx&&{passive:!1}),r}return RS(e,t),e.prototype.emulateClick_=function(t){var e=new TS(IS.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new TS(IS.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new TS(IS.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==IS.POINTERUP||e.type==IS.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==IS.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new TS(IS.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Kk),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new TS(IS.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var r=t[n];this.down_[n]="function"===typeof r?Yw:r}if(0===this.dragListenerKeys_.length){var i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(qk(i,IS.POINTERMOVE,this.handlePointerMove_,this),qk(i,IS.POINTERUP,this.handlePointerUp_,this),qk(this.element_,IS.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(qk(this.element_.getRootNode(),IS.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new TS(IS.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new TS(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Kk(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Wk,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Kk(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Kk),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(Lk),LS=PS,NS="postrender",DS="movestart",MS="moveend",jS="layergroup",FS="size",zS="target",VS="view",US=1/0,BS=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Ik(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){cx(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=US&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==US?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()},t}(),WS=0,GS=1,qS=2,HS=3,KS=4,XS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YS=function(t){function e(e,n){var r=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return XS(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(Nk,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===qS||n===HS||n===KS){e.removeEventListener(Nk,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i=0;this.tilesLoading_<t&&i<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),n.getState()!==WS||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())},e}(BS),ZS=YS;var QS="Point",$S="LineString",JS="LinearRing",tC="Polygon",eC="MultiPoint",nC="MultiLineString",rC="MultiPolygon",iC="GeometryCollection",oC="Circle",aC={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var sC={};sC[aC.RADIANS]=6370997/(2*Math.PI),sC[aC.DEGREES]=2*Math.PI*6370997/360,sC[aC.FEET]=.3048,sC[aC.METERS]=1,sC[aC.USFEET]=1200/3937;var uC=aC,lC=0,cC=1,hC={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},fC=256,dC=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||sC[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),pC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vC=6378137,gC=Math.PI*vC,yC=[-gC,-gC,gC,gC],mC=[-180,-85,180,85],_C=vC*Math.log(Math.tan(Math.PI/2)),bC=function(t){function e(e){return t.call(this,{code:e,units:uC.METERS,extent:yC,global:!0,worldExtent:mC,getPointResolution:function(t,e){return t/ik(e[1]/vC)}})||this}return pC(e,t),e}(dC),wC=[new bC("EPSG:3857"),new bC("EPSG:102100"),new bC("EPSG:102113"),new bC("EPSG:900913"),new bC("http://www.opengis.net/def/crs/EPSG/0/3857"),new bC("http://www.opengis.net/gml/srs/epsg.xml#3857")];function xC(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i){o[a]=gC*t[a]/180;var s=vC*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>_C?s=_C:s<-_C&&(s=-_C),o[a+1]=s}return o}function kC(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/gC,o[a+1]=360*Math.atan(Math.exp(t[a+1]/vC))/Math.PI-90;return o}var EC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),SC=[-180,-90,180,90],CC=6378137*Math.PI/180,TC=function(t){function e(e,n){return t.call(this,{code:e,units:uC.DEGREES,extent:SC,axisOrientation:n,global:!0,metersPerUnit:CC,worldExtent:SC})||this}return EC(e,t),e}(dC),IC=[new TC("CRS:84"),new TC("EPSG:4326","neu"),new TC("urn:ogc:def:crs:OGC:1.3:CRS84"),new TC("urn:ogc:def:crs:OGC:2:84"),new TC("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new TC("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new TC("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],OC={};var AC={};function RC(t,e,n){var r=t.getCode(),i=e.getCode();r in AC||(AC[r]={}),AC[r][i]=n}var PC=6371008.8;function LC(t,e,n){var r=n||PC,i=uk(t[1]),o=uk(e[1]),a=(o-i)/2,s=uk(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function NC(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function DC(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function MC(t){!function(t,e){OC[t]=e}(t.getCode(),t),RC(t,t,NC)}function jC(t){return"string"===typeof t?OC[e=t]||OC[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function FC(t,e,n,r){var i,o=(t=jC(t)).getPointResolutionFunc();if(o){if(i=o(e,n),r&&r!==t.getUnits())(s=t.getMetersPerUnit())&&(i=i*s/sC[r])}else{var a=t.getUnits();if(a==uC.DEGREES&&!r||r==uC.DEGREES)i=e;else{var s,u=WC(t,jC("EPSG:4326"));if(u===DC&&a!==uC.DEGREES)i=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(LC((l=u(l,l,2)).slice(0,2),l.slice(2,4))+LC(l.slice(4,6),l.slice(6,8)))/2}void 0!==(s=r?sC[r]:t.getMetersPerUnit())&&(i/=s)}}return i}function zC(t){!function(t){t.forEach(MC)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&RC(e,t,NC)}))}))}function VC(t,e){return t?"string"===typeof t?jC(t):t:jC(e)}function UC(t,e){return qC(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function BC(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||WC(t,e)===NC)&&n}function WC(t,e){var n=function(t,e){var n;return t in AC&&e in AC[t]&&(n=AC[t][e]),n}(t.getCode(),e.getCode());return n||(n=DC),n}function GC(t,e){return WC(jC(t),jC(e))}function qC(t,e,n){return GC(e,n)(t,void 0,t.length)}function HC(t,e,n,r){return nk(t,GC(e,n),void 0,r)}var KC=null;function XC(){return KC}function YC(t,e){return KC?qC(t,e,KC):t}function ZC(t,e){return KC?qC(t,KC,e):t}function QC(t,e){return KC?HC(t,e,KC):t}function $C(t,e){return KC?HC(t,KC,e):t}function JC(t,e){if(!KC)return t;var n=jC(e).getUnits(),r=KC.getUnits();return n&&r?t*sC[n]/sC[r]:t}function tT(t,e,n){return function(r,i,o,a,s){if(r){var u=e?0:o[0]*i,l=e?0:o[1]*i,c=s?s[0]:0,h=s?s[1]:0,f=t[0]+u/2+c,d=t[2]-u/2+c,p=t[1]+l/2+h,v=t[3]-l/2+h;f>d&&(d=f=(d+f)/2),p>v&&(v=p=(v+p)/2);var g=rk(r[0],f,d),y=rk(r[1],p,v),m=30*i;return a&&n&&(g+=-m*Math.log(1+Math.max(0,f-r[0])/m)+m*Math.log(1+Math.max(0,r[0]-d)/m),y+=-m*Math.log(1+Math.max(0,p-r[1])/m)+m*Math.log(1+Math.max(0,r[1]-v)/m)),[g,y]}}}function eT(t){return t}function nT(t,e,n,r){var i=Jx(e)/n[0],o=Yx(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function rT(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),rk(r,n/2,2*e)}function iT(t,e,n,r,i){return function(o,a,s,u){if(void 0!==o){var l=r?nT(t,r,s,i):t;return(void 0===n||n)&&u?rT(o,l,e):rk(o,e,l)}}}function oT(t){return void 0!==t?0:void 0}function aT(t){return void 0!==t?t:void 0}function sT(t){return Math.pow(t,3)}function uT(t){return 1-sT(1-t)}function lT(t){return 3*t*t-2*t*t*t}function cT(t){return t}!function(){var t,e,n;zC(wC),zC(IC),t=wC,e=xC,n=kC,IC.forEach((function(r){t.forEach((function(t){RC(r,t,e),RC(t,r,n)}))}))}();var hT="XY",fT="XYZ",dT="XYM",pT="XYZM";function vT(t,e,n,r,i,o){for(var a=o||[],s=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function gT(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),l=Math.sin(i),c=o[0],h=o[1],f=0,d=e;d<n;d+=r){var p=t[d]-c,v=t[d+1]-h;s[f++]=c+p*u-v*l,s[f++]=h+p*l+v*u;for(var g=d+2;g<d+r;++g)s[f++]=t[g]}return a&&s.length!=f&&(s.length=f),s}var yT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mT=[1,0,0,1,0,0],_T=function(t){function e(){var e=t.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function(t){var e,n,r,i=!1;return function(){var o=Array.prototype.slice.call(arguments);return i&&this===r&&Hw(o,n)||(i=!0,r=this,n=o,e=t.apply(this,arguments)),e}}((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)})),e}return yT(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Zw()},e.prototype.closestPointXY=function(t,e,n,r){return Zw()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Zw()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&jx(e),this.extentRevision_=this.getRevision()}return function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){Zw()},e.prototype.scale=function(t,e,n){Zw()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Zw()},e.prototype.getType=function(){return Zw()},e.prototype.applyTransform=function(t){Zw()},e.prototype.intersectsExtent=function(t){return Zw()},e.prototype.translate=function(t,e){Zw()},e.prototype.transform=function(t,e){var n=jC(t),r=n.getUnits()==uC.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),a=n.getWorldExtent(),s=Yx(a)/Yx(o);return px(mT,a[0],a[3],s,-s,0,0,0),vT(t,0,t.length,i,mT,r),GC(n,e)(t,r,i)}:GC(n,e);return this.applyTransform(r),this},e}(Jk),bT=_T,wT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xT=function(t){function e(){var e=t.call(this)||this;return e.layout=hT,e.stride=2,e.flatCoordinates=null,e}return wT(e,t),e.prototype.computeExtent=function(t){return function(t,e,n,r,i){return Vx(jx(i),t,e,n,r)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Zw()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=kT(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Zw()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=kT(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=hT,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=hT:3==t?e=fT:4==t&&(e=pT);return e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();gT(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=Hx(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,n,r,i,o,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,f=e;f<n;f+=r){var d=t[f]-l,p=t[f+1]-c;u[h++]=l+i*d,u[h++]=c+o*p;for(var v=f+2;v<f+r;++v)u[h++]=t[v]}s&&u.length!=h&&(u.length=h)}(o,0,o.length,a,t,r,i,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,i,o,a){for(var s=a||[],u=0,l=e;l<n;l+=r){s[u++]=t[l]+i,s[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}a&&s.length!=u&&(s.length=u)}(n,0,n.length,r,t,e,n),this.changed()}},e}(bT);function kT(t){var e;return t==hT?e=2:t==fT||t==dT?e=3:t==pT&&(e=4),e}var ET=xT;function ST(t,e,n,r,i,o,a){var s,u=t[e],l=t[e+1],c=t[n]-u,h=t[n+1]-l;if(0===c&&0===h)s=e;else{var f=((i-u)*c+(o-l)*h)/(c*c+h*h);if(f>1)s=n;else{if(f>0){for(var d=0;d<r;++d)a[d]=ck(t[e+d],t[n+d],f);return void(a.length=r)}s=e}}for(d=0;d<r;++d)a[d]=t[s+d];a.length=r}function CT(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],u=t[e+1],l=sk(o,a,s,u);l>i&&(i=l),o=s,a=u}return i}function TT(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=CT(t,e,s,r,i),e=s}return i}function IT(t,e,n,r,i,o,a,s,u,l,c){if(e==n)return l;var h,f;if(0===i){if((f=sk(a,s,t[e],t[e+1]))<l){for(h=0;h<r;++h)u[h]=t[e+h];return u.length=r,f}return l}for(var d=c||[NaN,NaN],p=e+r;p<n;)if(ST(t,p-r,p,r,a,s,d),(f=sk(a,s,d[0],d[1]))<l){for(l=f,h=0;h<r;++h)u[h]=d[h];u.length=r,p+=r}else p+=r*Math.max((Math.sqrt(f)-Math.sqrt(l))/i|0,1);if(o&&(ST(t,n-r,e,r,a,s,d),(f=sk(a,s,d[0],d[1]))<l)){for(l=f,h=0;h<r;++h)u[h]=d[h];u.length=r}return l}function OT(t,e,n,r,i,o,a,s,u,l,c){for(var h=c||[NaN,NaN],f=0,d=n.length;f<d;++f){var p=n[f];l=IT(t,e,p,r,i,o,a,s,u,l,h),e=p}return l}function AT(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function RT(t,e,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=AT(t,e,n[s],r);o[a++]=l,e=l}return o.length=a,o}function PT(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[e,n-r],c=0;l.length>0;){for(var h=l.pop(),f=l.pop(),d=0,p=t[f],v=t[f+1],g=t[h],y=t[h+1],m=f+r;m<h;m+=r){var _=ak(t[m],t[m+1],p,v,g,y);_>d&&(c=m,d=_)}d>i&&(u[(c-e)/r]=1,f+r<c&&l.push(f,c),c+r<h&&l.push(c,h))}for(m=0;m<s;++m)u[m]&&(o[a++]=t[e+m*r],o[a++]=t[e+m*r+1]);return a}function LT(t,e){return e*Math.round(t/e)}function NT(t,e,n,r,i,o,a){if(e==n)return a;var s,u,l=LT(t[e],i),c=LT(t[e+1],i);e+=r,o[a++]=l,o[a++]=c;do{if(s=LT(t[e],i),u=LT(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=u,a}while(s==l&&u==c);for(;e<n;){var h=LT(t[e],i),f=LT(t[e+1],i);if(e+=r,h!=s||f!=u){var d=s-l,p=u-c,v=h-l,g=f-c;d*g==p*v&&(d<0&&v<d||d==v||d>0&&v>d)&&(p<0&&g<p||p==g||p>0&&g>p)?(s=h,u=f):(o[a++]=s,o[a++]=u,l=s,c=u,s=h,u=f)}}return o[a++]=s,o[a++]=u,a}function DT(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=NT(t,e,c,r,i,o,a),s.push(a),e=c}return a}function MT(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function jT(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=MT(t,e,l,r,o[a]),e=l}return o.length=a,o}function FT(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=jT(t,e,l,r,o[a]),e=l[l.length-1]}return o.length=a,o}function zT(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2}function VT(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=zT(t,e,s,r),e=s}return i}var UT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BT=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return UT(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<Ax(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(CT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),IT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return zT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return MT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=PT(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,hT)},e.prototype.getType=function(){return JS},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=AT(this.flatCoordinates,0,t,this.stride),this.changed()},e}(ET),WT=BT,GT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qT=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return GT(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=sk(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,s=0;s<a;++s)n[s]=i[s];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return function(t,e){var n=t[0],r=t[1];return Mx(n,r,n,r,e)}(this.flatCoordinates,t)},e.prototype.getType=function(){return QS},e.prototype.intersectsExtent=function(t){return Lx(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(ET),HT=qT;function KT(t,e,n,r,i){return!Bx(i,(function(i){return!XT(t,e,n,r,i[0],i[1])}))}function XT(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(i-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function YT(t,e,n,r,i,o){if(0===n.length)return!1;if(!XT(t,e,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(XT(t,n[a-1],n[a],r,i,o))return!1;return!0}function ZT(t,e,n,r,i,o,a){for(var s,u,l,c,h,f,d,p=i[o+1],v=[],g=0,y=n.length;g<y;++g){var m=n[g];for(c=t[m-r],f=t[m-r+1],s=e;s<m;s+=r)h=t[s],d=t[s+1],(p<=f&&d<=p||f<=p&&p<=d)&&(l=(p-f)/(d-f)*(h-c)+c,v.push(l)),c=h,f=d}var _=NaN,b=-1/0;for(v.sort(Bw),c=v[0],s=1,u=v.length;s<u;++s){h=v[s];var w=Math.abs(h-c);w>b&&YT(t,e,n,r,l=(c+h)/2,p)&&(_=l,b=w),c=h}return isNaN(_)&&(_=i[o]),a?(a.push(_,p,b),a):[_,p,b]}function QT(t,e,n,r,i){var o=Vx([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!tk(i,o)&&(!!Px(i,o)||(o[0]>=i[0]&&o[2]<=i[2]||(o[1]>=i[1]&&o[3]<=i[3]||function(t,e,n,r,i){var o;for(e+=r;e<n;e+=r)if(o=i(t.slice(e-r,e),t.slice(e,e+r)))return o;return!1}(t,e,n,r,(function(t,e){return function(t,e,n){var r=!1,i=Nx(t,e),o=Nx(t,n);if(i===xx||o===xx)r=!0;else{var a=t[0],s=t[1],u=t[2],l=t[3],c=e[0],h=e[1],f=n[0],d=n[1],p=(d-h)/(f-c),v=void 0,g=void 0;o&kx&&!(i&kx)&&(r=(v=f-(d-l)/p)>=a&&v<=u),r||!(o&Ex)||i&Ex||(r=(g=d-(f-u)*p)>=s&&g<=l),r||!(o&Sx)||i&Sx||(r=(v=f-(d-s)/p)>=a&&v<=u),r||!(o&Cx)||i&Cx||(r=(g=d-(f-a)*p)>=s&&g<=l)}return r}(i,t,e)})))))}function $T(t,e,n,r,i){if(!function(t,e,n,r,i){return!!QT(t,e,n,r,i)||!!XT(t,e,n,r,i[0],i[1])||!!XT(t,e,n,r,i[0],i[3])||!!XT(t,e,n,r,i[2],i[1])||!!XT(t,e,n,r,i[2],i[3])}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(KT(t,n[o-1],n[o],r,i)&&!QT(t,n[o-1],n[o],r,i))return!1;return!0}function JT(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function tI(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return 0===i?void 0:i>0}function eI(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=tI(t,e,u,r);if(0===a){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}function nI(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=tI(t,e,u,r);(0===a?o&&l||!o&&!l:o&&!l||!o&&l)&&JT(t,e,u,r),e=u}return e}var rI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iI=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return rI(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?qw(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<Ax(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(TT(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),OT(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return YT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return VT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?nI(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,jT(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Hx(this.getExtent());this.flatInteriorPoint_=ZT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new HT(this.getFlatInteriorPoint(),dT)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new WT(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new WT(e.slice(i,s),t);r.push(u),i=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;eI(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=nI(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=DT(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,hT,r)},e.prototype.getType=function(){return tC},e.prototype.intersectsExtent=function(t){return $T(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=RT(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(ET),oI=iI;function aI(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new iI(o,hT,[o.length])}var sI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uI=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=Tk({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=VC(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,r.center&&(r.center=ZC(r.center,n.projection_)),r.extent&&(r.extent=$C(r.extent,n.projection_)),n.applyOptions_(r),n}return sI(e,t),e.prototype.applyOptions_=function(t){var e=Tk({},t);for(var n in hC)delete e[n];this.setProperties(e,!0);var r=function(t){var e,n,r,i=28,o=2,a=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:i,u=void 0!==t.zoomFactor?t.zoomFactor:o,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=void 0!==t.showFullExtent&&t.showFullExtent,f=VC(t.projection,"EPSG:3857"),d=f.getExtent(),p=t.constrainOnlyCenter,v=t.extent;l||v||!f.isGlobal()||(p=!1,v=d);if(void 0!==t.resolutions){var g=t.resolutions;n=g[a],r=void 0!==g[s]?g[s]:g[g.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,a,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=n?nT(u,n,a,r):u;if(s)return void 0===e||e?rT(i,c,l):rk(i,l,c);var h=Math.min(c,i),f=Math.floor(Ww(t,h,o));return t[f]>c&&f<t.length-1?t[f+1]:t[f]}}}(g,c,!p&&v,h):iT(n,r,c,!p&&v,h)}else{var y=(d?Math.max(Jx(d),Yx(d)):360*sC[uC.DEGREES]/f.getMetersPerUnit())/fC/Math.pow(o,0),m=y/Math.pow(o,i-0);void 0!==(n=t.maxResolution)?a=0:n=y/Math.pow(u,a),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,s):y/Math.pow(u,s):m),s=a+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,s-a),e=t.constrainResolution?function(t,e,n,r,i,o){return function(a,s,u,l){if(void 0!==a){var c=i?nT(e,i,u,o):e,h=void 0!==n?n:0;if(l)return void 0===r||r?rT(a,c,h):rk(a,h,c);var f=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),d=-s*(.5-1e-9)+.5,p=Math.min(c,a),v=Math.floor(Math.log(e/p)/Math.log(t)+d),g=Math.max(f,v);return rk(e/Math.pow(t,g),h,c)}}}(u,n,r,c,!p&&v,h):iT(n,r,c,!p&&v,h)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:u}}(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;var i=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return tT(t.extent,t.constrainOnlyCenter,e)}var n=VC(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,tT(r,!1,!1)}return eT}(t),o=r.constraint,a=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?function(t){var e=t||uk(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}():!1===e?aT:"number"===typeof e?function(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}(e):aT}return oT}(t);this.constraints_={center:i,resolution:o,rotation:a},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var i=this.getResolution(),o=i/2*(r[3]-e[3]+e[1]-r[1]),a=i/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+o,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Tk({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=Tk({},r)).center=ZC(r.center,this.getProjection())),r.anchor&&((r=Tk({},r)).anchor=ZC(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var r=0;r<n&&!this.isDef();++r){var i=arguments[r];i.center&&this.setCenterInternal(i.center),void 0!==i.zoom?this.setZoom(i.zoom):i.resolution&&this.setResolution(i.resolution),void 0!==i.rotation&&this.setRotation(i.rotation)}if(r!==n){for(var o=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,u=this.targetRotation_,l=[];r<n;++r){var c=arguments[r],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||lT,callback:e};if(c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(c.zoom),s=h.targetResolution):c.resolution&&(h.sourceResolution=s,h.targetResolution=c.resolution,s=h.targetResolution),void 0!==c.rotation){h.sourceRotation=u;var f=lk(c.rotation-u+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=u+f,u=h.targetRotation}cI(h)?h.complete=!0:o+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(lC,1),this.updateAnimations_()}else e&&lI(e,!0)},e.prototype.getAnimating=function(){return this.hints_[lC]>0},e.prototype.getInteracting=function(){return this.hints_[cC]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(lC,-this.hints_[lC]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&lI(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var u=t-s.start,l=s.duration>0?u/s.duration:1;l>=1?(s.complete=!0,l=1):i=!1;var c=s.easing(l);if(s.sourceCenter){var h=s.sourceCenter[0],f=s.sourceCenter[1],d=s.targetCenter[0],p=s.targetCenter[1];this.nextCenter_=s.targetCenter;var v=h+c*(d-h),g=f+c*(p-f);this.targetCenter_=[v,g]}if(s.sourceResolution&&s.targetResolution){var y=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var m=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(y,0,m,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===c?lk(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var w=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(w,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(lC,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var x=r[0].callback;x&&lI(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r,i,o=this.getCenterInternal();return void 0!==o&&(EE(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),i=e,(r=n)[0]+=+i[0],r[1]+=+i[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]);return n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?YC(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(hC.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return QC(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();cx(n,1);var r=this.getResolution();cx(void 0!==r,2);var i=this.getRotation();return cx(void 0!==i,3),Xx(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(hC.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal($C(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),r=Jx(t)/n[0],i=Yx(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(hC.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),i=this.padding_;if(i){var o=this.getViewportSizeMinusPadding_();r=hI(r,this.getViewportSize_(),[o[0]/2+i[3],o[1]/2+i[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=Ww(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=rk(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,rk(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(cx(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t))cx(!ek(t),25),n=aI(r=$C(t,this.getProjection()));else if(t.getType()===oC){var r;(n=aI(r=$C(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),Hx(r))}else{var i=XC();n=i?t.clone().transform(i,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),i=t.getFlatCoordinates(),o=t.getStride(),a=1/0,s=1/0,u=-1/0,l=-1/0,c=0,h=i.length;c<h;c+=o){var f=i[c]*n-i[c+1]*r,d=i[c]*r+i[c+1]*n;a=Math.min(a,f),s=Math.min(s,d),u=Math.max(u,f),l=Math.max(l,d)}return[a,s,u,l]},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var i,o=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),u=this.getResolutionForExtentInternal(s,[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);u=isNaN(u)?i:Math.max(u,i),u=this.getConstrainedResolution(u,a?0:1);var l=this.getRotation(),c=Math.sin(l),h=Math.cos(l),f=Hx(s);f[0]+=(o[1]-o[3])/2*u,f[1]+=(o[0]-o[2])/2*u;var d=f[0]*h-f[1]*c,p=f[1]*h+f[0]*c,v=this.getConstrainedCenter([d,p],u),g=n.callback?n.callback:Yw;void 0!==n.duration?this.animateInternal({resolution:u,center:v,duration:n.duration,easing:n.easing},g):(this.targetResolution_=u,this.targetCenter_=v,this.applyTargetState_(!1,!0),lI(g,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(ZC(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(hI(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var i,o=this.padding_;if(o&&t){var a=this.getViewportSizeMinusPadding_(-n),s=hI(t,r,[a[0]/2+o[3],a[1]/2+o[0]],e,n);i=[t[0]-s[0],t[1]-s[1]]}return i},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=YC(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&ZC(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=ZC(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(ZC(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n,this.calculateCenterShift(this.targetCenter_,o,r,i));this.get(hC.ROTATION)!==r&&this.set(hC.ROTATION,r),this.get(hC.RESOLUTION)!==o&&(this.set(hC.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(hC.CENTER)&&kE(this.get(hC.CENTER),a)||this.set(hC.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),u=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,o,a));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();var l=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&kE(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:s,duration:r,easing:uT,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(cC,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&ZC(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(cC,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(Jk);function lI(t,e){setTimeout((function(){t(e)}),0)}function cI(t){return!(t.sourceCenter&&t.targetCenter&&!kE(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function hI(t,e,n,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=t[0]*o-t[1]*a,u=t[1]*o+t[0]*a;return[(s+=(e[0]/2-n[0])*r)*o-(u+=(n[1]-e[1]/2)*r)*(a=-a),u*o+s*a]}var fI=uI;function dI(t){return t[0]>0&&t[1]>0}function pI(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var vI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function gI(t){t instanceof xE?t.setMapInternal(null):t instanceof wS&&t.getLayers().forEach(gI)}function yI(t,e){if(t instanceof xE)t.setMapInternal(e);else if(t instanceof wS)for(var n=t.getLayers().getArray(),r=0,i=n.length;r<i;++r)yI(n[r],e)}var mI=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,o={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new wS({layers:t.layers});o[jS]=a,o[zS]=t.target,o[VS]=t.view instanceof fI?t.view:new fI,void 0!==t.controls&&(Array.isArray(t.controls)?n=new gS(t.controls.slice()):(cx("function"===typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new gS(t.interactions.slice()):(cx("function"===typeof t.interactions.getArray,48),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?i=new gS(t.overlays.slice()):(cx("function"===typeof t.overlays.getArray,49),i=t.overlays):i=new gS;return{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:o}}(e);n.renderComplete_,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ix,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=r.controls||new gS,n.interactions=r.interactions||new gS,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new ZS(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(jS,n.handleLayerGroupChanged_),n.addChangeListener(VS,n.handleViewChanged_),n.addChangeListener(FS,n.handleSizeChanged_),n.addChangeListener(zS,n.handleTargetChanged_),n.setProperties(r.values);var i=n;return!e.view||e.view instanceof fI||e.view.then((function(t){i.setView(new fI(t))})),n.controls.addEventListener(cS,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(hS,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(cS,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(hS,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(cS,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(hS,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return vI(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.handleLayerAdd_=function(t){yI(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:Kw,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];return function e(n){n.forEach((function(n){n instanceof wS?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{},i=void 0!==r.hitTolerance?r.hitTolerance:0,o=r.layerFilter||Kw;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Kw,i=void 0!==e.hitTolerance?e.hitTolerance:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(zS)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return YC(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?dx(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(jS)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof gS)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=ZC(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?dx(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(FS)},e.prototype.getView=function(){return this.get(VS)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,i){if(!t||!(n in t.wantedTiles))return US;if(!t.wantedTiles[n][e.getKey()])return US;var o=t.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new TS(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===AS||n===Gk||n===zk){var r=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=e.target;if(this.overlayContainerStopEvent_.contains(o)||!(i===r?r.documentElement:i).contains(o))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var u=a[s];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(t)||t.propagationStopped)break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[lC]||i[cC]){var o=Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}t&&this.hasListener(gE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(gE,t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)Kk(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Mk,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Gk,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,UE(this.viewport_)}var n=this.getTargetElement();if(n){for(var r in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new LS(this,this.moveTolerance_),IS)this.mapBrowserEventHandler_.addEventListener(IS[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Mk,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Gk,this.boundHandleBrowserEvent_,!!sx&&{passive:!1});var i=this.getOwnerDocument().defaultView,o=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[qk(o,zk,this.handleBrowserEvent,this),qk(o,Vk,this.handleBrowserEvent,this),qk(i,Bk,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Kk(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Kk(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=qk(t,Ck,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=qk(t,Nk,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Kk),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new mS("addlayer",t)),this.layerGroupPropertyListenerKeys_=[qk(t,Ck,this.render,this),qk(t,Nk,this.render,this),qk(t,"addlayer",this.handleLayerAdd_,this),qk(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.handleLayerRemove_=function(t){gI(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),i=this.frameState_,o=null;if(void 0!==n&&dI(n)&&r&&r.isDef()){var a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=r.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Xx(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:$w(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var u=isNaN(s.nextRotation)?s.rotation:s.nextRotation;o.nextExtent=Xx(s.nextCenter,s.nextResolution,u,n)}}if(this.frameState_=o,this.renderer_.renderFrame(o),o){if(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),i)(!this.previousExtent_||!ek(this.previousExtent_)&&!Fx(o.extent,this.previousExtent_))&&(this.dispatchEvent(new ES(DS,this,i)),this.previousExtent_=jx(this.previousExtent_));this.previousExtent_&&!o.viewHints[lC]&&!o.viewHints[cC]&&!Fx(o.extent,this.previousExtent_)&&(this.dispatchEvent(new ES(MS,this,o)),Ox(o.extent,this.previousExtent_))}this.dispatchEvent(new ES(NS,this,o)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new mS("removelayer",e)),this.set(jS,t)},e.prototype.setSize=function(t){this.set(FS,t)},e.prototype.setTarget=function(t){this.set(zS,t)},e.prototype.setView=function(t){if(!t||t instanceof fI)this.set(VS,t);else{this.set(VS,new fI);var e=this;t.then((function(t){e.setView(new fI(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),i=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(i)||!dI(e=[r,i])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(Jk);var _I=mI,bI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wI=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return bI(e,t),e.prototype.disposeInternal=function(){UE(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&UE(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Kk(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Yw&&this.listenerKeys.push(qk(t,NS,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(Jk),xI=wI,kI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EI=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",o=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.expandClassName?r.expandClassName:i+"-expand",s=void 0!==r.collapseLabel?r.collapseLabel:"\u203a",u=void 0!==r.collapseClassName?r.collapseClassName:i+"-collpase";"string"===typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=u):n.collapseLabel_=s;var l=void 0!==r.label?r.label:"i";"string"===typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l,n.label_.className=a):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=o,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener(jk,n.handleClick_.bind(n),!1);var h=i+" "+"ol-unselectable "+LE+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),f=n.element;return f.className=h,f.appendChild(n.toggleButton_),f.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return kI(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,i=t.layerStatesArray,o=0,a=i.length;o<a;++o){var s=i[o];if(wE(s,t.viewState)){var u=s.layer.getSource();if(u){var l=u.getAttributions();if(l){var c=l(t);if(c)if(r=r&&!1!==u.getAttributionsCollapsible(),Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Hw(e,this.renderedAttributions_)){!function(t){for(;t.lastChild;)t.removeChild(t.lastChild)}(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement("li");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(NE),this.collapsed_?VE(this.collapseLabel_,this.label_):VE(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(xI),SI=EI,CI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),TI=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"\u21e7",a=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"===typeof o?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=o):(n.label_=o,n.label_.classList.add(a));var s=r.tipLabel?r.tipLabel:"Reset rotation",u=document.createElement("button");u.className=i+"-reset",u.setAttribute("type","button"),u.title=s,u.appendChild(n.label_),u.addEventListener(jk,n.handleClick_.bind(n),!1);var l=i+" "+"ol-unselectable "+LE,c=n.element;return c.className=l,c.appendChild(u),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(PE),n}return CI(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:uT}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(PE);i||0!==n?i&&0!==n&&this.element.classList.remove(PE):this.element.classList.add(PE)}this.label_.style.transform=r}this.rotation_=n}},e}(xI),II=TI,OI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AI=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",o=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInClassName?r.zoomInClassName:i+"-in",s=void 0!==r.zoomOutClassName?r.zoomOutClassName:i+"-out",u=void 0!==r.zoomInLabel?r.zoomInLabel:"+",l=void 0!==r.zoomOutLabel?r.zoomOutLabel:"\u2013",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=a,f.setAttribute("type","button"),f.title=c,f.appendChild("string"===typeof u?document.createTextNode(u):u),f.addEventListener(jk,n.handleClick_.bind(n,o),!1);var d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=h,d.appendChild("string"===typeof l?document.createTextNode(l):l),d.addEventListener(jk,n.handleClick_.bind(n,-o),!1);var p=i+" "+"ol-unselectable "+LE,v=n.element;return v.className=p,v.appendChild(f),v.appendChild(d),n.duration_=void 0!==r.duration?r.duration:250,n}return OI(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:uT})):e.setZoom(r)}}},e}(xI),RI=AI;function PI(t){var e=t||{},n=new gS;return(void 0===e.zoom||e.zoom)&&n.push(new RI(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new II(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new SI(e.attributionOptions)),n}var LI="active",NI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DI=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return NI(e,t),e.prototype.getActive=function(){return this.get(LI)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(LI,t)},e.prototype.setMap=function(t){this.map_=t},e}(Jk);function MI(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:uT})}}var jI=DI,FI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zI=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return FI(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==IS.DBLCLICK){var n=t.originalEvent,r=t.map,i=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;MI(r.getView(),o,i,this.duration_),n.preventDefault(),e=!0}return!e},e}(jI),VI=zI,UI=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BI=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return UI(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==IS.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==IS.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==IS.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==IS.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===IS.POINTERDOWN||e===IS.POINTERDRAG||e===IS.POINTERUP}(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==IS.POINTERUP?delete this.trackedPointers_[n]:(t.type==IS.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Ok(this.trackedPointers_)}},e}(jI);function WI(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}var GI=BI;function qI(t){var e=arguments;return function(t){for(var n=!0,r=0,i=e.length;r<i&&(n=n&&e[r](t));++r);return n}}var HI=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},KI=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},XI=Kw,YI=function(t){var e=t.originalEvent;return 0==e.button&&!(nx&&rx&&e.ctrlKey)},ZI=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},QI=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},$I=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},JI=function(t){var e=t.originalEvent;return cx(void 0!==e,56),"mouse"==e.pointerType},tO=function(t){var e=t.originalEvent;return cx(void 0!==e,56),e.isPrimary&&0===e.button},eO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nO=function(t){function e(e){var n=t.call(this,{stopDown:Xw})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var i=r.condition?r.condition:qI(ZI,tO);return n.condition_=r.onFocusOnly?qI(KI,i):i,n.noKinetic_=!1,n}return eO(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=WI(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();!function(t,e){t[0]*=e,t[1]*=e}(r,i.getResolution()),EE(r,i.getRotation()),i.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:uT})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(GI),rO=nO,iO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oO=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:Xw})||this).condition_=r.condition?r.condition:HI,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return iO(e,t),e.prototype.handleDragEvent=function(t){if(JI(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==oT){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!JI(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!JI(t)&&(!(!YI(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(GI),aO=oO,sO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uO=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return sO(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new oI([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Uw),lO=uO,cO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hO="boxstart",fO="boxdrag",dO="boxend",pO="boxcancel",vO=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return cO(e,t),e}(Sk),gO=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=e||{};return n.box_=new lO(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:YI,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return cO(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new vO(fO,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new vO(e?dO:pO,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new vO(hO,t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(GI),yO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mO=function(t){function e(e){var n=this,r=e||{},i=r.condition?r.condition:QI;return(n=t.call(this,{condition:i,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return yO(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var r=e.rotatedExtentForGeometry(n),i=e.getResolutionForExtentInternal(r),o=e.getResolution()/i;(n=n.clone()).scale(o*o)}e.fitInternal(n,{duration:this.duration_,easing:uT})},e}(gO),_O=37,bO=38,wO=39,xO=40,kO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EO=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return ZI(t)&&$I(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return kO(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==zk){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(r==xO||r==_O||r==wO||r==bO)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,a=0,s=0;r==xO?s=-o:r==_O?a=-o:r==wO?a=o:s=o;var u=[a,s];EE(u,i.getRotation()),function(t,e,n){var r=t.getCenterInternal();if(r){var i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:cT,center:t.getConstrainedCenter(i)})}}(i,u,this.duration_),n.preventDefault(),e=!0}}return!e},e}(jI),SO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),CO=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:$I,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return SO(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==zk||t.type==Vk){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map,o=r=="+".charCodeAt(0)?this.delta_:-this.delta_;MI(i.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(jI),TO=CO,IO=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),OO=IO,AO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),RO="trackpad",PO="wheel",LO=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var i=r.condition?r.condition:XI;return n.condition_=r.onFocusOnly?qI(KI,i):i,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return AO(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==Gk)return!0;var e,n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==Gk&&(e=r.deltaY,ex&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=ix),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?RO:PO);var o=n.getView();if(this.mode_===RO&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-rk(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),MI(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(jI),NO=LO,DO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),MO=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=Xw),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return DO(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==oT){var u=a.getViewport().getBoundingClientRect(),l=WI(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(l),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(GI),jO=MO,FO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zO=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=Xw),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return FO(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView();1!=e&&(this.lastScaleDelta_=e);var l=s.getViewport().getBoundingClientRect(),c=WI(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),u.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(GI),VO=zO;var UO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),BO=function(t){function e(e){return(e=Tk({},e)).controls||(e.controls=PI()),e.interactions||(e.interactions=function(t){var e=t||{},n=new gS,r=new OO(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new aO),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new VI({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new rO({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new jO),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new VO({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new EO),n.push(new TO({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new NO({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new mO({duration:e.zoomDuration})),n}({onFocusOnly:!0})),t.call(this,e)||this}return UO(e,t),e.prototype.createRenderer=function(){return new lS(this)},e}(_I),WO="preload",GO="useInterimTilesOnError",qO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HO=function(t){function e(e){var n=this,r=e||{},i=Tk({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).on,n.once,n.un,n.setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return qO(e,t),e.prototype.getPreload=function(){return this.get(WO)},e.prototype.setPreload=function(t){this.set(WO,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(GO)},e.prototype.setUseInterimTilesOnError=function(t){this.set(GO,t)},e}(xE),KO=0,XO=1,YO=2,ZO=3,QO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$O=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return QO(e,t),e.prototype.getFeatures=function(t){return Zw()},e.prototype.prepareFrame=function(t){return Zw()},e.prototype.renderFrame=function(t,e){return Zw()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===YO&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=YO&&e!=ZO&&t.addEventListener(Nk,this.boundHandleImageChange_),e==KO&&(t.load(),e=t.getState()),e==YO},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==mE&&t.changed()},e}(Zk),JO=$O,tA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eA=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n}return tA(e,t),e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"===typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,n,r){var i,o,a=this.getLayer().getClassName();t&&t.className===a&&""===t.style.opacity&&1===n&&(!r||t.style.backgroundColor&&Hw(_k(t.style.backgroundColor),_k(r)))&&((u=t.firstElementChild)instanceof HTMLCanvasElement&&(o=u.getContext("2d")));if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(i=document.createElement("div")).className=a;var s=i.style;s.position="absolute",s.width="100%",s.height="100%",r&&(s.backgroundColor=r);var u=(o=zE()).canvas;i.appendChild(u),(s=u.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=o}},e.prototype.clipUnrotated=function(t,e,n){var r=Qx(n),i=$x(n),o=qx(n),a=Gx(n);dx(e.coordinateToPixelTransform,r),dx(e.coordinateToPixelTransform,i),dx(e.coordinateToPixelTransform,o),dx(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;dx(s,r),dx(s,i),dx(s,o),dx(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new RE(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(fE,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(dE,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=i/2,u=o/2,l=r/e,c=-l,h=-t[0]+a,f=-t[1];return px(this.tempTransform,s,u,l,c,-n,h,f)},e.prototype.getDataAtPixel=function(t,e,n){var r=dx(this.inversePixelTransform,t.slice()),i=this.context,o=this.getLayer().getExtent();if(o&&!Rx(o,dx(e.pixelToCoordinateTransform,t.slice())))return null;var a,s=Math.round(r[0]),u=Math.round(r[1]),l=this.pixelContext_;if(!l){var c=document.createElement("canvas");c.width=1,c.height=1,l=c.getContext("2d"),this.pixelContext_=l}l.clearRect(0,0,1,1);try{l.drawImage(i.canvas,s,u,1,1,0,0,1,1),a=l.getImageData(0,0,1,1).data}catch(h){return"SecurityError"===h.name?(this.pixelContext_=null,new Uint8Array):a}return 0===a[3]?null:a},e}(JO),nA=eA,rA=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function iA(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new rA(t,e,n,r)}var oA=rA,aA={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},sA={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},uA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lA=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new oA(0,0,0,0),n}return uA(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==qS||n==KS||n==HS&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,i,o);return s.getState()==HS&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(qS)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,a=r.center,s=r.rotation,u=t.pixelRatio,l=this.getLayer(),c=l.getSource(),h=c.getRevision(),f=c.getTileGridForProjection(i),d=f.getZForResolution(o,c.zDirection),p=f.getResolution(d),v=t.extent,g=n.extent&&$C(n.extent,i);g&&(v=Zx(v,$C(n.extent,i)));var y=c.getTilePixelRatio(u),m=Math.round(t.size[0]*y),_=Math.round(t.size[1]*y);if(s){var b=Math.round(Math.sqrt(m*m+_*_));m=b,_=b}var w=p*m/2/y,x=p*_/2/y,k=[a[0]-w,a[1]-x,a[0]+w,a[1]+x],E=f.getTileRangeForExtentAndZ(v,d),S={};S[d]={};var C=this.createLoadedTileFinder(c,i,S),T=this.tmpExtent,I=this.tmpTileRange_;this.newTiles_=!1;for(var O=E.minX;O<=E.maxX;++O)for(var A=E.minY;A<=E.maxY;++A){var R=this.getTile(d,O,A,t);if(this.isDrawableTile(R)){var P=$w(this);if(R.getState()==qS){S[d][R.tileCoord.toString()]=R;var L=R.inTransition(P);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(R)||(this.newTiles_=!0)}if(1===R.getAlpha(P,t.time))continue}var N=f.getTileCoordChildTileRange(R.tileCoord,I,T),D=!1;N&&(D=C(d+1,N)),D||f.forEachTileCoordParentTileRange(R.tileCoord,C,I,T)}var M=p/o;px(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,s,-m/2,-_/2);var j=gx(this.pixelTransform);this.useContainer(e,j,n.opacity,this.getBackground(t));var F=this.context,z=F.canvas;vx(this.inversePixelTransform,this.pixelTransform),px(this.tempTransform,m/2,_/2,M,M,0,-m/2,-_/2),z.width!=m||z.height!=_?(z.width=m,z.height=_):this.containerReused||F.clearRect(0,0,m,_),g&&this.clipUnrotated(F,t,g),c.getInterpolate()||Tk(F,aA),this.preRender(F,t),this.renderedTiles.length=0;var V,U,B,W=Object.keys(S).map(Number);W.sort(Bw),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(V=[],U=[]):W=W.reverse();for(var G=W.length-1;G>=0;--G){var q=W[G],H=c.getTilePixelSize(q,u,i),K=f.getResolution(q)/p,X=H[0]*K*M,Y=H[1]*K*M,Z=f.getTileCoordForCoordAndZ(Qx(k),q),Q=f.getTileCoordExtent(Z),$=dx(this.tempTransform,[y*(Q[0]-k[0])/p,y*(k[3]-Q[3])/p]),J=y*c.getGutterForProjection(i),tt=S[q];for(var et in tt){var nt=(R=tt[et]).tileCoord,rt=Z[1]-nt[1],it=Math.round($[0]-(rt-1)*X),ot=Z[2]-nt[2],at=Math.round($[1]-(ot-1)*Y),st=it-(O=Math.round($[0]-rt*X)),ut=at-(A=Math.round($[1]-ot*Y)),lt=d===q;if(!(L=lt&&1!==R.getAlpha($w(this),t.time)))if(V){F.save(),B=[O,A,O+st,A,O+st,A+ut,O,A+ut];for(var ct=0,ht=V.length;ct<ht;++ct)if(d!==q&&q<U[ct]){var ft=V[ct];F.beginPath(),F.moveTo(B[0],B[1]),F.lineTo(B[2],B[3]),F.lineTo(B[4],B[5]),F.lineTo(B[6],B[7]),F.moveTo(ft[6],ft[7]),F.lineTo(ft[4],ft[5]),F.lineTo(ft[2],ft[3]),F.lineTo(ft[0],ft[1]),F.clip()}V.push(B),U.push(q)}else F.clearRect(O,A,st,ut);this.drawTileImage(R,t,O,A,st,ut,J,lt),V&&!L?(F.restore(),this.renderedTiles.unshift(R)):this.renderedTiles.push(R),this.updateUsedTiles(t.usedTiles,c,R)}}this.renderedRevision=h,this.renderedResolution=p,this.extentChanged=!this.renderedExtent_||!Fx(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=u,this.renderedProjection=i,this.manageTilePyramid(t,c,f,u,i,v,d,l.getPreload()),this.scheduleExpireCache(t,c),this.postRender(F,t),n.extent&&F.restore(),Tk(F,sA),j!==z.style.transform&&(z.style.transform=j);var dt=FE(n.opacity),pt=this.container;return dt!==pt.style.opacity&&(pt.style.opacity=dt),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,a,s){var u=this.getTileImage(t);if(u){var l=$w(this),c=s?t.getAlpha(l,e.time):1,h=c!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,r,i,o),h&&this.context.restore(),1!==c?e.animate=!0:s&&t.endTransition(l)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=$w(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=$w(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,u){var l=$w(e);l in t.wantedTiles||(t.wantedTiles[l]={});var c,h,f,d,p,v,g=t.wantedTiles[l],y=t.tileQueue,m=0;for(v=n.getMinZoom();v<=a;++v)for(h=n.getTileRangeForExtentAndZ(o,v,h),f=n.getResolution(v),d=h.minX;d<=h.maxX;++d)for(p=h.minY;p<=h.maxY;++p)a-v<=s?(++m,(c=e.getTile(v,d,p,r,i)).getState()==WS&&(g[c.getKey()]=!0,y.isKeyQueued(c.getKey())||y.enqueue([c,l,n.getTileCoordCenter(c.tileCoord),f])),void 0!==u&&u(c)):e.useTile(v,d,p,i);e.updateCacheSize(m,i)},e}(nA);lA.prototype.getLayer;var cA=lA,hA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fA=function(t){function e(e){return t.call(this,e)||this}return hA(e,t),e.prototype.createRenderer=function(){return new cA(this)},e}(HO),dA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pA=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i.interpolate=!!o.interpolate,i}return dA(e,t),e.prototype.changed=function(){this.dispatchEvent(Nk)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==qS)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==qS){t.interimTile=null;break}t.getState()==GS?e=t:t.getState()==WS?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==HS&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Zw()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:sT(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Lk),vA=pA,gA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yA=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return gA(e,t),e.prototype.changed=function(){this.dispatchEvent(Nk)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Zw()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Zw()},e}(Lk),mA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,r,KO)||this;return s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.state=KO,s.imageLoadFunction_=a,s}mA(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ZO,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Yx(this.extent)/this.image_.height),this.state=YO,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=KO&&this.state!=ZO||(this.state=XO,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=_A(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=Yx(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(yA);function _A(t,e,n){var r=t,i=!0,o=!1,a=!1,s=[Hk(r,Uk,(function(){a=!0,o||e()}))];return r.src&&ax?(o=!0,r.decode().then((function(){i&&e()})).catch((function(t){i&&(a?e():n())}))):s.push(Hk(r,Dk,n)),function(){i=!1,s.forEach(Kk)}}var bA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var wA,xA=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=i,s.src_=r,s.key=r,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return bA(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=qS,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=HS,this.unlistenImage_(),this.image_=function(){var t=zE(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=qS:this.state=KS,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==HS&&(this.state=WS,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==WS&&(this.state=GS,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=_A(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(vA),kA=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=GC(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Jx(r)==Jx(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Jx(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Jx(this.targetProj_.getExtent()):null;var u=Qx(n),l=$x(n),c=qx(n),h=Gx(n),f=this.transformInv_(u),d=this.transformInv_(l),p=this.transformInv_(c),v=this.transformInv_(h),g=10+(o?Math.max(0,Math.ceil(ok(Wx(n)/(o*o*256*256)))):0);if(this.addQuad_(u,l,c,h,f,d,p,v,g),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,a,s,u){var l=Tx([i,o,a,s]),c=this.sourceWorldWidth_?Jx(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,d=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)d=Jx(Tx([t,e,n,r]))/this.targetWorldWidth_>.25||d;!f&&this.sourceProj_.isGlobal()&&c&&(d=c>.25||d)}if(!(!d&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||tk(l,this.maxSourceExtent_)){var p=0;if(!d&&(!isFinite(i[0])||!isFinite(i[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])))if(u>0)d=!0;else if(1!=(p=(isFinite(i[0])&&isFinite(i[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=p&&4!=p&&8!=p)return;if(u>0){if(!d){var v=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(v),y=void 0;if(f)y=(lk(i[0],h)+lk(a[0],h))/2-lk(g[0],h);else y=(i[0]+a[0])/2-g[0];var m=(i[1]+a[1])/2-g[1];d=y*y+m*m>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],b=this.transformInv_(_),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],x=this.transformInv_(w);this.addQuad_(t,e,_,w,i,o,b,x,u-1),this.addQuad_(w,_,n,r,x,b,a,s,u-1)}else{var k=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(k),S=[(n[0]+r[0])/2,(n[1]+r[1])/2],C=this.transformInv_(S);this.addQuad_(t,k,S,r,i,E,C,s,u-1),this.addQuad_(k,e,n,S,E,o,a,C,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(t,n,r,i,a,s),0==(14&p)&&this.addTriangle_(t,n,e,i,a,o),p&&(0==(13&p)&&this.addTriangle_(e,r,t,o,s,i),0==(7&p)&&this.addTriangle_(e,r,n,o,s,a))}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(e,n,r){var i=e.source;zx(t,i[0]),zx(t,i[1]),zx(t,i[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),EA=kA;function SA(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function CA(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function TA(t,e,n,r){var i=qC(n,e,t),o=FC(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||Rx(u,i)){var l=FC(t,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o}function IA(t,e,n,r,i,o,a,s,u,l,c,h){var f=zE(Math.round(n*t),Math.round(n*e));if(h||Tk(f,aA),0===u.length)return f.canvas;function d(t){return Math.round(t*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";var p=[1/0,1/0,-1/0,-1/0];u.forEach((function(t,e,n){var r,i;r=p,(i=t.extent)[0]<r[0]&&(r[0]=i[0]),i[2]>r[2]&&(r[2]=i[2]),i[1]<r[1]&&(r[1]=i[1]),i[3]>r[3]&&(r[3]=i[3])}));var v=Jx(p),g=Yx(p),y=zE(Math.round(n*v/r),Math.round(n*g/r));h||Tk(y,aA);var m=n/r;u.forEach((function(t,e,n){var r=t.extent[0]-p[0],i=-(t.extent[3]-p[3]),o=Jx(t.extent),a=Yx(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,r*m,i*m,o*m,a*m)}));var _=Qx(a);return s.getTriangles().forEach((function(t,e,i){var a=t.source,s=t.target,u=a[0][0],l=a[0][1],c=a[1][0],v=a[1][1],g=a[2][0],m=a[2][1],b=d((s[0][0]-_[0])/o),w=d(-(s[0][1]-_[1])/o),x=d((s[1][0]-_[0])/o),k=d(-(s[1][1]-_[1])/o),E=d((s[2][0]-_[0])/o),S=d(-(s[2][1]-_[1])/o),C=u,T=l;u=0,l=0;var I=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var d=f-1;d>=0;d--)t[d][e]-=t[d][f]*h[f]}return h}([[c-=C,v-=T,0,0,x-b],[g-=C,m-=T,0,0,E-b],[0,0,c,v,k-w],[0,0,g,m,S-w]]);if(I){if(f.save(),f.beginPath(),function(){if(void 0===wA){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",SA(t,4,5,4,0),SA(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;wA=CA(e,0)||CA(e,4)||CA(e,8)}return wA}()||!h){f.moveTo(x,k);for(var O=b-x,A=w-k,R=0;R<4;R++)f.lineTo(x+d((R+1)*O/4),k+d(R*A/3)),3!=R&&f.lineTo(x+d((R+1)*O/4),k+d((R+1)*A/3));f.lineTo(E,S)}else f.moveTo(x,k),f.lineTo(b,w),f.lineTo(E,S);f.clip(),f.transform(I[0],I[2],I[1],I[3],b,w),f.translate(p[0]-C,p[3]-T),f.scale(r/n,-r/n),f.drawImage(y.canvas,0,0),f.restore()}})),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-_[0])/o,a=-(r[0][1]-_[1])/o,s=(r[1][0]-_[0])/o,u=-(r[1][1]-_[1])/o,l=(r[2][0]-_[0])/o,c=-(r[2][1]-_[1])/o;f.beginPath(),f.moveTo(s,u),f.lineTo(i,a),f.lineTo(l,c),f.closePath(),f.stroke()})),f.restore()),f.canvas}var OA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AA=function(t){function e(e,n,r,i,o,a,s,u,l,c,h,f){var d=t.call(this,o,WS,{interpolate:!!f})||this;d.renderEdges_=void 0!==h&&h,d.pixelRatio_=s,d.gutter_=u,d.canvas_=null,d.sourceTileGrid_=n,d.targetTileGrid_=i,d.wrappedTileCoord_=a||o,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var p=i.getTileCoordExtent(d.wrappedTileCoord_),v=d.targetTileGrid_.getExtent(),g=d.sourceTileGrid_.getExtent(),y=v?Zx(p,v):p;if(0===Wx(y))return d.state=KS,d;var m=e.getExtent();m&&(g=g?Zx(g,m):m);var _=i.getResolution(d.wrappedTileCoord_[0]),b=function(t,e,n,r){var i=Hx(n),o=TA(t,e,i,r);return(!isFinite(o)||o<=0)&&Bx(n,(function(n){return o=TA(t,e,n,r),isFinite(o)&&o>0})),o}(e,r,y,_);if(!isFinite(b)||b<=0)return d.state=KS,d;var w=void 0!==c?c:.5;if(d.triangulation_=new EA(e,r,y,g,b*w,_),0===d.triangulation_.getTriangles().length)return d.state=KS,d;d.sourceZ_=n.getZForResolution(b);var x=d.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(x[1]=rk(x[1],g[1],g[3]),x[3]=rk(x[3],g[1],g[3])):x=Zx(x,g)),Wx(x)){for(var k=n.getTileRangeForExtentAndZ(x,d.sourceZ_),E=k.minX;E<=k.maxX;E++)for(var S=k.minY;S<=k.maxY;S++){var C=l(d.sourceZ_,E,S,s);C&&d.sourceTiles_.push(C)}0===d.sourceTiles_.length&&(d.state=KS)}else d.state=KS;return d}return OA(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==qS&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=HS;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"===typeof n?n:n[0],i="number"===typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=IA(r,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=qS}this.changed()},e.prototype.load=function(){if(this.state==WS){this.state=GS,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var i=e.getState();if(i==WS||i==GS){t++;var o=qk(e,Nk,(function(n){var r=e.getState();r!=qS&&r!=HS&&r!=KS||(Kk(o),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){t.getState()==WS&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Kk),this.sourcesListenerKeys_=null},e}(vA),RA=AA,PA=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return cx(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return cx(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){cx(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function LA(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function NA(t,e,n){return t+"/"+e+"/"+n}function DA(t){return NA(t[0],t[1],t[2])}var MA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return MA(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey()),e=t[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(DA(t.tileCoord)),t.release())}.bind(this))}},e}(PA),FA=jA,zA="tileloadstart",VA="tileloadend",UA="tileloaderror",BA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function WA(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}var GA=function(t){function e(e){var n=t.call(this)||this;n.projection=jC(e.projection),n.attributions_=WA(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:mE,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var r=n;return n.viewPromise_=new Promise((function(t,e){r.viewResolver=t,r.viewRejector=e})),n}return BA(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Zw()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=WA(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Jk),qA=[0,0,0],HA=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,cx(function(t,e,n){var r=e||Bw;return t.every((function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)}))}(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,cx(this.origins_.length==this.resolutions_.length,20));var i=t.extent;void 0===i||this.origin_||this.origins_||(this.origin_=Qx(i)),cx(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,cx(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:fC,cx(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==i?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new oA(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(i){var r=this.getTileRangeForExtentAndZ(i,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):i&&this.calculateTileRanges_(i)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,o,a=null,s=t[0]-1;for(2===this.zoomFactor_?(i=t[1],o=t[2]):a=this.getTileCoordExtent(t,r);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?iA(i=Math.floor(i/2),i,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return iA(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var r=t[0],i=t[1],o=t[2];if(e===r)return iA(i,o,i,o,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-r),s=Math.floor(i*a),u=Math.floor(o*a);return e<r?iA(s,s,u,u,n):iA(s,Math.floor(a*(i+1))-1,u,Math.floor(a*(o+1))-1,n)}var l=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=pI(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*o[0]*i,s=r[0]+(e.maxX+1)*o[0]*i;return Mx(a,r[1]+e.minY*o[1]*i,s,r[1]+(e.maxY+1)*o[1]*i,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=qA;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),iA(i,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=pI(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=pI(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]-(t[2]+1)*i[1]*r;return Mx(o,a,o+i[0]*r,a+i[1]*r,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=pI(this.getTileSize(o),this.tmpSize_),l=a*(t-s[0])/n/u[0],c=a*(s[1]-e)/n/u[1];return r?(l=dk(l,5)-1,c=dk(c,5)-1):(l=fk(l,5),c=fk(c,5)),LA(o,l,c,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=pI(this.getTileSize(n),this.tmpSize_),u=(t-o[0])/a/s[0],l=(o[1]-e)/a/s[1];return r?(u=dk(u,5)-1,l=dk(l,5)-1):(u=fk(u,5),l=fk(l,5)),LA(n,u,l,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){return rk(Ww(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}(),KA=HA;function XA(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){var i=void 0!==r?r:_x,o=YA(t,e,n);return new KA({extent:t,origin:Kx(t,i),resolutions:o,tileSize:n})}(ZA(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function YA(t,e,n,r){for(var i=void 0!==e?e:42,o=Yx(t),a=Jx(t),s=pI(void 0!==n?n:fC),u=r>0?r:Math.max(a/s[0],o/s[1]),l=i+1,c=new Array(l),h=0;h<l;++h)c[h]=u/Math.pow(2,h);return c}function ZA(t){var e=(t=jC(t)).getExtent();if(!e){var n=180*sC[uC.DEGREES]/t.getMetersPerUnit();e=Mx(-n,-n,n,n)}return e}var QA=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$A=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=e.tileGrid;return r&&pI(r.getTileSize(r.getMinZoom()),[256,256]),n.tileCache=new FA(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return QA(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var o,a,s,u=!0,l=n.minX;l<=n.maxX;++l)for(var c=n.minY;c<=n.maxY;++c)a=NA(e,l,c),s=!1,i.containsKey(a)&&(s=(o=i.get(a)).getState()===qS)&&(s=!1!==r(o)),s||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,i){return Zw()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:XA(t)},e.prototype.getTileCacheForProjection=function(t){return cx(BC(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r,i,o,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),u=pI(a.getTileSize(t),this.tmpSize);return 1==s?u:(r=u,i=s,void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=r[0]*i+.5|0,o[1]=r[1]*i+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=ZA(n);if(Rx(o,i))return e;var a=Jx(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,t.getTileCoordForCoordAndZ(i,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o=e.getFullTileRange(n);return!o||o.containsXY(r,i)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,r){},e}(GA),JA=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return QA(e,t),e}(Sk),tR=$A;function eR(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,(function(){var t=a[0],n=e.getFullTileRange(t);return cx(n,55),(n.getHeight()-a[2]-1).toString()})):void 0}}function nR(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=eR(t[i],e);return function(t){if(1===t.length)return t[0];return function(e,n,r){if(e){var i=function(t){return(t[1]<<t[0])+t[2]}(e),o=lk(i,t.length);return t[o](e,n,r)}}}(r)}var rR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iR=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return rR(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=$w(n),i=n.getState();i==GS?(this.tileLoadingKeys_[r]=!0,e=zA):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=i==HS?UA:i==qS?VA:void 0),void 0!=e&&this.dispatchEvent(new JA(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(nR(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var r=NA(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(tR),oR=iR,aR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sR=function(t){function e(e){var n=this,r=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(r=e.interpolate),(n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:uR,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:r,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:xA,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return aR(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!BC(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!BC(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!BC(e,t)){var n=$w(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=XA(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||BC(e,t))return this.tileCache;var n=$w(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new FA(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,i,o){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,i),u=s?this.tileUrlFunction(s,r,i):void 0,l=new this.tileClass(a,void 0!==u?WS:KS,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=o,l.addEventListener(Nk,this.handleTileChange.bind(this)),l},e.prototype.getTile=function(t,e,n,r,i){var o=this.getProjection();if(o&&i&&!BC(o,i)){var a=this.getTileCacheForProjection(i),s=[t,e,n],u=void 0,l=DA(s);a.containsKey(l)&&(u=a.get(l));var c=this.getKey();if(u&&u.key==c)return u;var h=this.getTileGridForProjection(o),f=this.getTileGridForProjection(i),d=this.getTileCoordForTileUrlFunction(s,i),p=new RA(o,h,i,f,s,d,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return p.key=c,u?(p.interimTile=u,p.refreshInterimChain(),a.replace(l,p)):a.set(l,p),p}return this.getTileInternal(t,e,n,r,o||i)},e.prototype.getTileInternal=function(t,e,n,r,i){var o=null,a=NA(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var u=o;o=this.createTile_(t,e,n,r,i,s),u.getState()==WS?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,r,i,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=jC(t);if(n){var r=$w(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(oR);function uR(t,e){t.getImage().src=e}var lR=sR,cR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hR=function(t){function e(e){var n=e||{},r=void 0===n.imageSmoothing||n.imageSmoothing;void 0!==n.interpolate&&(r=n.interpolate);var i=void 0!==n.projection?n.projection:"EPSG:3857",o=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||jC("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:YA(n,e.maxZoom,e.tileSize,e.maxResolution)};return new KA(r)}({extent:ZA(i),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:r,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return cR(e,t),e}(lR),fR=n(950),dR=function(){function t(t){this.rbush_=new fR(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[$w(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[$w(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=$w(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[$w(e)];Fx([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return Ak(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Mx(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),pR=dR,vR="addfeature",gR="changefeature",yR="clear",mR="removefeature",_R="featuresloadstart",bR="featuresloadend",wR="featuresloaderror";function xR(t,e){return[[-1/0,-1/0,1/0,1/0]]}var kR="arraybuffer",ER="json",SR="text",CR="xml",TR=!1;function IR(t,e){return function(n,r,i,o,a){var s=this;!function(t,e,n,r,i,o,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(n,r,i):t,!0),e.getType()==kR&&(s.responseType="arraybuffer"),s.withCredentials=TR,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),u=void 0;r==ER||r==SR?u=s.responseText:r==CR?(u=s.responseXML)||(u=(new DOMParser).parseFromString(s.responseText,"application/xml")):r==kR&&(u=s.response),u?o(e.readFeatures(u,{extent:n,featureProjection:i}),e.readProjection(u)):a()}else a()},s.onerror=a,s.send()}(t,e,n,r,i,(function(t,e){s.addFeatures(t),void 0!==o&&o(t)}),a||Yw)}}var OR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),AR=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.feature=n,i.features=r,i}return OR(e,t),e}(Sk),RR=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:mE,wrapX:void 0===r.wrapX||r.wrapX})||this).on,n.once,n.un,n.loader_=Yw,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(cx(n.format_,7),n.loader_=IR(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:xR;var i,o,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new pR:null,n.loadedExtentsRtree_=new pR,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),a||void 0!==i||(i=new gS(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==i&&n.bindFeaturesCollection_(i),n}return OR(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=$w(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new AR(vR,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[qk(e,Nk,this.handleFeatureChange_,this),qk(e,Ck,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(cx(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var a=$w(u=t[i]);this.addToIndex_(a,u)&&n.push(u)}i=0;for(var s=n.length;i<s;i++){var u;a=$w(u=n[i]);this.setupChangeEvents_(a,u);var l=u.getGeometry();if(l){var c=l.getExtent();e.push(c),r.push(u)}else this.nullGeometryFeatures_[a]=u}this.featuresRtree_&&this.featuresRtree_.load(e,r);i=0;for(var h=n.length;i<h;i++)this.dispatchEvent(new AR(vR,n[i]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(vR,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(mR,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(cS,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(hS,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(Kk)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var r in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new AR(yR);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ak(this.nullGeometryFeatures_)||qw(t,Ok(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||Kw;return this.featuresRtree_.forEachInExtent(s,(function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(n,r,o,a))<l){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=$w(e),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new AR(gR,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:$w(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Ak(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){for(var r=this.loadedExtentsRtree_,i=this.strategy_(t,e,n),o=function(t,o){var s=i[t];r.forEachInExtent(s,(function(t){return Px(t.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new AR(_R)),a.loader_.call(a,s,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new AR(bR,void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new AR(wR))}.bind(a)),r.insert(s,{extent:s.slice()}))},a=this,s=0,u=i.length;s<u;++s)o(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(Fx(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=$w(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=$w(t),n=this.featureChangeKeys_[e];if(n){n.forEach(Kk),delete this.featureChangeKeys_[e];var r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new AR(mR,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){cx(this.format_,7),this.url_=t,this.setLoader(IR(t,this.format_))},e}(GA),PR=RR,LR=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=pI(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Zw()},t.prototype.getImage=function(t){return Zw()},t.prototype.getHitDetectionImage=function(){return Zw()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Zw()},t.prototype.getImageSize=function(){return Zw()},t.prototype.getOrigin=function(){return Zw()},t.prototype.getSize=function(){return Zw()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=pI(t)},t.prototype.listenImageChange=function(t){Zw()},t.prototype.load=function(){Zw()},t.prototype.unlistenImageChange=function(t){Zw()},t}(),NR=LR;function DR(t){return Array.isArray(t)?wk(t):t}var MR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jR=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return MR(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=zE(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return YO},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,i=void 0===this.radius2_?r:this.radius2_;if(r<i){var o=r;r=i,i=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,u=i*Math.sin(s),l=r-Math.sqrt(i*i-u*u),c=Math.sqrt(u*u+l*l),h=c/u;if("miter"===t&&h<=n)return h*e;var f=e/2/h,d=e/2*(l/c),p=Math.sqrt((r+f)*(r+f)+d*d)-r;if(void 0===this.radius2_||"bevel"===t)return 2*p;var v=r*Math.sin(s),g=i-Math.sqrt(r*r-v*v),y=Math.sqrt(v*v+g*g)/v;if(y<=n){var m=y*e/2-i-r;return 2*Math.max(p,m)}return 2*p},e.prototype.createRenderOptions=function(){var t,e=HE,n=0,r=null,i=0,o=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=KE),t=DR(t),void 0===(o=this.stroke_.getWidth())&&(o=1),r=this.stroke_.getLineDash(),i=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=HE),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var a=this.calculateLineJoinSize_(e,o,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:o,size:Math.ceil(2*s+a),lineDash:r,lineDashOffset:i,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r=WE),e.fillStyle=DR(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"===typeof e&&(e=_k(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=zE(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var i=this.angle_-Math.PI/2,o=2*Math.PI/e,a=0;a<e;a++){var s=i+a*o,u=a%2===0?n:r;t.lineTo(u*Math.cos(s),u*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=WE,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(NR),FR=jR,zR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),VR=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return zR(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(FR),UR=VR,BR=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),WR=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),GR=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=KR,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=KR,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var qR=null;function HR(t,e){if(!qR){var n=new BR({color:"rgba(255,255,255,0.4)"}),r=new WR({color:"#3399CC",width:1.25});qR=[new GR({image:new UR({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return qR}function KR(t){return t.getGeometry()}var XR=GR,YR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZR="renderOrder",QR=function(t){function e(e){var n=this,r=e||{},i=Tk({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return YR(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(ZR)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new fR(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(ZR,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:HR,this.styleFunction_=null===t?void 0:function(t){var e;if("function"===typeof t)e=t;else{var n;Array.isArray(t)?n=t:(cx("function"===typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e}(xE),$R={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},JR=[$R.FILL],tP=[$R.STROKE],eP=[$R.BEGIN_PATH],nP=[$R.CLOSE_PATH],rP=$R,iP=function(){function t(){}return t.prototype.drawCustom=function(t,e,n,r){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),oP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aP=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return oP(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,i=this.coordinates,o=i.length,a=0,s=t.length;a<s;a+=e)r[0]=t[a],r[1]=t[a+1],Rx(n,r)&&(i[o++]=r[0],i[o++]=r[1]);return o},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,i,o){var a=this.coordinates,s=a.length,u=this.getBufferedMaxExtent();o&&(e+=r);var l,c,h,f=t[e],d=t[e+1],p=this.tmpCoordinate_,v=!0;for(l=e+r;l<n;l+=r)p[0]=t[l],p[1]=t[l+1],(h=Nx(u,p))!==c?(v&&(a[s++]=f,a[s++]=d,v=!1),a[s++]=p[0],a[s++]=p[1]):h===xx?(a[s++]=p[0],a[s++]=p[1],v=!1):v=!0,f=p[0],d=p[1],c=h;return(i&&v||l===e+r)&&(a[s++]=f,a[s++]=d),s},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n,r){this.beginGeometry(t,e);var i,o,a,s,u,l=t.getType(),c=t.getStride(),h=this.coordinates.length;switch(l){case rC:i=t.getOrientedFlatCoordinates(),s=[];var f=t.getEndss();u=0;for(var d=0,p=f.length;d<p;++d){var v=[];u=this.drawCustomCoordinates_(i,u,f[d],c,v),s.push(v)}this.instructions.push([rP.CUSTOM,h,s,t,n,FT]),this.hitDetectionInstructions.push([rP.CUSTOM,h,s,t,r||n,FT]);break;case tC:case nC:a=[],i=l==tC?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),u=this.drawCustomCoordinates_(i,0,t.getEnds(),c,a),this.instructions.push([rP.CUSTOM,h,a,t,n,jT]),this.hitDetectionInstructions.push([rP.CUSTOM,h,a,t,r||n,jT]);break;case $S:case oC:i=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(i,0,i.length,c,!1,!1),this.instructions.push([rP.CUSTOM,h,o,t,n,MT]),this.hitDetectionInstructions.push([rP.CUSTOM,h,o,t,r||n,MT]);break;case eC:i=t.getFlatCoordinates(),(o=this.appendFlatPointCoordinates(i,c))>h&&(this.instructions.push([rP.CUSTOM,h,o,t,n,MT]),this.hitDetectionInstructions.push([rP.CUSTOM,h,o,t,r||n,MT]));break;case QS:i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),o=this.coordinates.length,this.instructions.push([rP.CUSTOM,h,o,t,n]),this.hitDetectionInstructions.push([rP.CUSTOM,h,o,t,r||n])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[rP.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[rP.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==rP.END_GEOMETRY?o=t:r==rP.BEGIN_GEOMETRY&&(n[2]=t,Gw(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=DR(r||WE)}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=DR(i||KE);var o=e.getLineCap();n.lineCap=void 0!==o?o:GE;var a=e.getLineDash();n.lineDash=a?a.slice():qE;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:HE;var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[rP.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[rP.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!Hw(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[rP.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Ox(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Ix(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(iP),sP=aP,uP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lP=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.hitDetectionImage_=null,o.image_=null,o.imagePixelRatio_=void 0,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o.declutterImageWithText_=void 0,o}return uP(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([rP.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([rP.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.appendFlatPointCoordinates(n,r);this.instructions.push([rP.DRAW_IMAGE,i,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([rP.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(),o=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0]*this.imagePixelRatio_,this.originY_=a[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterImageWithText_=e},e}(sP),cP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hP=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return cP(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),a=[rP.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([rP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,qE,0],eP);var o=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(o,0,o.length,a),this.hitDetectionInstructions.push(tP),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,i=n.lineWidth;if(void 0!==r&&void 0!==i){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([rP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],eP);for(var o=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinates_(a,u,o[l],s);this.hitDetectionInstructions.push(tP),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(tP),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(tP),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(eP)},e}(sP),fP=hP,dP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pP=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return dP(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=void 0!==i.strokeStyle,s=n.length;this.instructions.push(eP),this.hitDetectionInstructions.push(eP);for(var u=0;u<s;++u){var l=n[u],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,l,r,!0,!a),f=[rP.MOVE_TO_LINE_TO,c,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(nP),this.hitDetectionInstructions.push(nP)),e=l}return o&&(this.instructions.push(JR),this.hitDetectionInstructions.push(JR)),a&&(this.instructions.push(tP),this.hitDetectionInstructions.push(tP)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([rP.SET_FILL_STYLE,WE]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([rP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(o,0,o.length,a,!1,!1);var u=[rP.CIRCLE,s];this.instructions.push(eP,u),this.hitDetectionInstructions.push(eP,u),void 0!==n.fillStyle&&(this.instructions.push(JR),this.hitDetectionInstructions.push(JR)),void 0!==n.strokeStyle&&(this.instructions.push(tP),this.hitDetectionInstructions.push(tP)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([rP.SET_FILL_STYLE,WE]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([rP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,o,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,i=n.strokeStyle;if(void 0!==r||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([rP.SET_FILL_STYLE,WE]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([rP.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),u=0,l=0,c=o.length;l<c;++l)u=this.drawFlatCoordinatess_(a,u,o[l],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=LT(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(sP),vP=pP,gP="line";function yP(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p=n,v=n,g=0,y=0,m=n;for(o=n;o<r;o+=i){var _=e[o],b=e[o+1];void 0!==u&&(f=_-u,d=b-l,s=Math.sqrt(f*f+d*d),void 0!==c&&(y+=a,Math.acos((c*f+h*d)/(a*s))>t&&(y>g&&(g=y,p=m,v=o),y=0,m=o-i)),a=s,c=f,h=d),u=_,l=b}return(y+=s)>g?[m,o]:[p,v]}var mP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_P={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},bP=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o.declutterImageWithText_=void 0,o}return mP(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var o=this.coordinates,a=o.length,s=t.getType(),u=null,l=t.getStride();if(i.placement!==gP||s!=$S&&s!=nC&&s!=tC&&s!=rC){var c=i.overflow?null:[];switch(s){case QS:case eC:u=t.getFlatCoordinates();break;case $S:u=t.getFlatMidpoint();break;case oC:u=t.getCenter();break;case nC:u=t.getFlatMidpoints(),l=2;break;case tC:u=t.getFlatInteriorPoint(),i.overflow||c.push(u[2]/this.resolution),l=3;break;case rC:var h=t.getFlatInteriorPoints();u=[];for(x=0,k=h.length;x<k;x+=3)i.overflow||c.push(h[x+2]/this.resolution),u.push(h[x],h[x+1]);if(0===u.length)return;l=2}if((A=this.appendFlatPointCoordinates(u,l))===a)return;if(c&&(A-a)/2!==u.length/l){var f=a/2;c=c.filter((function(t,e){var n=o[2*(f+e)]===u[e*l]&&o[2*(f+e)+1]===u[e*l+1];return n||--f,n}))}this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var d=i.padding;if(d!=ZE&&(i.scale[0]<0||i.scale[1]<0)){var p=i.padding[0],v=i.padding[1],g=i.padding[2],y=i.padding[3];i.scale[0]<0&&(v=-v,y=-y),i.scale[1]<0&&(p=-p,g=-g),d=[p,v,g,y]}var m=this.pixelRatio;this.instructions.push([rP.DRAW_IMAGE,a,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,d==ZE?ZE:d.map((function(t){return t*m})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var _=1/m;this.hitDetectionInstructions.push([rP.DRAW_IMAGE,a,A,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[_,_],NaN,this.declutterImageWithText_,d,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!tk(this.getBufferedMaxExtent(),t.getExtent()))return;var b=void 0;if(u=t.getFlatCoordinates(),s==$S)b=[u.length];else if(s==nC)b=t.getEnds();else if(s==tC)b=t.getEnds().slice(0,1);else if(s==rC){var w=t.getEndss();b=[];for(var x=0,k=w.length;x<k;++x)b.push(w[x][0])}this.beginGeometry(t,e);for(var E=i.textAlign,S=0,C=void 0,T=0,I=b.length;T<I;++T){if(void 0==E){var O=yP(i.maxAngle,u,S,b[T],l);S=O[0],C=O[1]}else C=b[T];for(var x=S;x<C;x+=l)o.push(u[x],u[x+1]);var A=o.length;S=b[T],this.drawChars_(a,A),a=A}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||XE,textBaseline:e.textBaseline||YE,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,i=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,u=_P[r.textBaseline],l=this.textOffsetY_*s,c=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([rP.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,s,l,i,h*s,c,o,1]),this.hitDetectionInstructions.push([rP.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,1,l,i,h,c,o,1/s])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){var o=t.getFill();o?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=DR(o.getColor()||WE)):(r=null,this.textFillState_=r);var a=t.getStroke();if(a){(i=this.textStrokeState_)||(i={},this.textStrokeState_=i);var s=a.getLineDash(),u=a.getLineDashOffset(),l=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||GE,i.lineDash=s?s.slice():qE,i.lineDashOffset=void 0===u?0:u,i.lineJoin=a.getLineJoin()||HE,i.lineWidth=void 0===l?1:l,i.miterLimit=void 0===c?10:c,i.strokeStyle=DR(a.getColor()||KE)}else i=null,this.textStrokeState_=i;n=this.textState_;var h=t.getFont()||BE;eS(h);var f=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||YE,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ZE,n.scale=void 0===f?[1,1]:f;var d=t.getOffsetX(),p=t.getOffsetY(),v=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===p?0:p,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===g?0:g,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:$w(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+$w(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(sP),wP={Circle:vP,Default:sP,Image:lP,LineString:fP,Polygon:vP,Text:bP},xP=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var i=r[e];void 0===i&&(i=new(0,wP[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i);return i},t}(),kP="Circle",EP="Default",SP="Image",CP="LineString",TP="Polygon",IP="Text";function OP(t,e,n,r,i,o,a,s,u,l,c,h){var f=t[e],d=t[e+1],p=0,v=0,g=0,y=0;function m(){p=f,v=d,f=t[e+=r],d=t[e+1],y+=g,g=Math.sqrt((f-p)*(f-p)+(d-v)*(d-v))}do{m()}while(e<n-r&&y+g<o);for(var _=0===g?0:(o-y)/g,b=ck(p,f,_),w=ck(v,d,_),x=e-r,k=y,E=o+s*u(l,i,c);e<n-r&&y+g<E;)m();var S,C=ck(p,f,_=0===g?0:(E-y)/g),T=ck(v,d,_);if(h){var I=[b,w,C,T];gT(I,0,4,2,h,I,I),S=I[0]>I[2]}else S=b>C;var O,A=Math.PI,R=[],P=x+r===e;if(g=0,y=k,f=t[e=x],d=t[e+1],P){m(),O=Math.atan2(d-v,f-p),S&&(O+=O>0?-A:A);var L=(C+b)/2,N=(T+w)/2;return R[0]=[L,N,(E-o)/2,O,i],R}for(var D=0,M=i.length;D<M;){m();var j=Math.atan2(d-v,f-p);if(S&&(j+=j>0?-A:A),void 0!==O){var F=j-O;if(F+=F>A?-2*A:F<-A?2*A:0,Math.abs(F)>a)return null}O=j;for(var z=D,V=0;D<M;++D){var U=s*u(l,i[S?M-D-1:D],c);if(e+r<n&&y+g<o+V+U/2)break;V+=U}if(D!==z){var B=S?i.substring(M-z,M-D):i.substring(z,D);L=ck(p,f,_=0===g?0:(o+V/2-y)/g),N=ck(v,d,_);R.push([L,N,V/2,j,B]),o+=V}}return R}function AP(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],l=t[s+1];a+=Math.sqrt((u-i)*(u-i)+(l-o)*(l-o)),i=u,o=l}return a}var RP=[1/0,1/0,-1/0,-1/0],PP=[],LP=[],NP=[],DP=[];function MP(t){return t[3].declutterBox}var jP=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function FP(t,e){return"start"!==e&&"end"!==e||jP.test(t)||(e="start"===e?"left":"right"),_P[e]}var zP=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],u=this.pixelRatio,l=[s.scale[0]*u,s.scale[1]*u],c=FP(t,s.textAlign||XE),h=r&&o.lineWidth?o.lineWidth:0,f=t.split("\n"),d=f.length,p=[],v=function(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var a=iS(t,e[o]);i=Math.max(i,a),n.push(a)}return i}(s.font,f,p),g=nS(s.font),y=v+h,m=[],_=(y+2)*l[0],b=(g*d+h)*l[1],w={width:_<0?Math.floor(_):Math.ceil(_),height:b<0?Math.floor(b):Math.ceil(b),contextInstructions:m};(1==l[0]&&1==l[1]||m.push("scale",l),m.push("font",s.font),r)&&(m.push("strokeStyle",o.strokeStyle),m.push("lineWidth",h),m.push("lineCap",o.lineCap),m.push("lineJoin",o.lineJoin),m.push("miterLimit",o.miterLimit),(ox?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(m.push("setLineDash",[o.lineDash]),m.push("lineDashOffset",o.lineDashOffset)));n&&m.push("fillStyle",a.fillStyle),m.push("textBaseline","middle"),m.push("textAlign","center");var x,k=.5-c,E=c*y+k*h;if(r)for(x=0;x<d;++x)m.push("strokeText",[f[x],E+k*p[x],.5*(h+g)+x*g]);if(n)for(x=0;x<d;++x)m.push("fillText",[f[x],E+k*p[x],.5*(h+g)+x*g]);return this.labels_[i]=w,w},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,v){var g,y=n-(a*=h[0]),m=r-(s*=h[1]),_=i+u>t?t-u:i,b=o+l>e?e-l:o,w=d[3]+_*h[0]+d[1],x=d[0]+b*h[1]+d[2],k=y-d[3],E=m-d[0];return(p||0!==c)&&(PP[0]=k,DP[0]=k,PP[1]=E,LP[1]=E,LP[0]=k+w,NP[0]=LP[0],NP[1]=E+x,DP[1]=NP[1]),0!==c?(dx(g=px([1,0,0,1,0,0],n,r,1,1,c,-n,-r),PP),dx(g,LP),dx(g,NP),dx(g,DP),Mx(Math.min(PP[0],LP[0],NP[0],DP[0]),Math.min(PP[1],LP[1],NP[1],DP[1]),Math.max(PP[0],LP[0],NP[0],DP[0]),Math.max(PP[1],LP[1],NP[1],DP[1]),RP)):Mx(Math.min(k,k+w),Math.min(E,E+x),Math.max(k,k+w),Math.max(E,E+x),RP),f&&(y=Math.round(y),m=Math.round(m)),{drawImageX:y,drawImageY:m,drawImageW:_,drawImageH:b,originX:u,originY:l,declutterBox:{minX:RP[0],minY:RP[1],maxX:RP[2],maxY:RP[3],value:v},canvasTransform:g,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,r,i,o,a){var s=!(!o&&!a),u=r.declutterBox,l=t.canvas,c=a?a[2]*r.scale[0]/2:0;return u.minX-c<=l.width/e&&u.maxX+c>=0&&u.minY-c<=l.height/e&&u.maxY+c>=0&&(s&&this.replayTextBackground_(t,PP,LP,NP,DP,o,a),aS(t,r.canvasTransform,i,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=dx(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,u=FP(t,i.textAlign||XE),l=_P[i.textBaseline||YE],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:u*(o.width/s-2*i.scale[0])+2*(.5-u)*c,anchorY:l*o.height/s+2*(.5-l)*c}},t.prototype.execute_=function(t,e,n,r,i,o,a,s){var u,l,c;this.pixelCoordinates_&&Hw(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=vT(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),l=this.renderedTransform_,c=n,l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5]);for(var h,f,d,p,v,g,y,m,_,b,w,x,k,E,S,C,T=0,I=r.length,O=0,A=0,R=0,P=null,L=null,N=this.coordinateCache_,D=this.viewRotation_,M=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,j={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},F=this.instructions!=r||this.overlaps?0:200;T<I;){var z=r[T];switch(z[0]){case rP.BEGIN_GEOMETRY:k=z[1],C=z[3],k.getGeometry()?void 0===a||tk(a,C.getExtent())?++T:T=z[2]+1:T=z[2];break;case rP.BEGIN_PATH:A>F&&(this.fill_(t),A=0),R>F&&(t.stroke(),R=0),A||R||(t.beginPath(),p=NaN,v=NaN),++T;break;case rP.CIRCLE:var V=u[O=z[1]],U=u[O+1],B=u[O+2]-V,W=u[O+3]-U,G=Math.sqrt(B*B+W*W);t.moveTo(V+G,U),t.arc(V,U,G,0,2*Math.PI,!0),++T;break;case rP.CLOSE_PATH:t.closePath(),++T;break;case rP.CUSTOM:O=z[1],h=z[2];var q=z[3],H=z[4],K=6==z.length?z[5]:void 0;j.geometry=q,j.feature=k,T in N||(N[T]=[]);var X=N[T];K?K(u,O,h,2,X):(X[0]=u[O],X[1]=u[O+1],X.length=2),H(X,j),++T;break;case rP.DRAW_IMAGE:O=z[1],h=z[2],m=z[3],f=z[4],d=z[5];var Y=z[6],Z=z[7],Q=z[8],$=z[9],J=z[10],tt=z[11],et=z[12],nt=z[13],rt=z[14];if(!m&&z.length>=19){_=z[18],b=z[19],w=z[20],x=z[21];var it=this.drawLabelWithPointPlacement_(_,b,w,x);m=it.label,z[3]=m;var ot=z[22];f=(it.anchorX-ot)*this.pixelRatio,z[4]=f;var at=z[23];d=(it.anchorY-at)*this.pixelRatio,z[5]=d,Y=m.height,z[6]=Y,nt=m.width,z[13]=nt}var st=void 0;z.length>24&&(st=z[24]);var ut=void 0,lt=void 0,ct=void 0;z.length>16?(ut=z[15],lt=z[16],ct=z[17]):(ut=ZE,lt=!1,ct=!1),J&&M?tt+=D:J||M||(tt-=D);for(var ht=0;O<h;O+=2)if(!(st&&st[ht++]<nt/this.pixelRatio)){var ft=[t,e,m,zt=this.calculateImageOrLabelDimensions_(m.width,m.height,u[O],u[O+1],nt,Y,f,d,Q,$,tt,et,i,ut,lt||ct,k),Z,lt?P:null,ct?L:null],dt=void 0,pt=void 0;if(s&&rt){var vt=h-O;if(!rt[vt]){rt[vt]=ft;continue}if(dt=rt[vt],delete rt[vt],pt=MP(dt),s.collides(pt))continue}s&&s.collides(zt.declutterBox)||(dt&&(s&&s.insert(pt),this.replayImageOrLabel_.apply(this,dt)),s&&s.insert(zt.declutterBox),this.replayImageOrLabel_.apply(this,ft))}++T;break;case rP.DRAW_CHARS:var gt=z[1],yt=z[2],mt=z[3],_t=z[4];x=z[5];var bt=z[6],wt=z[7],xt=z[8];w=z[9];var kt=z[10];_=z[11],b=z[12];var Et=[z[13],z[13]],St=this.textStates[b],Ct=St.font,Tt=[St.scale[0]*wt,St.scale[1]*wt],It=void 0;Ct in this.widths_?It=this.widths_[Ct]:(It={},this.widths_[Ct]=It);var Ot=AP(u,gt,yt,2),At=Math.abs(Tt[0])*oS(Ct,_,It);if(_t||At<=Ot){var Rt=this.textStates[b].textAlign,Pt=OP(u,gt,yt,2,_,(Ot-At)*_P[Rt],bt,Math.abs(Tt[0]),oS,Ct,It,M?0:this.viewRotation_);t:if(Pt){var Lt=[],Nt=void 0,Dt=void 0,Mt=void 0,jt=void 0,Ft=void 0;if(w)for(Nt=0,Dt=Pt.length;Nt<Dt;++Nt){Mt=(Ft=Pt[Nt])[4],jt=this.createLabel(Mt,b,"",w),f=Ft[2]+(Tt[0]<0?-kt:kt),d=mt*jt.height+2*(.5-mt)*kt*Tt[1]/Tt[0]-xt;var zt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Ft[0],Ft[1],jt.width,jt.height,f,d,0,0,Ft[3],Et,!1,ZE,!1,k);if(s&&s.collides(zt.declutterBox))break t;Lt.push([t,e,jt,zt,1,null,null])}if(x)for(Nt=0,Dt=Pt.length;Nt<Dt;++Nt){Mt=(Ft=Pt[Nt])[4],jt=this.createLabel(Mt,b,x,""),f=Ft[2],d=mt*jt.height-xt;zt=this.calculateImageOrLabelDimensions_(jt.width,jt.height,Ft[0],Ft[1],jt.width,jt.height,f,d,0,0,Ft[3],Et,!1,ZE,!1,k);if(s&&s.collides(zt.declutterBox))break t;Lt.push([t,e,jt,zt,1,null,null])}s&&s.load(Lt.map(MP));for(var Vt=0,Ut=Lt.length;Vt<Ut;++Vt)this.replayImageOrLabel_.apply(this,Lt[Vt])}}++T;break;case rP.END_GEOMETRY:if(void 0!==o){var Bt=o(k=z[1],C);if(Bt)return Bt}++T;break;case rP.FILL:F?A++:this.fill_(t),++T;break;case rP.MOVE_TO_LINE_TO:for(O=z[1],h=z[2],E=u[O],y=(S=u[O+1])+.5|0,(g=E+.5|0)===p&&y===v||(t.moveTo(E,S),p=g,v=y),O+=2;O<h;O+=2)g=(E=u[O])+.5|0,y=(S=u[O+1])+.5|0,O!=h-2&&g===p&&y===v||(t.lineTo(E,S),p=g,v=y);++T;break;case rP.SET_FILL_STYLE:P=z,this.alignFill_=z[2],A&&(this.fill_(t),A=0,R&&(t.stroke(),R=0)),t.fillStyle=z[1],++T;break;case rP.SET_STROKE_STYLE:L=z,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,z),++T;break;case rP.STROKE:F?R++:t.stroke(),++T;break;default:++T}}A&&this.fill_(t),R&&t.stroke()},t.prototype.execute=function(t,e,n,r,i,o){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,i,void 0,void 0,o)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,i)},t}(),VP=zP,UP=[TP,kP,CP,SP,IP,EP],BP=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var i in r){var o=r[i];n[i]=new VP(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var a=2*(r=Math.round(r))+1,s=px(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=zE(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):u||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(zx(l=[1/0,1/0,-1/0,-1/0],t),Ix(l,e*(this.renderBuffer_+r),l));var h,f=function(t){if(void 0!==WP[t])return WP[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),i=0;i<=t;++i)for(var o=0;o<=t;++o){var a=i*i+o*o;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(4*((t+i)*e+(t+o))+3),i>0&&s.push(4*((t-i)*e+(t+o))+3),o>0&&(s.push(4*((t+i)*e+(t-o))+3),i>0&&s.push(4*((t-i)*e+(t-o))+3))}for(var u=[],l=(i=0,r.length);i<l;++i)r[i]&&u.push.apply(u,r[i]);return WP[t]=u,u}(r);function d(t,e){for(var n=c.getImageData(0,0,a,a).data,s=0,u=f.length;s<u;s++)if(n[f[s]]>0){if(!o||h!==SP&&h!==IP||-1!==o.indexOf(t)){var l=(f[s]-3)/4,d=r-l%a,p=r-(l/a|0),v=i(t,e,d*d+p*p);if(v)return v}c.clearRect(0,0,a,a);break}}var p,v,g,y,m,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(Bw),p=_.length-1;p>=0;--p){var b=_[p].toString();for(g=this.executorsByZIndex_[b],v=UP.length-1;v>=0;--v)if(void 0!==(y=g[h=UP[v]])&&(m=y.executeHitDetection(c,s,n,d,l)))return m}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return vT(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return Ak(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(Bw),this.maxExtent_&&(t.save(),this.clip(t,n));var u,l,c,h,f,d,p=o||UP;for(a&&s.reverse(),u=0,l=s.length;u<l;++u){var v=s[u].toString();for(f=this.executorsByZIndex_[v],c=0,h=p.length;c<h;++c){void 0!==(d=f[p[c]])&&d.execute(t,e,n,r,i,a)}}this.maxExtent_&&t.restore()},t}(),WP={};var GP=BP,qP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),HP=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}return qP(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=vT(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,c=i.length;l<c;l+=2){var h=i[l]-this.imageAnchorX_,f=i[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var d=h+this.imageAnchorX_,p=f+this.imageAnchorY_;px(a,d,p,1,1,u,-d,-p),o.setTransform.apply(o,a),o.translate(d,p),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.setTransform(1,0,0,1,0,0)}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=vT(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,u=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=px(this.tmpLocalTransform_,s,u,1,1,a,-s,-u);o.setTransform.apply(o,l),o.translate(s,u),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&o.strokeText(this.text_,s,u),this.textFillState_&&o.fillText(this.text_,s,u)}}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=vT(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var u=2;u<s;u+=2)o.lineTo(a[u],a[u+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(tk(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return vT(r,0,r.length,i,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case QS:this.drawPoint(t);break;case $S:this.drawLineString(t);break;case tC:this.drawPolygon(t);break;case eC:this.drawMultiPoint(t);break;case nC:this.drawMultiLineString(t);break;case rC:this.drawMultiPolygon(t);break;case iC:this.drawGeometryCollection(t);break;case oC:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&tk(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),tk(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(tk(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,u=o.length;s<u;++s)i=this.moveToLineTo_(r,i,o[s],a,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),tk(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),tk(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=i.length;a<s;++a){var u=i[a];r=this.drawRings_(n,r,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Hw(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:XE;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:DR(r||WE)}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),h=a||qE;this.strokeState_={lineCap:void 0!==o?o:GE,lineDash:1===this.pixelRatio_?h:h.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==u?u:HE,lineWidth:(void 0!==l?l:1)*this.pixelRatio_,miterLimit:void 0!==c?c:10,strokeStyle:DR(i||KE)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:DR(n||WE)}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),u=r.getLineJoin(),l=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:GE,lineDash:a||qE,lineDashOffset:s||0,lineJoin:void 0!==u?u:HE,lineWidth:void 0!==l?l:1,miterLimit:void 0!==c?c:10,strokeStyle:DR(i||KE)}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),d=t.getOffsetY(),p=t.getRotateWithView(),v=t.getRotation(),g=t.getScaleArray(),y=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:BE,textAlign:void 0!==m?m:XE,textBaseline:void 0!==_?_:YE},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0!==v?v:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},e}(iP),KP=HP,XP="fraction",YP="pixels",ZP="bottom-left",QP="bottom-right",$P="top-left",JP="top-right",tL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eL=null,nL=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s.tainted_,s}return tL(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===YO){eL||(eL=zE(1,1)),eL.drawImage(this.image_,0,0);try{eL.getImageData(0,0,1,1),this.tainted_=!1}catch(t){eL=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(Nk)},e.prototype.handleImageError_=function(){this.imageState_=ZO,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=YO,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=zE(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==KO){this.imageState_=XO;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=_A(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===YO){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=gk(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,o=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,u=this.color_[3],l=0,c=i.length;l<c;l+=4)i[l]*=o,i[l+1]*=a,i[l+2]*=s,i[l+3]*=u;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Lk);var rL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iL=function(t){function e(e){var n=this,r=e||{},i=void 0!==r.opacity?r.opacity:1,o=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;(n=t.call(this,{opacity:i,rotation:o,scale:a,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:s})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:$P,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:XP,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:XP,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var u=void 0!==r.img?r.img:null,l=void 0!==r.imgSize?r.imgSize:null,c=r.src;cx(!(void 0!==c&&u),4),cx(!u||u&&l,5),void 0!==c&&0!==c.length||!u||(c=u.src||$w(u)),cx(void 0!==c&&c.length>0,6);var h=void 0!==r.src?KO:YO;return n.color_=void 0!==r.color?_k(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var a=Ek.get(e,r,o);return a||(a=new nL(t,e,n,r,i,o),Ek.set(e,r,o,a)),a}(u,c,l,n.crossOrigin_,h,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:$P,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return rL(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==XP||this.anchorYUnits_==XP){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==XP&&(t[0]*=e[0]),this.anchorYUnits_==XP&&(t[1]*=e[1])}if(this.anchorOrigin_!=$P){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=JP&&this.anchorOrigin_!=QP||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=ZP&&this.anchorOrigin_!=QP||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=$P){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=JP&&this.offsetOrigin_!=QP||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=ZP&&this.offsetOrigin_!=QP||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(Nk,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(Nk,t)},e}(NR),oL=iL,aL=.5;var sL={Point:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();i&&(t=i,o=a&&s&&s.getText()?{}:void 0);if(a){if(a.getImageState()!=YO)return;var u=t.getBuilder(n.getZIndex(),SP);u.setImageStyle(a,o),u.drawPoint(e,r)}if(s&&s.getText()){var l=t.getBuilder(n.getZIndex(),IP);l.setTextStyle(s,o),l.drawText(e,r)}},LineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),CP);a.setFillStrokeStyle(null,o),a.drawLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(i||t).getBuilder(n.getZIndex(),IP);u.setTextStyle(s),u.drawText(e,r)}},Polygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),TP);s.setFillStrokeStyle(o,a),s.drawPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),IP);l.setTextStyle(u),l.drawText(e,r)}},MultiPoint:function(t,e,n,r,i){var o,a=n.getImage(),s=n.getText();i&&(t=i,o=a&&s&&s.getText()?{}:void 0);if(a){if(a.getImageState()!=YO)return;var u=t.getBuilder(n.getZIndex(),SP);u.setImageStyle(a,o),u.drawMultiPoint(e,r)}if(s&&s.getText()){var l=(i||t).getBuilder(n.getZIndex(),IP);l.setTextStyle(s,o),l.drawText(e,r)}},MultiLineString:function(t,e,n,r,i){var o=n.getStroke();if(o){var a=t.getBuilder(n.getZIndex(),CP);a.setFillStrokeStyle(null,o),a.drawMultiLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(i||t).getBuilder(n.getZIndex(),IP);u.setTextStyle(s),u.drawText(e,r)}},MultiPolygon:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(a||o){var s=t.getBuilder(n.getZIndex(),TP);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),IP);l.setTextStyle(u),l.drawText(e,r)}},GeometryCollection:function(t,e,n,r,i){var o,a,s=e.getGeometriesArray();for(o=0,a=s.length;o<a;++o){(0,sL[s[o].getType()])(t,s[o],n,r,i)}},Circle:function(t,e,n,r,i){var o=n.getFill(),a=n.getStroke();if(o||a){var s=t.getBuilder(n.getZIndex(),kP);s.setFillStrokeStyle(o,a),s.drawCircle(e,r)}var u=n.getText();if(u&&u.getText()){var l=(i||t).getBuilder(n.getZIndex(),IP);l.setTextStyle(u),l.drawText(e,r)}}};function uL(t,e){return parseInt($w(t),10)-parseInt($w(e),10)}function lL(t,e){return.5*t/e}function cL(t,e,n,r,i,o,a){var s=!1,u=n.getImage();if(u){var l=u.getImageState();l==YO||l==ZO?u.unlistenImageChange(i):(l==KO&&u.load(),l=u.getImageState(),u.listenImageChange(i),s=!0)}return function(t,e,n,r,i,o){var a=n.getGeometryFunction()(e);if(!a)return;var s=a.simplifyTransformed(r,i);if(n.getRenderer())hL(t,s,n,e);else{(0,sL[s.getType()])(t,s,n,e,o)}}(t,e,n,r,o,a),s}function hL(t,e,n,r){if(e.getType()!=iC)t.getBuilder(n.getZIndex(),EP).drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer());else for(var i=e.getGeometries(),o=0,a=i.length;o<a;++o)hL(t,i[o],n,r)}var fL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dL=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return fL(e,t),e.prototype.renderWorlds=function(t,e,n){var r=e.extent,i=e.viewState,o=i.center,a=i.resolution,s=i.projection,u=i.rotation,l=s.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,f=e.viewHints,d=!(f[lC]||f[cC]),p=this.context,v=Math.round(e.size[0]*h),g=Math.round(e.size[1]*h),y=c.getWrapX()&&s.canWrapX(),m=y?Jx(l):null,_=y?Math.ceil((r[2]-l[2])/m)+1:1,b=y?Math.floor((r[0]-l[0])/m):0;do{var w=this.getRenderTransform(o,a,u,h,v,g,b*m);t.execute(p,1,w,u,d,void 0,n)}while(++b<_)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){fx(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),vx(this.inversePixelTransform,this.pixelTransform);var i=gx(this.pixelTransform);this.useContainer(e,i,r.opacity,this.getBackground(t));var o=this.context,a=o.canvas,s=this.replayGroup_,u=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!u||u.isEmpty()))return null;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==i&&(a.style.transform=i)):this.containerReused||o.clearRect(0,0,l,c),this.preRender(o,t);var h=t.viewState,f=h.projection,d=!1,p=!0;if(r.extent&&this.clipping){var v=$C(r.extent,f);(d=(p=tk(v,t.extent))&&!Px(v,t.extent))&&this.clipUnrotated(o,t,v)}p&&this.renderWorlds(s,t),d&&o.restore(),this.postRender(o,t);var g=FE(r.opacity),y=this.container;return g!==y.style.opacity&&(y.style.opacity=g),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];dx(this.pixelTransform,n);var r=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,u=this.getLayer(),l=[],c=n[0]*aL,h=n[1]*aL;l.push(this.getRenderTransform(r,i,o,aL,c,h,0).slice());var f=u.getSource(),d=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!Px(d,s)){for(var p=s[0],v=Jx(d),g=0,y=void 0;p<d[0];)y=v*--g,l.push(this.getRenderTransform(r,i,o,aL,c,h,y).slice()),p+=v;for(g=0,p=s[2];p>d[2];)y=v*++g,l.push(this.getRenderTransform(r,i,o,aL,c,h,y).slice()),p-=v}this.hitDetectionImageData_=function(t,e,n,r,i,o,a){var s=zE(t[0]*aL,t[1]*aL);s.imageSmoothingEnabled=!1;for(var u=s.canvas,l=new KP(s,aL,i,null,a),c=n.length,h=Math.floor(16777215/c),f={},d=1;d<=c;++d){var p=n[d-1],v=p.getStyleFunction()||r;if(r){var g=v(p,o);if(g){Array.isArray(g)||(g=[g]);for(var y="#"+("000000"+(d*h).toString(16)).slice(-6),m=0,_=g.length;m<_;++m){var b=g[m],w=b.getGeometryFunction()(p);if(w&&tk(i,w.getExtent())){var x=b.clone(),k=x.getFill();k&&k.setColor(y);var E=x.getStroke();E&&(E.setColor(y),E.setLineDash(null)),x.setText(void 0);var S=b.getImage();if(S&&0!==S.getOpacity()){var C=S.getImageSize();if(!C)continue;var T=zE(C[0],C[1],void 0,{alpha:!1}),I=T.canvas;T.fillStyle=y,T.fillRect(0,0,I.width,I.height),x.setImage(new oL({img:I,imgSize:C,anchor:S.getAnchor(),anchorXUnits:YP,anchorYUnits:YP,offset:S.getOrigin(),opacity:1,size:S.getSize(),scale:S.getScale(),rotation:S.getRotation(),rotateWithView:S.getRotateWithView()}))}var O=x.getZIndex()||0;(P=f[O])||(P={},f[O]=P,P[tC]=[],P[oC]=[],P[$S]=[],P[QS]=[]),P[w.getType().replace("Multi","")].push(w,x)}}}}}for(var A=Object.keys(f).map(Number).sort(Bw),R=(d=0,A.length);d<R;++d){var P=f[A[d]];for(var L in P){var N=P[L];for(m=0,_=N.length;m<_;m+=2){l.setStyle(N[m+1]);for(var D=0,M=e.length;D<M;++D)l.setTransform(e[D]),l.drawGeometry(N[m])}}}return s.getImageData(0,0,u.width,u.height)}(n,l,this.renderedFeatures_,u.getStyleFunction(),s,i,o)}e(function(t,e,n){var r=[];if(n){var i=Math.floor(Math.round(t[0])*aL),o=Math.floor(Math.round(t[1])*aL),a=4*(rk(i,0,n.width-1)+rk(o,0,n.height-1)*n.width),s=n.data[a],u=n.data[a+1],l=n.data[a+2]+256*(u+256*s),c=Math.floor(16777215/e.length);l&&l%c===0&&r.push(e[l/c-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){var o=this;if(this.replayGroup_){var a,s=e.viewState.resolution,u=e.viewState.rotation,l=this.getLayer(),c={},h=function(t,e,n){var o=$w(t),a=c[o];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[o]=!0,i.splice(i.lastIndexOf(a),1),r(t,l,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return c[o]=!0,r(t,l,e);i.push(c[o]={feature:t,layer:l,geometry:e,distanceSq:n,callback:r})}},f=[this.replayGroup_];return this.declutterExecutorGroup&&f.push(this.declutterExecutorGroup),f.some((function(r){return a=r.forEachFeatureAtCoordinate(t,s,u,n,h,r===o.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[lC],i=t.viewHints[cC],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!a&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,u=t.viewState,l=u.projection,c=u.resolution,h=t.pixelRatio,f=e.getRevision(),d=e.getRenderBuffer(),p=e.getRenderOrder();void 0===p&&(p=uL);var v=u.center.slice(),g=Ix(s,d*c),y=g.slice(),m=[g.slice()],_=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!Px(_,t.extent)){var b=Jx(_),w=Math.max(Jx(g)/2,b);g[0]=_[0]-w,g[2]=_[2]+w,SE(v,l);var x=function(t,e){var n=e.getExtent(),r=Hx(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=Jx(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}(m[0],l);x[0]<_[0]&&x[2]<_[2]?m.push([x[0]+b,x[1],x[2]+b,x[3]]):x[0]>_[0]&&x[2]>_[2]&&m.push([x[0]-b,x[1],x[2]-b,x[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==p&&Px(this.wrappedRenderedExtent_,g))return Hw(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=v,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var k,E=new xP(lL(c,h),g,c,h);this.getLayer().getDeclutter()&&(k=new xP(lL(c,h),g,c,h));var S,C=XC();if(C){for(var T=0,I=m.length;T<I;++T){var O=QC(m[T],l);n.loadFeatures(O,JC(c,l),C)}S=WC(C,l)}else for(T=0,I=m.length;T<I;++T)n.loadFeatures(m[T],c,l);var A=function(t,e){var n=lL(t,e);return n*n}(c,h),R=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,c)),n){var i=this.renderFeature(t,A,n,E,S,k);this.dirty_=this.dirty_||i}}.bind(this),P=QC(g,l),L=n.getFeaturesInExtent(P);p&&L.sort(p);for(T=0,I=L.length;T<I;++T)R(L[T]);this.renderedFeatures_=L;var N=E.finish(),D=new GP(g,c,h,n.getOverlaps(),N,e.getRenderBuffer());return k&&(this.declutterExecutorGroup=new GP(g,c,h,n.getOverlaps(),k.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=p,this.renderedExtent_=y,this.wrappedRenderedExtent_=g,this.renderedCenter_=v,this.renderedProjection_=l,this.replayGroup_=D,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i,o){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,u=n.length;s<u;++s)a=cL(r,t,n[s],e,this.boundHandleStyleImageChange_,i,o)||a;else a=cL(r,t,n,e,this.boundHandleStyleImageChange_,i,o);return a},e}(nA),pL=dL,vL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gL=function(t){function e(e){return t.call(this,e)||this}return vL(e,t),e.prototype.createRenderer=function(){return new pL(this)},e}(QR),yL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mL=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var i=e;n.setProperties(i)}return n}return yL(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Kk(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=qk(t,Nk,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"===typeof t)return t;var e;Array.isArray(t)?e=t:(cx("function"===typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(Jk);var _L=mL,bL=function(){return(0,e.useEffect)((function(){var t=new BO({target:"map",view:new fI({center:UC([-68.7776402,-32.897781]),zoom:15}),layers:[new fA({source:new hR({url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",crossOrigin:"anonymous"})})],controls:PI({attribution:!1,rotate:!1,zoom:!0})}),e=new XR({image:new oL({src:n(716),crossOrigin:"anonymous",scale:.02})}),r=new HT(UC([-68.7776402,-32.897781])),i=new _L(r);i.setStyle(e);var o=new PR({features:[i]}),a=new gL({source:o});t.addLayer(a)}),[]),(0,Ps.jsxs)("div",{className:"map-component col-12",children:[(0,Ps.jsxs)("div",{className:"map-component-info",children:[(0,Ps.jsx)("h1",{children:"\xbfDonde estamos?"}),(0,Ps.jsx)("h2",{children:"Argentina"}),(0,Ps.jsx)("h4",{children:"Mendoza, Guaymallen"}),(0,Ps.jsx)("a",{href:"https://goo.gl/maps/ZwzKAqM5ot9zKH3h6",target:"_blank",children:(0,Ps.jsxs)("button",{className:"btn btn-outline btn-google-maps",children:[(0,Ps.jsx)("p",{className:"btn-google-maps-text",children:"Google maps"}),(0,Ps.jsx)("img",{className:"btn-maps",src:n(711),alt:""})]})})]}),(0,Ps.jsx)("div",{className:"map",id:"map"})]})},wL=function(){return(0,Ps.jsxs)("div",{children:[(0,Ps.jsxs)("div",{className:"row1-container",children:[(0,Ps.jsxs)("div",{className:"box box-down cyan",children:[(0,Ps.jsx)("h2",{children:"Metodos de pago"}),(0,Ps.jsx)("p",{children:"Aceptamos distintos medios de pago tanto como tarjeta de debito, transferencia bancaria y efectivo(solo retiro en el local)."}),(0,Ps.jsx)("img",{className:"icon-section",src:n(894),alt:""})]}),(0,Ps.jsxs)("div",{className:"box red",children:[(0,Ps.jsx)("h2",{children:"Sobre Nosotros"}),(0,Ps.jsx)("p",{children:"Somos una empresa creada en 2021 dedicada a la venta de ropa de la cultura geek de la mejor calidad."}),(0,Ps.jsx)("img",{className:"icon-section",src:n(141),alt:""})]}),(0,Ps.jsxs)("div",{className:"box box-down blue",children:[(0,Ps.jsx)("h2",{children:"Busca"}),(0,Ps.jsx)("p",{children:"Encuentra las mejores prendas de la cultura geek."}),(0,Ps.jsx)("img",{className:"icon-section",src:"https://assets.codepen.io/2301174/icon-supervisor.svg",alt:""})]})]}),(0,Ps.jsx)("div",{className:"row2-container",children:(0,Ps.jsxs)("div",{className:"box orange",children:[(0,Ps.jsx)("h2",{children:"\xbfDonde estamos?"}),(0,Ps.jsxs)("p",{children:["Nos encontramos en Argentina, Mendoza. ",(0,Ps.jsx)(Pa,{to:"/home#map",children:" Ver en el mapa"})]}),(0,Ps.jsx)("img",{className:"icon-section",src:n(472),alt:""})]})}),(0,Ps.jsx)("hr",{})]})},xL=function(){return(0,Ps.jsxs)("div",{className:"home",children:[(0,Ps.jsx)(wL,{}),(0,Ps.jsx)(Vw,{}),(0,Ps.jsx)("hr",{}),(0,Ps.jsx)(bL,{})]})},kL=function(t){var n=t.loading,r=void 0!==n&&n,i=t.initial,o=t.stock,a=t.onAdd,s=k((0,e.useState)(i),2),u=s[0],l=s[1];return(0,Ps.jsxs)("div",{className:"item-count",children:[(0,Ps.jsxs)("div",{className:"item-count-buttons d-flex justify-content-between align-items-center",children:[(0,Ps.jsx)("button",{className:"btn btn-light",onClick:function(){l(u-1)},disabled:u<=0||o<=0,children:(0,Ps.jsx)(Vs,{className:u<=0?"icon-disabled":"icon-active"})}),(0,Ps.jsx)("h5",{className:"item-count-number",children:0!==u?u:0}),(0,Ps.jsx)("button",{className:"btn btn-light",onClick:function(){l(u+1)},disabled:u===o||o<=0,children:(0,Ps.jsx)(Us,{className:u===o?"icon-disabled":"icon-active"})})]}),(0,Ps.jsxs)("button",{className:"btn btn-primary btn-add-to-cart mt-2",onClick:function(){a(u)},disabled:u<=0||o<=0,children:["Agregar al carrito",r&&(0,Ps.jsx)(zs,{className:"loader-count"})]})]})};function EL(t){return Fa({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22"}}]})(t)}function SL(t){return Fa({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"7 2 17 12 7 22",transform:"matrix(-1 0 0 1 24 0)"}}]})(t)}var CL=function(t){var n=t.products,r=k((0,e.useState)((0,Ps.jsx)(Ps.Fragment,{})),2),i=r[0],o=r[1],a=k((0,e.useState)((0,Ps.jsx)(Ps.Fragment,{})),2),s=a[0],u=a[1],l=function(t,e){return(0,Ps.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ps.jsx)(Pa,{to:"/item/"+t.id+"#detail",children:(0,Ps.jsxs)("div",{className:"card",children:[(0,Ps.jsx)("img",{className:"img-fluid img-related",alt:"100%x280",src:t.pictureUrl}),(0,Ps.jsxs)("div",{className:"card-body",children:[(0,Ps.jsx)("h4",{className:"card-title",children:t.title}),(0,Ps.jsx)("p",{className:"card-text",children:t.description}),(0,Ps.jsx)("span",{style:{marginRight:"5px",fontSize:"15px",textDecoration:"line-through"},children:t.originalPrice!==t.price&&t.originalPrice+",00 ARS"}),t.price,", 00 ARS"]})]})})},e)};return(0,e.useEffect)((function(){if(n.length){var t=n.reduce((function(t,e,n){var r=Math.floor(n/3);return t[r]||(t[r]=[]),t[r].push(e),t}),[]);o(t[0].map((function(t,e){return l(t,e)}))),n.length>3&&u(t[1].map((function(t,e){return l(t,e)})))}}),[]),(0,Ps.jsx)("section",{className:"related-products-component",children:n.length?(0,Ps.jsx)("div",{className:"container",children:(0,Ps.jsxs)("div",{className:"row",children:[(0,Ps.jsx)("div",{className:"col-10",children:(0,Ps.jsx)("h3",{className:"mb-3",children:"Quienes vieron este producto tambi\xe9n compraron"})}),(0,Ps.jsxs)("div",{className:"col-2 text-right",children:[(0,Ps.jsx)("a",{className:"btn mb-3 mr-1","data-bs-target":"#carouselExampleIndicators2",role:"button","data-bs-slide":"prev",children:(0,Ps.jsx)(SL,{})}),(0,Ps.jsx)("a",{className:"btn mb-3 ","data-bs-target":"#carouselExampleIndicators2",role:"button","data-bs-slide":"next",children:(0,Ps.jsx)(EL,{})})]}),(0,Ps.jsx)("div",{className:"col-12",children:(0,Ps.jsx)("div",{id:"carouselExampleIndicators2",className:"carousel slide","data-ride":"carousel",children:(0,Ps.jsxs)("div",{className:"carousel-inner",children:[(0,Ps.jsx)("div",{className:"carousel-item active",children:(0,Ps.jsx)("div",{className:"row",children:i})}),(0,Ps.jsx)("div",{className:"carousel-item",children:(0,Ps.jsx)("div",{className:"row",children:s})})]})})})]})}):(0,Ps.jsx)(Ps.Fragment,{})})},TL=function(t){var n,r,i=t.item,o=t.products,a=Ns().addToCart,s=k((0,e.useState)(!1),2),u=s[0],l=s[1],c=k((0,e.useState)(null),2),h=c[0],f=c[1],d=function(t){l(!0),setTimeout((function(){try{a(i,t),l(!1),f(i),Rs.success("".concat(t>1?t+" productos a\xf1adidos a su carrito":" producto a\xf1adido a su carrito"),{position:Rs.POSITION.BOTTOM_RIGHT,theme:"colored"})}catch(e){l(!1),Rs.error("".concat(e.message),{position:Rs.POSITION.BOTTOM_RIGHT,theme:"colored"})}}),2e3)};return(0,Ps.jsxs)("div",{className:"card col-10 mx-auto mt-4 card-item-detail",children:[(0,Ps.jsxs)("div",{className:"row g-0 item-detail",children:[(0,Ps.jsx)("div",{className:"col-md-6",children:(0,Ps.jsx)("img",{src:i.pictureUrl,className:"item-detail-img",alt:"..."})}),(0,Ps.jsx)("div",{className:"col-md-6",children:(0,Ps.jsxs)("div",{className:"card-body",children:[(0,Ps.jsx)("h4",{className:"card-title",children:i.title}),(0,Ps.jsx)("nav",{"aria-label":"breadcrumb",children:(0,Ps.jsxs)("ol",{className:"breadcrumb",children:[(0,Ps.jsx)("li",{className:"breadcrumb-item",children:(0,Ps.jsx)(Pa,{to:"/home#productos",children:"Productos"})}),(0,Ps.jsx)("li",{className:"breadcrumb-item",children:(0,Ps.jsx)(Pa,{to:"/garment/".concat(null===(n=i.garment)||void 0===n?void 0:n.toLowerCase(),"#productos"),children:i.garment})}),(0,Ps.jsx)("li",{className:"breadcrumb-item",children:(0,Ps.jsx)(Pa,{to:"/category/".concat(i.category,"#productos"),children:null===(r=i.category)||void 0===r?void 0:r.trim().toLowerCase().replace(/(^|\s)\S/g,(function(t){return t.toUpperCase()}))})}),(0,Ps.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:i.title})]})}),(0,Ps.jsxs)("h5",{className:"card-text",children:[(0,Ps.jsx)("span",{style:{marginRight:"5px",fontSize:"15px",textDecoration:"line-through"},children:i.originalPrice!==i.price&&i.originalPrice+",00 ARS"}),i.price,", 00 ARS"]}),(0,Ps.jsxs)("p",{className:"card-text",children:["Categoria: ",i.category]}),(0,Ps.jsx)("p",{className:"card-text",children:i.description}),i.stock>0?(0,Ps.jsx)("p",{className:"card-text text-success",children:(0,Ps.jsxs)("span",{className:"badge bg-success",children:[i.stock," disponibles"]})}):(0,Ps.jsx)("p",{className:"card-text text-danger",children:(0,Ps.jsx)("span",{className:"badge bg-danger",children:" No hay existencias disponibles"})}),!u&!h?(0,Ps.jsx)(kL,{className:"item-count",stock:i.stock,initial:1,onAdd:d}):h?(0,Ps.jsx)("div",{className:"d-grid gap-2",children:(0,Ps.jsx)(Pa,{className:"btn btn-block btn-outline-success btn-lg",to:"/cart",children:"Finalizar compra"})}):(0,Ps.jsx)(kL,{className:"item-count",loading:u,stock:i.stock,initial:1,onAdd:d})]})})]}),(0,Ps.jsx)(CL,{products:o})]})},IL=function(){var t=k((0,e.useState)({}),2),n=t[0],r=t[1],i=k((0,e.useState)([]),2),o=i[0],a=i[1],s=k((0,e.useState)(!0),2),u=s[0],l=s[1],c=ta().id;(0,e.useEffect)((function(){try{var t=function(){var t=Zs($s().mark((function t(){var e,n;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tw(c);case 2:if(!(e=t.sent)){t.next=10;break}return t.next=6,Aw(c,e.category);case 6:n=t.sent,a(n),t.next=11;break;case 10:a([]);case 11:l(!1),r(e);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();window.scrollTo(0,0),l(!0),a([]),t()}catch(e){console.log("Error",e),l(!1)}}),[c]);return(0,Ps.jsxs)("div",{className:"item-detail-container",children:[(0,Ps.jsx)(jw,{isLoading:u}),!u&&(n?(0,Ps.jsx)(TL,{item:n,products:o}):(0,Ps.jsx)("h1",{children:"No se encontraron resultados =("}))]})},OL=function(){return(0,Ps.jsx)("div",{className:"not-found",children:(0,Ps.jsxs)("div",{class:"jumbotron",children:[(0,Ps.jsx)("img",{src:n(583),alt:""}),(0,Ps.jsx)("hr",{class:"my-4"}),(0,Ps.jsx)("p",{children:"Lo sentimos no hemos encontrado la p\xe1gina que busca."}),(0,Ps.jsx)(wa,{className:"btn btn-primary btn-lg",to:"/home",children:"Volver al home"})]})})},AL=function(t){var e=t.message,n=t.callbackFunction;return(0,Ps.jsxs)("div",{children:[(0,Ps.jsx)("p",{children:e}),(0,Ps.jsx)("button",{className:"btn btn-outline-primary btn-sm me-2",onClick:function(){n()},children:"Confirmar"}),(0,Ps.jsx)("button",{className:"btn btn-outline-danger btn-sm",children:"Cancelar"})]})},RL=function(){return(0,Ps.jsxs)("div",{className:"empty-cart jumbotron",children:[(0,Ps.jsxs)("h1",{className:"empty-cart-title display-4",children:[(0,Ps.jsx)(Va,{className:"empty-cart-icon"}),(0,Ps.jsx)(Bs,{className:"empty-question"})]}),(0,Ps.jsx)("p",{className:"lead",children:"Usted no tiene productos agregados a su carrito."}),(0,Ps.jsx)("hr",{className:"my-4"}),(0,Ps.jsx)(Pa,{to:"/#productos",children:(0,Ps.jsx)("button",{className:"btn btn-primary",style:{marginRight:"10px"},children:"Ver productos"})})]})};function PL(t){return Fa({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 4V2h10v2h5v2h-2v15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6H2V4h5zM6 6v14h12V6H6zm3 3h2v8H9V9zm4 0h2v8h-2V9z"}}]}]})(t)}var LL=function(){var t=k((0,e.useState)(""),2),n=t[0],r=t[1],i=k((0,e.useState)(""),2),o=i[0],a=i[1],u=k((0,e.useState)(!1),2),l=u[0],c=u[1],h=k((0,e.useState)(""),2),f=h[0],d=h[1],p=k((0,e.useState)(""),2),v=p[0],g=p[1],y=k((0,e.useState)(!1),2),m=y[0],_=y[1],b=k((0,e.useState)(""),2),w=b[0],x=b[1],E=k((0,e.useState)(""),2),S=E[0],C=E[1],T=k((0,e.useState)(!1),2),I=T[0],O=T[1],A=k((0,e.useState)(!1),2),R=(A[0],A[1]),P=Ns(),L=P.cartList,N=P.removeItem,D=P.cleanCart,M=P.totalPrice,j=P.countTotalPrice,F=L.map((function(t,e){return(0,Ps.jsx)("div",{className:"row border-top mt-4 mb-4",children:(0,Ps.jsxs)("div",{className:"row main align-items-center",children:[(0,Ps.jsxs)("div",{className:"col-2 position-relative",children:[(0,Ps.jsxs)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-success",children:[t.quantity,"+"]}),(0,Ps.jsx)("img",{className:"cart-item-img",src:t.item.pictureUrl})]}),(0,Ps.jsxs)("div",{className:"col-6",children:[(0,Ps.jsx)("div",{className:"row text-muted",children:t.item.garment}),(0,Ps.jsxs)(Pa,{className:"row",to:"/item/"+t.item.id,children:[" ",t.item.title]})]}),(0,Ps.jsx)("div",{className:"col-2",children:(0,Ps.jsxs)("span",{children:[t.item.price," ARS"]})}),(0,Ps.jsxs)("div",{className:"col-1 td-delete-icon",onClick:function(){V(t.item)},children:[" ",(0,Ps.jsxs)("button",{className:"btn",children:[" ",(0,Ps.jsx)(PL,{className:"btn-delete-icon"})," "]})," "]})]})})}));(0,e.useEffect)((function(){j()}),[]);var z=function(){var t=Zs($s().mark((function t(e){var r,i;return $s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.preventDefault(),r={nombre:n,email:f,phone:w},R(!0),t.next=6,Dw(L,M,r);case 6:i=t.sent,R(!1),D(),Rs.success("Orden creada con \xe9xito, el id de su orden es ".concat(i.id),{position:Rs.POSITION.BOTTOM_RIGHT,theme:"colored"}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("Error",t.t0),R(!1),Rs.error("Ocurri\xf3 un error y no pudimos crear su orden!",{position:Rs.POSITION.BOTTOM_RIGHT,theme:"colored",autoClose:15e3});case 17:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),V=function(t){Rs.info((0,Ps.jsx)(AL,{message:"\xbfDesea eliminar el item?",callbackFunction:function(){N(t)}}),s({position:Rs.POSITION.BOTTOM_RIGHT,autoClose:!1,theme:"light"},"autoClose",5e3))},U=function(t,e){switch(t){case"email":if(g(""),_(!0),e.trim().length<6){g("El email tiene un minimo de 6 caracteres"),_(!1);break}if(e.trim().length>40){g("El email tiene un maximo de 40 caracteres"),_(!1);break}if(!e.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){g("El email no es valido"),_(!1);break}break;case"name":if(a(""),c(!0),e.trim().length<6){a("El nombre tiene un minimo de 6 caracteres"),c(!1);break}if(e.trim().length>20){a("El nombre tiene un maximo de 20 caracteres"),c(!1);break}break;case"phone":if(C(""),O(!0),10!=e.trim().length){C("El telefono debe tener 10 caracteres"),O(!1);break}if(!e.trim().match(/^261([1-9])/i)){C("El telefono no es valido, debe empezar con 261"),O(!1);break}}};return(0,Ps.jsxs)(Ps.Fragment,{children:[L.length>0&&(0,Ps.jsxs)("div",{className:"cart container col-12 row",children:[(0,Ps.jsxs)("div",{className:"cart-items col-8",children:[(0,Ps.jsx)("h3",{children:"Carrito de compras"}),(0,Ps.jsx)(Pa,{to:"/home#productos",className:"me-2",children:(0,Ps.jsx)("button",{className:"btn btn-outline-primary",children:"Seguir comprando"})}),(0,Ps.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){Rs.info((0,Ps.jsx)(AL,{message:"\xbfDesea eliminar todos los items de su carrito?",callbackFunction:D}),s({position:Rs.POSITION.BOTTOM_RIGHT,autoClose:!1,theme:"light"},"autoClose",5e3))},children:"Limpiar carrito"}),F]}),(0,Ps.jsxs)("div",{className:"cart-checkout col-4",children:[(0,Ps.jsx)("h3",{children:"Checkout"}),(0,Ps.jsxs)("form",{className:"form-checkout needs-validation",children:[(0,Ps.jsxs)("div",{className:"mb-3",children:[(0,Ps.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nombre"}),(0,Ps.jsx)("input",{type:"text",name:"name",className:l?"form-control is-valid":"form-control is-invalid",id:"name",placeholder:"jhon doe",value:n,onChange:function(t){return function(t){r(t.target.value),U(t.target.name,t.target.value)}(t)},required:!0}),(0,Ps.jsx)("p",{className:"text-danger mb-3",children:o})]}),(0,Ps.jsxs)("div",{className:"mb-3",children:[(0,Ps.jsx)("label",{htmlFor:"email",className:"form-label",children:"Direcci\xf3n email"}),(0,Ps.jsx)("input",{type:"email",name:"email",className:m?"form-control is-valid":"form-control is-invalid",id:"email",placeholder:"usuario@gmail.com","aria-describedby":"emailHelp",value:f,onChange:function(t){return function(t){d(t.target.value),U(t.target.name,t.target.value)}(t)},required:!0}),(0,Ps.jsx)("p",{className:"text-danger mb-3",children:v})]}),(0,Ps.jsxs)("div",{className:"mb-3",children:[(0,Ps.jsx)("label",{htmlFor:"phone",className:"form-label",children:"N\xfamero de telefono (+54)"}),(0,Ps.jsx)("input",{type:"text",name:"phone",className:I?"form-control is-valid":"form-control is-invalid",id:"phone",placeholder:"Ejemplo. 2615179901",value:w,onChange:function(t){return function(t){x(t.target.value),U(t.target.name,t.target.value)}(t)},required:!0}),(0,Ps.jsx)("p",{className:"text-danger mb-3",children:S})]}),(0,Ps.jsxs)("h5",{className:"mb-3",children:["Total: ",M," ARS"]}),(0,Ps.jsx)("div",{className:"d-grid gap-2",children:(0,Ps.jsx)("button",{type:"submit",className:m&&l&&I?"btn btn-outline-success":"btn btn-outline-secondary",onClick:function(t){z(t)},disabled:!m||!l||!I,children:"Crear orden"})})]})]})]}),0===L.length&&(0,Ps.jsx)(RL,{})]})},NL=function(){var t=k((0,e.useState)(!0),2),n=t[0],r=t[1],i=k((0,e.useState)([]),2),o=i[0],a=i[1],s=Qo().search,u=new URLSearchParams(s).get("query");(0,e.useEffect)((function(){r(!0),Pw(u).then((function(t){r(!1),a(t)}))}),[u]);var l=o.map((function(t,e){return(0,Ps.jsx)(Fw,{item:t},e)}));return(0,Ps.jsxs)("div",{className:"search",children:[(0,Ps.jsxs)("h5",{className:"result",children:['Resultados de la busqueda de "',u,'"']}),n?(0,Ps.jsx)(jw,{isLoading:n}):o.length?l:(0,Ps.jsx)("h1",{className:"no-result",children:"No se encontraron datos"})]})},DL=function(){return(0,Ps.jsx)(ba,{children:(0,Ps.jsxs)(Ds,{children:[(0,Ps.jsx)(Gs,{}),(0,Ps.jsxs)(Xo,{children:[(0,Ps.jsx)(Ho,{exact:!0,path:"/",element:(0,Ps.jsx)(xL,{})}),(0,Ps.jsx)(Ho,{exact:!0,path:"/home",element:(0,Ps.jsx)(xL,{})}),(0,Ps.jsx)(Ho,{exact:!0,path:"/category/:idCategory",element:(0,Ps.jsx)(xL,{})}),(0,Ps.jsx)(Ho,{exact:!0,path:"/garment/:idGarment",element:(0,Ps.jsx)(xL,{})}),(0,Ps.jsx)(Ho,{path:"/item/:id",element:(0,Ps.jsx)(IL,{})}),(0,Ps.jsx)(Ho,{path:"/search",element:(0,Ps.jsx)(NL,{})}),(0,Ps.jsx)(Ho,{path:"/cart",element:(0,Ps.jsx)(LL,{})}),(0,Ps.jsx)(Ho,{path:"*",element:(0,Ps.jsx)(OL,{})})]}),(0,Ps.jsx)(Xs,{}),(0,Ps.jsx)(_s,{})]})})};Bu("firebase","9.6.6","app");!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof e){var n=e;e={name:n}}var r=Object.assign({name:Au,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw zu.create("bad-app-name",{appName:String(i)});var o=Pu.get(i);if(o){if(lu(t,o.options)&&lu(r,o.config))return o;throw zu.create("duplicate-app",{appName:i})}var a,s=new yu(i),u=tu(Lu.values());try{for(u.s();!(a=u.n()).done;){var l=a.value;s.addComponent(l)}}catch(h){u.e(h)}finally{u.f()}var c=new Vu(t,r,s);Pu.set(i,c)}({apiKey:"AIzaSyCZ_ZGxsZq_mb4AgvI0hq7rIS227iwGOIQ",authDomain:"geek-ecommerce.firebaseapp.com",projectId:"geek-ecommerce",storageBucket:"geek-ecommerce.appspot.com",messagingSenderId:"650099143241",appId:"1:650099143241:web:e9136853bf2d7ec6bec598"});r.render((0,Ps.jsx)(e.StrictMode,{children:(0,Ps.jsx)(DL,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.07c43c5e.js.map